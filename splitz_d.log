2023-10-22 12:58:16 INFO     Migrations complete
2023-10-22 20:12:51 INFO     -- BEGIN Twilio API Request --
2023-10-22 20:12:51 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-22 20:12:51 INFO     Headers:
2023-10-22 20:12:51 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 20:12:51 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 20:12:51 INFO     Accept-Charset : utf-8
2023-10-22 20:12:51 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 20:12:51 INFO     Accept : application/json
2023-10-22 20:12:51 INFO     -- END Twilio API Request --
2023-10-22 20:12:51 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-10-22 20:12:52 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-22 20:12:52 INFO     Response Status Code: 201
2023-10-22 20:12:52 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 03:12:52 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQa8a2111773de53d5ad282b5473bfd7f5', 'Twilio-Request-Duration': '0.157', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 20:12:52 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-22 20:13:05 INFO     -- BEGIN Twilio API Request --
2023-10-22 20:13:05 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 20:13:05 INFO     Headers:
2023-10-22 20:13:05 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 20:13:05 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 20:13:05 INFO     Accept-Charset : utf-8
2023-10-22 20:13:05 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 20:13:05 INFO     Accept : application/json
2023-10-22 20:13:05 INFO     -- END Twilio API Request --
2023-10-22 20:13:05 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 20:13:05 INFO     Response Status Code: 200
2023-10-22 20:13:05 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 03:13:05 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe29188ef92f058fd6d26310ac2f44e8e', 'Twilio-Request-Duration': '0.031', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 20:13:05 INFO     user.services.check_verification(): User OTP successful
2023-10-22 20:13:05 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-22 20:13:05 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-22 20:13:05 INFO     user.services.get_user(): Sucessfully queried record
2023-10-22 22:36:18 INFO     -- BEGIN Twilio API Request --
2023-10-22 22:36:18 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-22 22:36:18 INFO     Headers:
2023-10-22 22:36:18 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 22:36:18 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 22:36:18 INFO     Accept-Charset : utf-8
2023-10-22 22:36:18 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 22:36:18 INFO     Accept : application/json
2023-10-22 22:36:18 INFO     -- END Twilio API Request --
2023-10-22 22:36:18 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-22 22:36:19 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-22 22:36:19 INFO     Response Status Code: 201
2023-10-22 22:36:19 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 05:36:19 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQc29d26bc3d02a598da4bdb0e0dd855a8', 'Twilio-Request-Duration': '0.159', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 22:36:19 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-22 22:37:27 INFO     -- BEGIN Twilio API Request --
2023-10-22 22:37:27 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 22:37:27 INFO     Headers:
2023-10-22 22:37:27 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 22:37:27 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 22:37:27 INFO     Accept-Charset : utf-8
2023-10-22 22:37:27 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 22:37:27 INFO     Accept : application/json
2023-10-22 22:37:27 INFO     -- END Twilio API Request --
2023-10-22 22:37:27 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-22 22:37:27 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 22:37:27 INFO     Response Status Code: 200
2023-10-22 22:37:27 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 05:37:27 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ9ca144d3dd92aba707b8ae6ce384f9cd', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 22:37:27 INFO     user.services.check_verification(): User OTP successful
2023-10-22 22:37:27 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-22 22:37:27 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-22 22:37:27 INFO     user.services.get_user(): Sucessfully queried record
2023-10-22 22:40:38 INFO     -- BEGIN Twilio API Request --
2023-10-22 22:40:38 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-22 22:40:38 INFO     Headers:
2023-10-22 22:40:38 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 22:40:38 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 22:40:38 INFO     Accept-Charset : utf-8
2023-10-22 22:40:38 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 22:40:38 INFO     Accept : application/json
2023-10-22 22:40:38 INFO     -- END Twilio API Request --
2023-10-22 22:40:39 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-22 22:40:39 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-22 22:40:39 INFO     Response Status Code: 201
2023-10-22 22:40:39 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 05:40:39 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe807129c3300fe361e197545d9f67576', 'Twilio-Request-Duration': '0.135', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 22:40:39 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-22 22:40:51 INFO     -- BEGIN Twilio API Request --
2023-10-22 22:40:51 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 22:40:51 INFO     Headers:
2023-10-22 22:40:51 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 22:40:51 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 22:40:51 INFO     Accept-Charset : utf-8
2023-10-22 22:40:51 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 22:40:51 INFO     Accept : application/json
2023-10-22 22:40:51 INFO     -- END Twilio API Request --
2023-10-22 22:40:51 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 22:40:51 INFO     Response Status Code: 200
2023-10-22 22:40:51 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 05:40:51 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ16a98fd4e5293425eef4915de973015e', 'Twilio-Request-Duration': '0.032', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 22:40:51 INFO     user.services.check_verification(): User OTP successful
2023-10-22 22:40:51 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-22 22:40:51 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-22 22:40:51 INFO     user.services.get_user(): Sucessfully queried record
2023-10-22 22:59:23 INFO     Migrations complete
2023-10-22 22:59:55 INFO     -- BEGIN Twilio API Request --
2023-10-22 22:59:55 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-22 22:59:55 INFO     Headers:
2023-10-22 22:59:55 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 22:59:55 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 22:59:55 INFO     Accept-Charset : utf-8
2023-10-22 22:59:55 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 22:59:55 INFO     Accept : application/json
2023-10-22 22:59:55 INFO     -- END Twilio API Request --
2023-10-22 22:59:55 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-10-22 22:59:56 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-22 22:59:56 INFO     Response Status Code: 201
2023-10-22 22:59:56 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 05:59:56 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQf4c88a56ddc845c59e71f57540cacc4d', 'Twilio-Request-Duration': '0.161', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 22:59:56 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-22 23:00:09 INFO     -- BEGIN Twilio API Request --
2023-10-22 23:00:09 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 23:00:09 INFO     Headers:
2023-10-22 23:00:09 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 23:00:09 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 23:00:09 INFO     Accept-Charset : utf-8
2023-10-22 23:00:09 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 23:00:09 INFO     Accept : application/json
2023-10-22 23:00:09 INFO     -- END Twilio API Request --
2023-10-22 23:00:09 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 23:00:09 INFO     Response Status Code: 200
2023-10-22 23:00:09 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 06:00:09 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ38420d0b27eaec0cdc7bbc291c3d38e5', 'Twilio-Request-Duration': '0.059', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 23:00:09 INFO     user.services.check_verification(): User OTP successful
2023-10-22 23:00:09 ERROR    user.services.get_user_by_phone_number(): Unable to locate record with given parameters
2023-10-22 23:00:09 INFO     user.services.get_user(): User created sucessfully
2023-10-22 23:00:09 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-22 23:00:09 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-22 23:00:09 INFO     user.services.get_user(): Sucessfully queried record
2023-10-22 23:19:37 INFO     Migrations complete
2023-10-22 23:22:30 INFO     -- BEGIN Twilio API Request --
2023-10-22 23:22:30 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-22 23:22:30 INFO     Headers:
2023-10-22 23:22:30 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 23:22:30 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 23:22:30 INFO     Accept-Charset : utf-8
2023-10-22 23:22:30 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 23:22:30 INFO     Accept : application/json
2023-10-22 23:22:30 INFO     -- END Twilio API Request --
2023-10-22 23:22:30 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-10-22 23:22:31 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-22 23:22:31 INFO     Response Status Code: 201
2023-10-22 23:22:31 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 06:22:31 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ0b2f513a1c8a3d922aa5ecb38422ba21', 'Twilio-Request-Duration': '0.171', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 23:22:31 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-22 23:22:43 INFO     -- BEGIN Twilio API Request --
2023-10-22 23:22:43 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 23:22:43 INFO     Headers:
2023-10-22 23:22:43 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 23:22:43 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 23:22:43 INFO     Accept-Charset : utf-8
2023-10-22 23:22:43 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 23:22:43 INFO     Accept : application/json
2023-10-22 23:22:43 INFO     -- END Twilio API Request --
2023-10-22 23:22:44 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 23:22:44 INFO     Response Status Code: 200
2023-10-22 23:22:44 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 06:22:44 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ0c764682519644dddcaf45869d0b4fcb', 'Twilio-Request-Duration': '0.029', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 23:22:44 ERROR    user.services.check_verification(): User could not be approved (incorrect OTP)
2023-10-22 23:24:31 INFO     -- BEGIN Twilio API Request --
2023-10-22 23:24:31 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 23:24:31 INFO     Headers:
2023-10-22 23:24:31 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 23:24:31 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 23:24:31 INFO     Accept-Charset : utf-8
2023-10-22 23:24:31 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 23:24:31 INFO     Accept : application/json
2023-10-22 23:24:31 INFO     -- END Twilio API Request --
2023-10-22 23:24:31 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-22 23:24:31 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 23:24:31 INFO     Response Status Code: 200
2023-10-22 23:24:31 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 06:24:31 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ0b118c315348b91fe3e3fe77c3db1e11', 'Twilio-Request-Duration': '0.024', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 23:24:31 ERROR    user.services.check_verification(): User could not be approved (incorrect OTP)
2023-10-22 23:24:32 INFO     -- BEGIN Twilio API Request --
2023-10-22 23:24:32 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 23:24:32 INFO     Headers:
2023-10-22 23:24:32 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 23:24:32 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 23:24:32 INFO     Accept-Charset : utf-8
2023-10-22 23:24:32 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 23:24:32 INFO     Accept : application/json
2023-10-22 23:24:32 INFO     -- END Twilio API Request --
2023-10-22 23:24:32 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 23:24:32 INFO     Response Status Code: 200
2023-10-22 23:24:32 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 06:24:32 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQd8942368fc6c3a8350a5b3a9edd0e380', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 23:24:32 ERROR    user.services.check_verification(): User could not be approved (incorrect OTP)
2023-10-22 23:25:07 INFO     Migrations complete
2023-10-22 23:25:12 INFO     -- BEGIN Twilio API Request --
2023-10-22 23:25:12 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-22 23:25:12 INFO     Headers:
2023-10-22 23:25:12 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-22 23:25:12 INFO     X-Twilio-Client : python-8.5.0
2023-10-22 23:25:12 INFO     Accept-Charset : utf-8
2023-10-22 23:25:12 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-22 23:25:12 INFO     Accept : application/json
2023-10-22 23:25:12 INFO     -- END Twilio API Request --
2023-10-22 23:25:12 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-10-22 23:25:13 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-22 23:25:13 INFO     Response Status Code: 200
2023-10-22 23:25:13 INFO     Response Headers: {'Date': 'Mon, 23 Oct 2023 06:25:13 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ869dcc6bb0fbda9e6fc90b62d944634a', 'Twilio-Request-Duration': '0.028', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-22 23:25:13 ERROR    user.services.check_verification(): User could not be approved (incorrect OTP)
2023-10-23 20:27:29 INFO     -- BEGIN Twilio API Request --
2023-10-23 20:27:29 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-23 20:27:29 INFO     Headers:
2023-10-23 20:27:29 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 20:27:29 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 20:27:29 INFO     Accept-Charset : utf-8
2023-10-23 20:27:29 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 20:27:29 INFO     Accept : application/json
2023-10-23 20:27:29 INFO     -- END Twilio API Request --
2023-10-23 20:27:29 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-23 20:27:30 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-23 20:27:30 INFO     Response Status Code: 201
2023-10-23 20:27:30 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 03:27:30 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe87427a8622efcf4f13501fe40a76794', 'Twilio-Request-Duration': '0.153', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 20:27:30 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-23 20:27:41 INFO     -- BEGIN Twilio API Request --
2023-10-23 20:27:41 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-23 20:27:41 INFO     Headers:
2023-10-23 20:27:41 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 20:27:41 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 20:27:41 INFO     Accept-Charset : utf-8
2023-10-23 20:27:41 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 20:27:41 INFO     Accept : application/json
2023-10-23 20:27:41 INFO     -- END Twilio API Request --
2023-10-23 20:27:42 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-23 20:27:42 INFO     Response Status Code: 200
2023-10-23 20:27:42 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 03:27:42 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ9be8a0cb6cd8fd0a009782f2b05d267a', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 20:27:42 INFO     user.services.check_verification(): User OTP successful
2023-10-23 20:27:42 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-23 20:27:42 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-23 20:27:42 INFO     user.services.get_user(): Sucessfully queried record
2023-10-23 20:47:12 INFO     -- BEGIN Twilio API Request --
2023-10-23 20:47:12 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-23 20:47:12 INFO     Headers:
2023-10-23 20:47:12 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 20:47:12 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 20:47:12 INFO     Accept-Charset : utf-8
2023-10-23 20:47:12 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 20:47:12 INFO     Accept : application/json
2023-10-23 20:47:12 INFO     -- END Twilio API Request --
2023-10-23 20:47:12 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-23 20:47:13 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-23 20:47:13 INFO     Response Status Code: 201
2023-10-23 20:47:13 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 03:47:13 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ7f622bb032a858d0d3dccd1a6e06c8d2', 'Twilio-Request-Duration': '0.159', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 20:47:13 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-23 20:47:28 INFO     -- BEGIN Twilio API Request --
2023-10-23 20:47:28 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-23 20:47:28 INFO     Headers:
2023-10-23 20:47:28 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 20:47:28 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 20:47:28 INFO     Accept-Charset : utf-8
2023-10-23 20:47:28 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 20:47:28 INFO     Accept : application/json
2023-10-23 20:47:28 INFO     -- END Twilio API Request --
2023-10-23 20:47:28 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-23 20:47:28 INFO     Response Status Code: 200
2023-10-23 20:47:28 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 03:47:28 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ661f1705600146066954d5b0a9e911cf', 'Twilio-Request-Duration': '0.027', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 20:47:28 INFO     user.services.check_verification(): User OTP successful
2023-10-23 20:47:28 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-23 20:47:28 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-23 20:47:28 INFO     user.services.get_user(): Sucessfully queried record
2023-10-23 21:09:22 INFO     user.services.get_user(): Sucessfully queried record
2023-10-23 21:09:22 INFO     user.services.update_user(): User updated sucessfully
2023-10-23 21:09:43 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:09:43 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-23 21:09:43 INFO     Headers:
2023-10-23 21:09:43 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:09:43 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:09:43 INFO     Accept-Charset : utf-8
2023-10-23 21:09:43 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:09:43 INFO     Accept : application/json
2023-10-23 21:09:43 INFO     -- END Twilio API Request --
2023-10-23 21:09:43 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-23 21:09:43 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-23 21:09:43 INFO     Response Status Code: 201
2023-10-23 21:09:43 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:09:43 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ36216cbc89fea0f1ea10b88e68ff9f08', 'Twilio-Request-Duration': '0.150', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:09:43 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-23 21:10:01 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:10:01 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-23 21:10:01 INFO     Headers:
2023-10-23 21:10:01 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:10:01 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:10:01 INFO     Accept-Charset : utf-8
2023-10-23 21:10:01 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:10:01 INFO     Accept : application/json
2023-10-23 21:10:01 INFO     -- END Twilio API Request --
2023-10-23 21:10:01 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-23 21:10:01 INFO     Response Status Code: 200
2023-10-23 21:10:01 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:10:01 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ45f108ce8719204530350ddf88fce35f', 'Twilio-Request-Duration': '0.028', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:10:01 INFO     user.services.check_verification(): User OTP successful
2023-10-23 21:10:01 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-23 21:10:01 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-23 21:10:01 INFO     user.services.get_user(): Sucessfully queried record
2023-10-23 21:30:27 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:30:27 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-23 21:30:27 INFO     Headers:
2023-10-23 21:30:27 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:30:27 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:30:27 INFO     Accept-Charset : utf-8
2023-10-23 21:30:27 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:30:27 INFO     Accept : application/json
2023-10-23 21:30:27 INFO     -- END Twilio API Request --
2023-10-23 21:30:27 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-23 21:30:28 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-23 21:30:28 INFO     Response Status Code: 201
2023-10-23 21:30:28 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:30:28 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ73a0caa62b11aa29c940afe43ebb9054', 'Twilio-Request-Duration': '0.149', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:30:28 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-23 21:30:43 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:30:43 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-23 21:30:43 INFO     Headers:
2023-10-23 21:30:43 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:30:43 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:30:43 INFO     Accept-Charset : utf-8
2023-10-23 21:30:43 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:30:43 INFO     Accept : application/json
2023-10-23 21:30:43 INFO     -- END Twilio API Request --
2023-10-23 21:30:43 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-23 21:30:43 INFO     Response Status Code: 200
2023-10-23 21:30:43 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:30:43 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe74607284c819b51ee2b82723717847e', 'Twilio-Request-Duration': '0.028', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:30:43 INFO     user.services.check_verification(): User OTP successful
2023-10-23 21:30:43 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-23 21:30:43 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-23 21:30:43 INFO     user.services.get_user(): Sucessfully queried record
2023-10-23 21:32:13 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:32:13 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-23 21:32:13 INFO     Headers:
2023-10-23 21:32:13 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:32:13 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:32:13 INFO     Accept-Charset : utf-8
2023-10-23 21:32:13 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:32:13 INFO     Accept : application/json
2023-10-23 21:32:13 INFO     -- END Twilio API Request --
2023-10-23 21:32:13 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-23 21:32:14 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-23 21:32:14 INFO     Response Status Code: 201
2023-10-23 21:32:14 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:32:14 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ18b0d50c9ac31adc2d670a171f2df2a1', 'Twilio-Request-Duration': '0.129', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:32:14 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-23 21:32:31 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:32:31 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-23 21:32:31 INFO     Headers:
2023-10-23 21:32:31 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:32:31 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:32:31 INFO     Accept-Charset : utf-8
2023-10-23 21:32:31 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:32:31 INFO     Accept : application/json
2023-10-23 21:32:31 INFO     -- END Twilio API Request --
2023-10-23 21:32:31 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-23 21:32:31 INFO     Response Status Code: 200
2023-10-23 21:32:31 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:32:31 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQbe537920162228b0f28b2fef01a389f0', 'Twilio-Request-Duration': '0.025', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:32:31 INFO     user.services.check_verification(): User OTP successful
2023-10-23 21:32:31 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-23 21:32:31 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-23 21:32:31 INFO     user.services.get_user(): Sucessfully queried record
2023-10-23 21:33:44 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:33:44 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-23 21:33:44 INFO     Headers:
2023-10-23 21:33:44 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:33:44 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:33:44 INFO     Accept-Charset : utf-8
2023-10-23 21:33:44 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:33:44 INFO     Accept : application/json
2023-10-23 21:33:44 INFO     -- END Twilio API Request --
2023-10-23 21:33:44 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-23 21:33:45 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-23 21:33:45 INFO     Response Status Code: 201
2023-10-23 21:33:45 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:33:45 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ90834f93b660b12dd51b7aaad6ce1e74', 'Twilio-Request-Duration': '0.145', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:33:45 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-23 21:34:00 INFO     -- BEGIN Twilio API Request --
2023-10-23 21:34:00 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-23 21:34:00 INFO     Headers:
2023-10-23 21:34:00 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 21:34:00 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 21:34:00 INFO     Accept-Charset : utf-8
2023-10-23 21:34:00 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 21:34:00 INFO     Accept : application/json
2023-10-23 21:34:00 INFO     -- END Twilio API Request --
2023-10-23 21:34:00 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-23 21:34:00 INFO     Response Status Code: 200
2023-10-23 21:34:00 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 04:34:00 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ59c7447dce9b7215d4c1525699b2974b', 'Twilio-Request-Duration': '0.025', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 21:34:00 INFO     user.services.check_verification(): User OTP successful
2023-10-23 21:34:00 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-23 21:34:00 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-23 21:34:00 INFO     user.services.get_user(): Sucessfully queried record
2023-10-23 22:42:41 INFO     -- BEGIN Twilio API Request --
2023-10-23 22:42:41 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-23 22:42:41 INFO     Headers:
2023-10-23 22:42:41 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 22:42:41 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 22:42:41 INFO     Accept-Charset : utf-8
2023-10-23 22:42:41 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 22:42:41 INFO     Accept : application/json
2023-10-23 22:42:41 INFO     -- END Twilio API Request --
2023-10-23 22:42:41 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-23 22:42:41 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-23 22:42:41 INFO     Response Status Code: 201
2023-10-23 22:42:41 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 05:42:41 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe678877b43176e354d939c09ca8ba78d', 'Twilio-Request-Duration': '0.136', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 22:42:41 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-23 22:42:50 INFO     -- BEGIN Twilio API Request --
2023-10-23 22:42:50 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-23 22:42:50 INFO     Headers:
2023-10-23 22:42:50 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-23 22:42:50 INFO     X-Twilio-Client : python-8.5.0
2023-10-23 22:42:50 INFO     Accept-Charset : utf-8
2023-10-23 22:42:50 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-23 22:42:50 INFO     Accept : application/json
2023-10-23 22:42:50 INFO     -- END Twilio API Request --
2023-10-23 22:42:51 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-23 22:42:51 INFO     Response Status Code: 200
2023-10-23 22:42:51 INFO     Response Headers: {'Date': 'Tue, 24 Oct 2023 05:42:51 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ5bb34b80ad9d4cf641c7a2c19a2ccf14', 'Twilio-Request-Duration': '0.025', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-23 22:42:51 INFO     user.services.check_verification(): User OTP successful
2023-10-23 22:42:51 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-23 22:42:51 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-23 22:42:51 INFO     user.services.get_user(): Sucessfully queried record
2023-10-24 21:12:40 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:12:40 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-24 21:12:40 INFO     Headers:
2023-10-24 21:12:40 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:12:40 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:12:40 INFO     Accept-Charset : utf-8
2023-10-24 21:12:40 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:12:40 INFO     Accept : application/json
2023-10-24 21:12:40 INFO     -- END Twilio API Request --
2023-10-24 21:12:40 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-24 21:12:41 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-24 21:12:41 INFO     Response Status Code: 201
2023-10-24 21:12:41 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:12:41 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQd22db9d0a1023fbecd327ff1fde7d285', 'Twilio-Request-Duration': '0.148', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:12:41 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-24 21:12:52 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:12:52 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-24 21:12:52 INFO     Headers:
2023-10-24 21:12:52 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:12:52 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:12:52 INFO     Accept-Charset : utf-8
2023-10-24 21:12:52 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:12:52 INFO     Accept : application/json
2023-10-24 21:12:52 INFO     -- END Twilio API Request --
2023-10-24 21:12:52 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-24 21:12:52 INFO     Response Status Code: 200
2023-10-24 21:12:52 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:12:52 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQb328c082d2640f11118f6ad4364fb877', 'Twilio-Request-Duration': '0.029', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:12:52 INFO     user.services.check_verification(): User OTP successful
2023-10-24 21:12:52 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-24 21:12:52 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-24 21:12:52 INFO     user.services.get_user(): Sucessfully queried record
2023-10-24 21:18:53 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:18:53 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-24 21:18:53 INFO     Headers:
2023-10-24 21:18:53 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:18:53 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:18:53 INFO     Accept-Charset : utf-8
2023-10-24 21:18:53 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:18:53 INFO     Accept : application/json
2023-10-24 21:18:53 INFO     -- END Twilio API Request --
2023-10-24 21:18:53 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-24 21:18:53 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-24 21:18:53 INFO     Response Status Code: 201
2023-10-24 21:18:53 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:18:53 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ120427a360bb6e76667b09d6d2874bc8', 'Twilio-Request-Duration': '0.144', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:18:53 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-24 21:19:05 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:19:05 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-24 21:19:05 INFO     Headers:
2023-10-24 21:19:05 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:19:05 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:19:05 INFO     Accept-Charset : utf-8
2023-10-24 21:19:05 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:19:05 INFO     Accept : application/json
2023-10-24 21:19:05 INFO     -- END Twilio API Request --
2023-10-24 21:19:05 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-24 21:19:05 INFO     Response Status Code: 200
2023-10-24 21:19:05 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:19:05 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ2f86aefad4b04eb086569cf6e9aca662', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:19:05 INFO     user.services.check_verification(): User OTP successful
2023-10-24 21:19:05 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-24 21:19:05 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-24 21:19:05 INFO     user.services.get_user(): Sucessfully queried record
2023-10-24 21:20:37 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:20:37 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-24 21:20:37 INFO     Headers:
2023-10-24 21:20:37 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:20:37 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:20:37 INFO     Accept-Charset : utf-8
2023-10-24 21:20:37 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:20:37 INFO     Accept : application/json
2023-10-24 21:20:37 INFO     -- END Twilio API Request --
2023-10-24 21:20:37 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-24 21:20:37 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-24 21:20:37 INFO     Response Status Code: 201
2023-10-24 21:20:37 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:20:37 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQf4de9bc2da7d961e926e7bfe02997d68', 'Twilio-Request-Duration': '0.148', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:20:37 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-24 21:20:47 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:20:47 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-24 21:20:47 INFO     Headers:
2023-10-24 21:20:47 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:20:47 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:20:47 INFO     Accept-Charset : utf-8
2023-10-24 21:20:47 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:20:47 INFO     Accept : application/json
2023-10-24 21:20:47 INFO     -- END Twilio API Request --
2023-10-24 21:20:47 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-24 21:20:47 INFO     Response Status Code: 200
2023-10-24 21:20:47 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:20:47 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ5e82cd37ddd47a027275fcac85c8403e', 'Twilio-Request-Duration': '0.022', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:20:47 INFO     user.services.check_verification(): User OTP successful
2023-10-24 21:20:47 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-24 21:20:47 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-24 21:20:47 INFO     user.services.get_user(): Sucessfully queried record
2023-10-24 21:33:01 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:33:01 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-24 21:33:01 INFO     Headers:
2023-10-24 21:33:01 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:33:01 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:33:01 INFO     Accept-Charset : utf-8
2023-10-24 21:33:01 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:33:01 INFO     Accept : application/json
2023-10-24 21:33:01 INFO     -- END Twilio API Request --
2023-10-24 21:33:01 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-24 21:33:02 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-24 21:33:02 INFO     Response Status Code: 201
2023-10-24 21:33:02 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:33:02 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQff178522a659665fd733e04f67e8e0ec', 'Twilio-Request-Duration': '0.149', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:33:02 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-24 21:33:13 INFO     -- BEGIN Twilio API Request --
2023-10-24 21:33:13 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-24 21:33:13 INFO     Headers:
2023-10-24 21:33:13 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-24 21:33:13 INFO     X-Twilio-Client : python-8.5.0
2023-10-24 21:33:13 INFO     Accept-Charset : utf-8
2023-10-24 21:33:13 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-24 21:33:13 INFO     Accept : application/json
2023-10-24 21:33:13 INFO     -- END Twilio API Request --
2023-10-24 21:33:13 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-24 21:33:13 INFO     Response Status Code: 200
2023-10-24 21:33:13 INFO     Response Headers: {'Date': 'Wed, 25 Oct 2023 04:33:13 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ9c068e4ff8e4aeac13c19b9915d24cda', 'Twilio-Request-Duration': '0.037', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-24 21:33:13 INFO     user.services.check_verification(): User OTP successful
2023-10-24 21:33:13 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-24 21:33:13 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-24 21:33:13 INFO     user.services.get_user(): Sucessfully queried record
2023-10-25 21:48:26 INFO     -- BEGIN Twilio API Request --
2023-10-25 21:48:26 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-25 21:48:26 INFO     Headers:
2023-10-25 21:48:26 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-25 21:48:26 INFO     X-Twilio-Client : python-8.5.0
2023-10-25 21:48:26 INFO     Accept-Charset : utf-8
2023-10-25 21:48:26 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-25 21:48:26 INFO     Accept : application/json
2023-10-25 21:48:26 INFO     -- END Twilio API Request --
2023-10-25 21:48:26 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-25 21:48:26 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-25 21:48:26 INFO     Response Status Code: 201
2023-10-25 21:48:26 INFO     Response Headers: {'Date': 'Thu, 26 Oct 2023 04:48:26 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQbff976f568e0cd92ac1ad79103c8e80f', 'Twilio-Request-Duration': '0.137', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-25 21:48:26 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-25 21:48:37 INFO     -- BEGIN Twilio API Request --
2023-10-25 21:48:37 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-25 21:48:37 INFO     Headers:
2023-10-25 21:48:37 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-25 21:48:37 INFO     X-Twilio-Client : python-8.5.0
2023-10-25 21:48:37 INFO     Accept-Charset : utf-8
2023-10-25 21:48:37 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-25 21:48:37 INFO     Accept : application/json
2023-10-25 21:48:37 INFO     -- END Twilio API Request --
2023-10-25 21:48:37 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-25 21:48:37 INFO     Response Status Code: 200
2023-10-25 21:48:37 INFO     Response Headers: {'Date': 'Thu, 26 Oct 2023 04:48:37 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQd8ed33540c427fc56f6326d654911ec2', 'Twilio-Request-Duration': '0.035', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-25 21:48:37 INFO     user.services.check_verification(): User OTP successful
2023-10-25 21:48:37 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-25 21:48:37 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-25 21:48:37 INFO     user.services.get_user(): Sucessfully queried record
2023-10-27 00:02:55 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:02:55 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-27 00:02:55 INFO     Headers:
2023-10-27 00:02:55 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:02:55 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:02:55 INFO     Accept-Charset : utf-8
2023-10-27 00:02:55 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:02:55 INFO     Accept : application/json
2023-10-27 00:02:55 INFO     -- END Twilio API Request --
2023-10-27 00:02:55 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-27 00:02:56 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-27 00:02:56 INFO     Response Status Code: 201
2023-10-27 00:02:56 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:02:56 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ3c5337e1640cdf281311bb3b95f1d21d', 'Twilio-Request-Duration': '0.144', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:02:56 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-27 00:03:34 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:03:34 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-27 00:03:34 INFO     Headers:
2023-10-27 00:03:34 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:03:34 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:03:34 INFO     Accept-Charset : utf-8
2023-10-27 00:03:34 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:03:34 INFO     Accept : application/json
2023-10-27 00:03:34 INFO     -- END Twilio API Request --
2023-10-27 00:03:34 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 742
2023-10-27 00:03:34 INFO     Response Status Code: 201
2023-10-27 00:03:34 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:03:34 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '742', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ64f79299042bca076247e88258f152b2', 'Twilio-Request-Duration': '0.133', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:03:34 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-27 00:04:06 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:04:06 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-27 00:04:06 INFO     Headers:
2023-10-27 00:04:06 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:04:06 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:04:06 INFO     Accept-Charset : utf-8
2023-10-27 00:04:06 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:04:06 INFO     Accept : application/json
2023-10-27 00:04:06 INFO     -- END Twilio API Request --
2023-10-27 00:04:06 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-27 00:04:06 INFO     Response Status Code: 200
2023-10-27 00:04:06 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:04:06 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ9285128ff50c8b80fa7338cb1109c19b', 'Twilio-Request-Duration': '0.022', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:04:06 INFO     user.services.check_verification(): User OTP successful
2023-10-27 00:04:06 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-27 00:04:06 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-27 00:04:06 INFO     user.services.get_user(): Sucessfully queried record
2023-10-27 00:04:39 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:04:39 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-27 00:04:39 INFO     Headers:
2023-10-27 00:04:39 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:04:39 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:04:39 INFO     Accept-Charset : utf-8
2023-10-27 00:04:39 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:04:39 INFO     Accept : application/json
2023-10-27 00:04:39 INFO     -- END Twilio API Request --
2023-10-27 00:04:40 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-27 00:04:40 INFO     Response Status Code: 201
2023-10-27 00:04:40 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:04:40 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ47f6ff581ae4bc494a479f70d61fc222', 'Twilio-Request-Duration': '0.138', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:04:40 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-27 00:04:46 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:04:46 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-27 00:04:46 INFO     Headers:
2023-10-27 00:04:46 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:04:46 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:04:46 INFO     Accept-Charset : utf-8
2023-10-27 00:04:46 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:04:46 INFO     Accept : application/json
2023-10-27 00:04:46 INFO     -- END Twilio API Request --
2023-10-27 00:04:46 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-27 00:04:46 INFO     Response Status Code: 200
2023-10-27 00:04:46 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:04:46 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ490a58d85ae1fa03905783c364198627', 'Twilio-Request-Duration': '0.021', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:04:46 INFO     user.services.check_verification(): User OTP successful
2023-10-27 00:04:46 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-27 00:04:46 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-27 00:04:47 INFO     user.services.get_user(): Sucessfully queried record
2023-10-27 00:08:06 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:08:06 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-27 00:08:06 INFO     Headers:
2023-10-27 00:08:06 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:08:06 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:08:06 INFO     Accept-Charset : utf-8
2023-10-27 00:08:06 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:08:06 INFO     Accept : application/json
2023-10-27 00:08:06 INFO     -- END Twilio API Request --
2023-10-27 00:08:06 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-27 00:08:07 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-27 00:08:07 INFO     Response Status Code: 201
2023-10-27 00:08:07 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:08:06 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ852e314dc01835918f3d0ed17509f8b2', 'Twilio-Request-Duration': '0.128', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:08:07 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-27 00:08:19 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:08:19 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-27 00:08:19 INFO     Headers:
2023-10-27 00:08:19 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:08:19 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:08:19 INFO     Accept-Charset : utf-8
2023-10-27 00:08:19 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:08:19 INFO     Accept : application/json
2023-10-27 00:08:19 INFO     -- END Twilio API Request --
2023-10-27 00:08:19 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-27 00:08:19 INFO     Response Status Code: 200
2023-10-27 00:08:19 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:08:19 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQfca46efa1d8b887fdf2b083a6f502e05', 'Twilio-Request-Duration': '0.033', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:08:19 INFO     user.services.check_verification(): User OTP successful
2023-10-27 00:08:19 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-27 00:08:19 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-27 00:08:19 INFO     user.services.get_user(): Sucessfully queried record
2023-10-27 00:29:12 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:29:12 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-27 00:29:12 INFO     Headers:
2023-10-27 00:29:12 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:29:12 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:29:12 INFO     Accept-Charset : utf-8
2023-10-27 00:29:12 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:29:12 INFO     Accept : application/json
2023-10-27 00:29:12 INFO     -- END Twilio API Request --
2023-10-27 00:29:12 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-27 00:29:14 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-27 00:29:14 INFO     Response Status Code: 201
2023-10-27 00:29:14 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:29:14 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQfe1b4d3405f202a20c0e2db841ddfab7', 'Twilio-Request-Duration': '0.146', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:29:14 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-27 00:29:25 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:29:25 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-27 00:29:25 INFO     Headers:
2023-10-27 00:29:25 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:29:25 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:29:25 INFO     Accept-Charset : utf-8
2023-10-27 00:29:25 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:29:25 INFO     Accept : application/json
2023-10-27 00:29:25 INFO     -- END Twilio API Request --
2023-10-27 00:29:25 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-27 00:29:25 INFO     Response Status Code: 200
2023-10-27 00:29:25 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:29:25 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ9d1f2f08cef0074654492b89896e6605', 'Twilio-Request-Duration': '0.027', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:29:25 INFO     user.services.check_verification(): User OTP successful
2023-10-27 00:29:25 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-27 00:29:25 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-27 00:29:25 INFO     user.services.get_user(): Sucessfully queried record
2023-10-27 00:42:17 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:42:17 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-27 00:42:17 INFO     Headers:
2023-10-27 00:42:17 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:42:17 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:42:17 INFO     Accept-Charset : utf-8
2023-10-27 00:42:17 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:42:17 INFO     Accept : application/json
2023-10-27 00:42:17 INFO     -- END Twilio API Request --
2023-10-27 00:42:17 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-27 00:42:17 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-27 00:42:17 INFO     Response Status Code: 201
2023-10-27 00:42:17 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:42:17 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ7af7ee4022033d1dbd7915bb88c2d004', 'Twilio-Request-Duration': '0.145', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:42:17 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-27 00:42:26 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:42:26 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-27 00:42:26 INFO     Headers:
2023-10-27 00:42:26 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:42:26 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:42:26 INFO     Accept-Charset : utf-8
2023-10-27 00:42:26 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:42:26 INFO     Accept : application/json
2023-10-27 00:42:26 INFO     -- END Twilio API Request --
2023-10-27 00:42:26 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-27 00:42:26 INFO     Response Status Code: 200
2023-10-27 00:42:26 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:42:26 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQc57e01c9f3957159670dc15976a2dd41', 'Twilio-Request-Duration': '0.032', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:42:26 INFO     user.services.check_verification(): User OTP successful
2023-10-27 00:42:26 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-27 00:42:26 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-27 00:42:26 INFO     user.services.get_user(): Sucessfully queried record
2023-10-27 00:43:03 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:43:03 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-27 00:43:03 INFO     Headers:
2023-10-27 00:43:03 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:43:03 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:43:03 INFO     Accept-Charset : utf-8
2023-10-27 00:43:03 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:43:03 INFO     Accept : application/json
2023-10-27 00:43:03 INFO     -- END Twilio API Request --
2023-10-27 00:43:03 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-27 00:43:03 INFO     Response Status Code: 201
2023-10-27 00:43:03 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:43:03 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQfc07bbfdc05e20cca7af53fa722cd088', 'Twilio-Request-Duration': '0.131', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:43:03 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-27 00:43:26 INFO     -- BEGIN Twilio API Request --
2023-10-27 00:43:26 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-27 00:43:26 INFO     Headers:
2023-10-27 00:43:26 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-27 00:43:26 INFO     X-Twilio-Client : python-8.5.0
2023-10-27 00:43:26 INFO     Accept-Charset : utf-8
2023-10-27 00:43:26 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-27 00:43:26 INFO     Accept : application/json
2023-10-27 00:43:26 INFO     -- END Twilio API Request --
2023-10-27 00:43:26 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-27 00:43:26 INFO     Response Status Code: 200
2023-10-27 00:43:26 INFO     Response Headers: {'Date': 'Fri, 27 Oct 2023 07:43:26 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ41f22d180d6e18b19ddd419ce3deabd8', 'Twilio-Request-Duration': '0.019', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-27 00:43:26 INFO     user.services.check_verification(): User OTP successful
2023-10-27 00:43:26 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-27 00:43:26 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-27 00:43:26 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 13:34:40 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:34:40 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 13:34:40 INFO     Headers:
2023-10-29 13:34:40 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:34:40 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:34:40 INFO     Accept-Charset : utf-8
2023-10-29 13:34:40 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:34:40 INFO     Accept : application/json
2023-10-29 13:34:40 INFO     -- END Twilio API Request --
2023-10-29 13:34:40 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 13:34:41 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 13:34:41 INFO     Response Status Code: 201
2023-10-29 13:34:41 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:34:41 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQf9b644447f9eb5b8619acf461f312a26', 'Twilio-Request-Duration': '0.139', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:34:41 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 13:34:52 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:34:52 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 13:34:52 INFO     Headers:
2023-10-29 13:34:52 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:34:52 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:34:52 INFO     Accept-Charset : utf-8
2023-10-29 13:34:52 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:34:52 INFO     Accept : application/json
2023-10-29 13:34:52 INFO     -- END Twilio API Request --
2023-10-29 13:34:52 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 13:34:52 INFO     Response Status Code: 200
2023-10-29 13:34:52 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:34:52 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ743962c76cc713f44bef5aa5051fca4e', 'Twilio-Request-Duration': '0.028', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:34:52 INFO     user.services.check_verification(): User OTP successful
2023-10-29 13:34:52 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 13:34:52 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 13:34:52 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 13:44:55 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:44:55 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 13:44:55 INFO     Headers:
2023-10-29 13:44:55 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:44:55 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:44:55 INFO     Accept-Charset : utf-8
2023-10-29 13:44:55 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:44:55 INFO     Accept : application/json
2023-10-29 13:44:55 INFO     -- END Twilio API Request --
2023-10-29 13:44:55 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 13:44:55 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 13:44:55 INFO     Response Status Code: 201
2023-10-29 13:44:55 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:44:55 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ7ddc143251c209214c2f9c96a8f39cfd', 'Twilio-Request-Duration': '0.151', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:44:55 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 13:45:22 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:45:22 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 13:45:22 INFO     Headers:
2023-10-29 13:45:22 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:45:22 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:45:22 INFO     Accept-Charset : utf-8
2023-10-29 13:45:22 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:45:22 INFO     Accept : application/json
2023-10-29 13:45:22 INFO     -- END Twilio API Request --
2023-10-29 13:45:22 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 13:45:22 INFO     Response Status Code: 200
2023-10-29 13:45:22 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:45:22 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ03be4e473ebc9f5a154d1d24d02f0393', 'Twilio-Request-Duration': '0.025', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:45:22 ERROR    user.services.check_verification(): User could not be approved (incorrect OTP)
2023-10-29 13:45:30 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:45:30 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 13:45:30 INFO     Headers:
2023-10-29 13:45:30 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:45:30 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:45:30 INFO     Accept-Charset : utf-8
2023-10-29 13:45:30 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:45:30 INFO     Accept : application/json
2023-10-29 13:45:30 INFO     -- END Twilio API Request --
2023-10-29 13:45:30 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 13:45:30 INFO     Response Status Code: 200
2023-10-29 13:45:30 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:45:30 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ214d460d5f157218b9bef91ab823a56f', 'Twilio-Request-Duration': '0.024', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:45:30 ERROR    user.services.check_verification(): User could not be approved (incorrect OTP)
2023-10-29 13:45:50 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:45:50 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 13:45:50 INFO     Headers:
2023-10-29 13:45:50 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:45:50 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:45:50 INFO     Accept-Charset : utf-8
2023-10-29 13:45:50 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:45:50 INFO     Accept : application/json
2023-10-29 13:45:50 INFO     -- END Twilio API Request --
2023-10-29 13:45:50 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 742
2023-10-29 13:45:50 INFO     Response Status Code: 201
2023-10-29 13:45:50 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:45:50 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '742', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ6cdd8ab9c26e7bf038746cf211a0d174', 'Twilio-Request-Duration': '0.127', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:45:50 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 13:46:05 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:46:05 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 13:46:05 INFO     Headers:
2023-10-29 13:46:05 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:46:05 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:46:05 INFO     Accept-Charset : utf-8
2023-10-29 13:46:05 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:46:05 INFO     Accept : application/json
2023-10-29 13:46:05 INFO     -- END Twilio API Request --
2023-10-29 13:46:05 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 13:46:05 INFO     Response Status Code: 200
2023-10-29 13:46:05 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:46:05 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ293ebe57eec4273aef294df6db7f52c9', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:46:05 INFO     user.services.check_verification(): User OTP successful
2023-10-29 13:46:05 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 13:46:05 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 13:46:05 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 13:51:27 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:51:27 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 13:51:27 INFO     Headers:
2023-10-29 13:51:27 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:51:27 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:51:27 INFO     Accept-Charset : utf-8
2023-10-29 13:51:27 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:51:27 INFO     Accept : application/json
2023-10-29 13:51:27 INFO     -- END Twilio API Request --
2023-10-29 13:51:27 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 13:51:27 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 13:51:27 INFO     Response Status Code: 201
2023-10-29 13:51:27 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:51:27 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ9720d1d8aee478bfc9b195d78cd9fd28', 'Twilio-Request-Duration': '0.128', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:51:27 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 13:51:35 INFO     -- BEGIN Twilio API Request --
2023-10-29 13:51:35 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 13:51:35 INFO     Headers:
2023-10-29 13:51:35 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 13:51:35 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 13:51:35 INFO     Accept-Charset : utf-8
2023-10-29 13:51:35 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 13:51:35 INFO     Accept : application/json
2023-10-29 13:51:35 INFO     -- END Twilio API Request --
2023-10-29 13:51:35 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 13:51:35 INFO     Response Status Code: 200
2023-10-29 13:51:35 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 20:51:35 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe5c04bb31a89020dc5ad28b3dd4927ef', 'Twilio-Request-Duration': '0.033', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 13:51:35 INFO     user.services.check_verification(): User OTP successful
2023-10-29 13:51:35 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 13:51:35 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 13:51:35 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 14:58:06 INFO     -- BEGIN Twilio API Request --
2023-10-29 14:58:06 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 14:58:06 INFO     Headers:
2023-10-29 14:58:06 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 14:58:06 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 14:58:06 INFO     Accept-Charset : utf-8
2023-10-29 14:58:06 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 14:58:06 INFO     Accept : application/json
2023-10-29 14:58:06 INFO     -- END Twilio API Request --
2023-10-29 14:58:06 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 14:58:07 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 14:58:07 INFO     Response Status Code: 201
2023-10-29 14:58:07 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 21:58:06 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQcd7b4edc657c19264a4c6d2472b6b7c1', 'Twilio-Request-Duration': '0.207', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 14:58:07 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 14:58:15 INFO     -- BEGIN Twilio API Request --
2023-10-29 14:58:15 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 14:58:15 INFO     Headers:
2023-10-29 14:58:15 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 14:58:15 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 14:58:15 INFO     Accept-Charset : utf-8
2023-10-29 14:58:15 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 14:58:15 INFO     Accept : application/json
2023-10-29 14:58:15 INFO     -- END Twilio API Request --
2023-10-29 14:58:15 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 14:58:15 INFO     Response Status Code: 200
2023-10-29 14:58:15 INFO     Response Headers: {'Date': 'Sun, 29 Oct 2023 21:58:15 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQcdd9baab5aef88f0fc0f17445e399125', 'Twilio-Request-Duration': '0.025', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 14:58:15 INFO     user.services.check_verification(): User OTP successful
2023-10-29 14:58:15 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 14:58:15 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 14:58:15 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 22:25:39 INFO     -- BEGIN Twilio API Request --
2023-10-29 22:25:39 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 22:25:39 INFO     Headers:
2023-10-29 22:25:39 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 22:25:39 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 22:25:39 INFO     Accept-Charset : utf-8
2023-10-29 22:25:39 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 22:25:39 INFO     Accept : application/json
2023-10-29 22:25:39 INFO     -- END Twilio API Request --
2023-10-29 22:25:39 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 22:25:39 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 22:25:39 INFO     Response Status Code: 201
2023-10-29 22:25:39 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 05:25:39 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ96ebc935b7e0d6617784457ebf3301df', 'Twilio-Request-Duration': '0.146', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 22:25:39 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 22:25:53 INFO     -- BEGIN Twilio API Request --
2023-10-29 22:25:53 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 22:25:53 INFO     Headers:
2023-10-29 22:25:53 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 22:25:53 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 22:25:53 INFO     Accept-Charset : utf-8
2023-10-29 22:25:53 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 22:25:53 INFO     Accept : application/json
2023-10-29 22:25:53 INFO     -- END Twilio API Request --
2023-10-29 22:25:53 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 22:25:53 INFO     Response Status Code: 200
2023-10-29 22:25:53 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 05:25:53 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe4a8a17b1e555176cea0c546dbaa3301', 'Twilio-Request-Duration': '0.038', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 22:25:53 INFO     user.services.check_verification(): User OTP successful
2023-10-29 22:25:53 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 22:25:53 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 22:25:53 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 23:42:04 INFO     -- BEGIN Twilio API Request --
2023-10-29 23:42:04 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 23:42:04 INFO     Headers:
2023-10-29 23:42:04 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 23:42:04 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 23:42:04 INFO     Accept-Charset : utf-8
2023-10-29 23:42:04 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 23:42:04 INFO     Accept : application/json
2023-10-29 23:42:04 INFO     -- END Twilio API Request --
2023-10-29 23:42:04 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 23:42:04 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 23:42:04 INFO     Response Status Code: 201
2023-10-29 23:42:04 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 06:42:04 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ58c8129cc58266f219dc6a7ba67a24cf', 'Twilio-Request-Duration': '0.162', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 23:42:04 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 23:42:18 INFO     -- BEGIN Twilio API Request --
2023-10-29 23:42:18 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 23:42:18 INFO     Headers:
2023-10-29 23:42:18 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 23:42:18 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 23:42:18 INFO     Accept-Charset : utf-8
2023-10-29 23:42:18 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 23:42:18 INFO     Accept : application/json
2023-10-29 23:42:18 INFO     -- END Twilio API Request --
2023-10-29 23:42:18 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 23:42:18 INFO     Response Status Code: 200
2023-10-29 23:42:18 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 06:42:18 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQaa4642fc29cfbbaf519613bbe5aed012', 'Twilio-Request-Duration': '0.019', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 23:42:18 INFO     user.services.check_verification(): User OTP successful
2023-10-29 23:42:18 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 23:42:18 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 23:42:18 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 23:43:32 INFO     -- BEGIN Twilio API Request --
2023-10-29 23:43:32 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 23:43:32 INFO     Headers:
2023-10-29 23:43:32 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 23:43:32 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 23:43:32 INFO     Accept-Charset : utf-8
2023-10-29 23:43:32 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 23:43:32 INFO     Accept : application/json
2023-10-29 23:43:32 INFO     -- END Twilio API Request --
2023-10-29 23:43:32 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 23:43:33 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 23:43:33 INFO     Response Status Code: 201
2023-10-29 23:43:33 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 06:43:33 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ5bcfe16c062736264c14ebc8dc53786f', 'Twilio-Request-Duration': '0.157', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 23:43:33 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 23:43:41 INFO     -- BEGIN Twilio API Request --
2023-10-29 23:43:41 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 23:43:41 INFO     Headers:
2023-10-29 23:43:41 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 23:43:41 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 23:43:41 INFO     Accept-Charset : utf-8
2023-10-29 23:43:41 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 23:43:41 INFO     Accept : application/json
2023-10-29 23:43:41 INFO     -- END Twilio API Request --
2023-10-29 23:43:41 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 23:43:41 INFO     Response Status Code: 200
2023-10-29 23:43:41 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 06:43:41 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe518530ff3b5c69c8718afd3ebbf3ade', 'Twilio-Request-Duration': '0.027', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 23:43:41 ERROR    user.services.check_verification(): User could not be approved (incorrect OTP)
2023-10-29 23:43:55 INFO     -- BEGIN Twilio API Request --
2023-10-29 23:43:55 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 23:43:55 INFO     Headers:
2023-10-29 23:43:55 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 23:43:55 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 23:43:55 INFO     Accept-Charset : utf-8
2023-10-29 23:43:55 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 23:43:55 INFO     Accept : application/json
2023-10-29 23:43:55 INFO     -- END Twilio API Request --
2023-10-29 23:43:56 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 23:43:56 INFO     Response Status Code: 200
2023-10-29 23:43:56 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 06:43:56 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ959db8a9882ad7a3c7fd93bb4986eddd', 'Twilio-Request-Duration': '0.028', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 23:43:56 INFO     user.services.check_verification(): User OTP successful
2023-10-29 23:43:56 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 23:43:56 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 23:43:56 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 23:45:39 INFO     -- BEGIN Twilio API Request --
2023-10-29 23:45:39 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-29 23:45:39 INFO     Headers:
2023-10-29 23:45:39 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 23:45:39 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 23:45:39 INFO     Accept-Charset : utf-8
2023-10-29 23:45:39 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 23:45:39 INFO     Accept : application/json
2023-10-29 23:45:39 INFO     -- END Twilio API Request --
2023-10-29 23:45:39 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-29 23:45:39 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-29 23:45:39 INFO     Response Status Code: 201
2023-10-29 23:45:39 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 06:45:39 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQd16eb02b87192574fe4de06b85c71e7d', 'Twilio-Request-Duration': '0.135', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 23:45:39 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-29 23:45:59 INFO     -- BEGIN Twilio API Request --
2023-10-29 23:45:59 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-29 23:45:59 INFO     Headers:
2023-10-29 23:45:59 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-29 23:45:59 INFO     X-Twilio-Client : python-8.5.0
2023-10-29 23:45:59 INFO     Accept-Charset : utf-8
2023-10-29 23:45:59 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-29 23:45:59 INFO     Accept : application/json
2023-10-29 23:45:59 INFO     -- END Twilio API Request --
2023-10-29 23:45:59 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-29 23:45:59 INFO     Response Status Code: 200
2023-10-29 23:45:59 INFO     Response Headers: {'Date': 'Mon, 30 Oct 2023 06:45:59 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQd163f88dc1a795b134884b4175b890df', 'Twilio-Request-Duration': '0.024', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-29 23:45:59 INFO     user.services.check_verification(): User OTP successful
2023-10-29 23:45:59 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-29 23:45:59 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-29 23:45:59 INFO     user.services.get_user(): Sucessfully queried record
2023-10-29 23:51:43 INFO     room.services.create_room(): Room created sucessfully
2023-10-29 23:53:47 WARNING  room.services.join_room(): User is already part of the room
2023-10-30 21:41:21 INFO     -- BEGIN Twilio API Request --
2023-10-30 21:41:21 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-30 21:41:21 INFO     Headers:
2023-10-30 21:41:21 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 21:41:21 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 21:41:21 INFO     Accept-Charset : utf-8
2023-10-30 21:41:21 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 21:41:21 INFO     Accept : application/json
2023-10-30 21:41:21 INFO     -- END Twilio API Request --
2023-10-30 21:41:21 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-30 21:41:22 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-30 21:41:22 INFO     Response Status Code: 201
2023-10-30 21:41:22 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 04:41:22 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQcf781deaea084dc0c92ed6b4a6ef3a67', 'Twilio-Request-Duration': '0.156', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 21:41:22 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-30 21:41:31 INFO     -- BEGIN Twilio API Request --
2023-10-30 21:41:31 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-30 21:41:31 INFO     Headers:
2023-10-30 21:41:31 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 21:41:31 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 21:41:31 INFO     Accept-Charset : utf-8
2023-10-30 21:41:31 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 21:41:31 INFO     Accept : application/json
2023-10-30 21:41:31 INFO     -- END Twilio API Request --
2023-10-30 21:41:31 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-30 21:41:31 INFO     Response Status Code: 200
2023-10-30 21:41:31 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 04:41:31 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQb403799ae67b077c9ebf265a64dcc4af', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 21:41:31 INFO     user.services.check_verification(): User OTP successful
2023-10-30 21:41:31 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-30 21:41:31 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-30 21:41:31 INFO     user.services.get_user(): Sucessfully queried record
2023-10-30 21:45:49 INFO     Migrations complete
2023-10-30 21:49:20 INFO     room.services.create_room(): Room created sucessfully
2023-10-30 22:20:03 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:20:03 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-30 22:20:03 INFO     Headers:
2023-10-30 22:20:03 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:20:03 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:20:03 INFO     Accept-Charset : utf-8
2023-10-30 22:20:03 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:20:03 INFO     Accept : application/json
2023-10-30 22:20:03 INFO     -- END Twilio API Request --
2023-10-30 22:20:03 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-10-30 22:20:04 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-30 22:20:04 INFO     Response Status Code: 201
2023-10-30 22:20:04 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:20:04 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQc3323422061178d6d2ec2ba0028c7ee4', 'Twilio-Request-Duration': '0.145', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:20:04 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-30 22:22:43 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:22:43 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-30 22:22:43 INFO     Headers:
2023-10-30 22:22:43 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:22:43 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:22:43 INFO     Accept-Charset : utf-8
2023-10-30 22:22:43 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:22:43 INFO     Accept : application/json
2023-10-30 22:22:43 INFO     -- END Twilio API Request --
2023-10-30 22:22:43 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-30 22:22:44 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-30 22:22:44 INFO     Response Status Code: 200
2023-10-30 22:22:44 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:22:44 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ9ef4d25ccbb1254aae8085a60ea27c71', 'Twilio-Request-Duration': '0.025', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:22:44 INFO     user.services.check_verification(): User OTP successful
2023-10-30 22:22:44 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-30 22:22:44 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-30 22:22:44 INFO     user.services.get_user(): Sucessfully queried record
2023-10-30 22:23:35 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:23:35 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-30 22:23:35 INFO     Headers:
2023-10-30 22:23:35 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:23:35 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:23:35 INFO     Accept-Charset : utf-8
2023-10-30 22:23:35 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:23:35 INFO     Accept : application/json
2023-10-30 22:23:35 INFO     -- END Twilio API Request --
2023-10-30 22:23:35 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-30 22:23:35 INFO     Response Status Code: 201
2023-10-30 22:23:35 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:23:35 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ80a85cbb5bd8168ea18b33e9e85fc163', 'Twilio-Request-Duration': '0.153', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:23:35 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-30 22:23:46 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:23:46 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-30 22:23:47 INFO     Headers:
2023-10-30 22:23:47 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:23:47 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:23:47 INFO     Accept-Charset : utf-8
2023-10-30 22:23:47 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:23:47 INFO     Accept : application/json
2023-10-30 22:23:47 INFO     -- END Twilio API Request --
2023-10-30 22:23:47 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-30 22:23:47 INFO     Response Status Code: 200
2023-10-30 22:23:47 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:23:47 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ28b5143179307e9fb280dcf1f1964155', 'Twilio-Request-Duration': '0.045', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:23:47 INFO     user.services.check_verification(): User OTP successful
2023-10-30 22:23:47 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-30 22:23:47 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-30 22:23:47 INFO     user.services.get_user(): Sucessfully queried record
2023-10-30 22:24:30 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:24:30 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-30 22:24:30 INFO     Headers:
2023-10-30 22:24:30 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:24:30 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:24:30 INFO     Accept-Charset : utf-8
2023-10-30 22:24:30 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:24:30 INFO     Accept : application/json
2023-10-30 22:24:30 INFO     -- END Twilio API Request --
2023-10-30 22:24:30 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-30 22:24:30 INFO     Response Status Code: 201
2023-10-30 22:24:30 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:24:30 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQe5f98fdf7d9e5227a1062672f8a220e8', 'Twilio-Request-Duration': '0.135', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:24:30 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-30 22:24:41 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:24:41 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-30 22:24:41 INFO     Headers:
2023-10-30 22:24:41 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:24:41 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:24:41 INFO     Accept-Charset : utf-8
2023-10-30 22:24:41 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:24:41 INFO     Accept : application/json
2023-10-30 22:24:41 INFO     -- END Twilio API Request --
2023-10-30 22:24:42 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-30 22:24:42 INFO     Response Status Code: 200
2023-10-30 22:24:42 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:24:42 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQde7c794f8aa2014a6bea474cd34f07f1', 'Twilio-Request-Duration': '0.023', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:24:42 INFO     user.services.check_verification(): User OTP successful
2023-10-30 22:24:42 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-30 22:24:42 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-30 22:24:42 INFO     user.services.get_user(): Sucessfully queried record
2023-10-30 22:31:41 INFO     room.services.create_room(): Room created sucessfully
2023-10-30 22:53:04 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:53:04 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-30 22:53:04 INFO     Headers:
2023-10-30 22:53:04 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:53:04 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:53:04 INFO     Accept-Charset : utf-8
2023-10-30 22:53:04 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:53:04 INFO     Accept : application/json
2023-10-30 22:53:04 INFO     -- END Twilio API Request --
2023-10-30 22:53:04 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-30 22:53:05 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-30 22:53:05 INFO     Response Status Code: 201
2023-10-30 22:53:05 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:53:05 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ58aeb9b61ef73b882682bca03e36e967', 'Twilio-Request-Duration': '0.154', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:53:05 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-30 22:53:15 INFO     -- BEGIN Twilio API Request --
2023-10-30 22:53:15 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-30 22:53:15 INFO     Headers:
2023-10-30 22:53:15 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 22:53:15 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 22:53:15 INFO     Accept-Charset : utf-8
2023-10-30 22:53:15 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 22:53:15 INFO     Accept : application/json
2023-10-30 22:53:15 INFO     -- END Twilio API Request --
2023-10-30 22:53:15 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-30 22:53:15 INFO     Response Status Code: 200
2023-10-30 22:53:15 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 05:53:15 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ68f44981e1dce2c982e1093819313934', 'Twilio-Request-Duration': '0.028', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 22:53:15 INFO     user.services.check_verification(): User OTP successful
2023-10-30 22:53:15 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-30 22:53:15 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-30 22:53:15 INFO     user.services.get_user(): Sucessfully queried record
2023-10-30 23:02:24 INFO     -- BEGIN Twilio API Request --
2023-10-30 23:02:24 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-10-30 23:02:24 INFO     Headers:
2023-10-30 23:02:24 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 23:02:24 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 23:02:24 INFO     Accept-Charset : utf-8
2023-10-30 23:02:24 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 23:02:24 INFO     Accept : application/json
2023-10-30 23:02:24 INFO     -- END Twilio API Request --
2023-10-30 23:02:24 DEBUG    Resetting dropped connection: verify.twilio.com
2023-10-30 23:02:24 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-10-30 23:02:24 INFO     Response Status Code: 201
2023-10-30 23:02:24 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 06:02:24 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ097a995ff7c39c011cf3316e8f29dfe6', 'Twilio-Request-Duration': '0.161', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 23:02:24 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-10-30 23:02:31 INFO     -- BEGIN Twilio API Request --
2023-10-30 23:02:31 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-10-30 23:02:31 INFO     Headers:
2023-10-30 23:02:31 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-10-30 23:02:31 INFO     X-Twilio-Client : python-8.5.0
2023-10-30 23:02:31 INFO     Accept-Charset : utf-8
2023-10-30 23:02:31 INFO     Content-Type : application/x-www-form-urlencoded
2023-10-30 23:02:31 INFO     Accept : application/json
2023-10-30 23:02:31 INFO     -- END Twilio API Request --
2023-10-30 23:02:31 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-10-30 23:02:31 INFO     Response Status Code: 200
2023-10-30 23:02:31 INFO     Response Headers: {'Date': 'Tue, 31 Oct 2023 06:02:31 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ3eaafd5fa4248cee784c3f48a65814e3', 'Twilio-Request-Duration': '0.139', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-10-30 23:02:31 INFO     user.services.check_verification(): User OTP successful
2023-10-30 23:02:31 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-10-30 23:02:31 INFO     user.services.get_jwt(): Successfully created JWT
2023-10-30 23:02:31 INFO     user.services.get_user(): Sucessfully queried record
2023-10-30 23:58:58 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 00:03:50 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:28:59 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:33:00 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:37:50 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:39:32 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:42:54 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:43:10 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:45:28 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:45:50 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:46:06 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:46:17 INFO     room.services.create_room(): Room created sucessfully
2023-10-31 19:46:40 INFO     room.services.create_room(): Room created sucessfully
2023-11-01 22:19:41 INFO     room.services.create_room(): Room created sucessfully
2023-11-01 22:22:54 INFO     room.services.create_room(): Room created sucessfully
2023-11-01 22:23:10 INFO     room.services.create_room(): Room created sucessfully
2023-11-01 22:23:44 INFO     room.services.create_room(): Room created sucessfully
2023-11-01 22:24:01 INFO     room.services.create_room(): Room created sucessfully
2023-11-01 22:24:46 INFO     room.services.create_room(): Room created sucessfully
2023-11-01 22:34:22 INFO     Migrations complete
2023-11-01 22:38:26 INFO     Migrations complete
2023-11-01 22:39:00 INFO     Migrations complete
2023-11-01 22:39:20 INFO     Migrations complete
2023-11-01 22:39:43 INFO     Migrations complete
2023-11-01 22:40:38 INFO     Migrations complete
2023-11-01 22:42:15 INFO     Migrations complete
2023-11-01 23:21:16 INFO     -- BEGIN Twilio API Request --
2023-11-01 23:21:16 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-11-01 23:21:16 INFO     Headers:
2023-11-01 23:21:16 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-01 23:21:16 INFO     X-Twilio-Client : python-8.5.0
2023-11-01 23:21:16 INFO     Accept-Charset : utf-8
2023-11-01 23:21:16 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-01 23:21:16 INFO     Accept : application/json
2023-11-01 23:21:16 INFO     -- END Twilio API Request --
2023-11-01 23:21:16 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-11-01 23:21:16 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-11-01 23:21:16 INFO     Response Status Code: 201
2023-11-01 23:21:16 INFO     Response Headers: {'Date': 'Thu, 02 Nov 2023 06:21:16 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ61695f02a05b23f635168e4271e05e4f', 'Twilio-Request-Duration': '0.137', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-01 23:21:16 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-11-01 23:21:32 INFO     -- BEGIN Twilio API Request --
2023-11-01 23:21:32 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-11-01 23:21:32 INFO     Headers:
2023-11-01 23:21:32 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-01 23:21:32 INFO     X-Twilio-Client : python-8.5.0
2023-11-01 23:21:32 INFO     Accept-Charset : utf-8
2023-11-01 23:21:32 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-01 23:21:32 INFO     Accept : application/json
2023-11-01 23:21:32 INFO     -- END Twilio API Request --
2023-11-01 23:21:32 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-11-01 23:21:32 INFO     Response Status Code: 200
2023-11-01 23:21:32 INFO     Response Headers: {'Date': 'Thu, 02 Nov 2023 06:21:32 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ31c57fb8cfceccb53401611714d5cc62', 'Twilio-Request-Duration': '0.022', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-01 23:21:32 INFO     user.services.check_verification(): User OTP successful
2023-11-01 23:21:32 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-11-01 23:21:32 INFO     user.services.get_jwt(): Successfully created JWT
2023-11-01 23:21:37 INFO     user.services.get_user(): Sucessfully queried record
2023-11-01 23:22:18 INFO     Migrations complete
2023-11-01 23:22:48 INFO     Migrations complete
2023-11-01 23:25:34 INFO     Migrations complete
2023-11-01 23:27:18 INFO     Migrations complete
2023-11-01 23:27:23 INFO     Migrations complete
2023-11-01 23:27:34 INFO     Migrations complete
2023-11-01 23:31:21 INFO     Migrations complete
2023-11-01 23:31:26 INFO     Migrations complete
2023-11-01 23:31:41 INFO     Migrations complete
2023-11-01 23:32:07 INFO     Migrations complete
2023-11-01 23:32:50 INFO     Migrations complete
2023-11-01 23:33:07 INFO     user.services.get_user(): Sucessfully queried record
2023-11-01 23:33:31 INFO     user.services.get_user(): Sucessfully queried record
2023-11-01 23:33:31 INFO     user.services.update_user(): User updated sucessfully
2023-11-01 23:35:08 INFO     Migrations complete
2023-11-01 23:35:12 INFO     Migrations complete
2023-11-01 23:35:47 INFO     Migrations complete
2023-11-01 23:35:51 INFO     Migrations complete
2023-11-01 23:37:07 INFO     Migrations complete
2023-11-01 23:39:09 INFO     Migrations complete
2023-11-01 23:39:36 INFO     Migrations complete
2023-11-01 23:41:48 INFO     Migrations complete
2023-11-01 23:42:21 INFO     Migrations complete
2023-11-01 23:44:26 INFO     Migrations complete
2023-11-01 23:47:49 INFO     Migrations complete
2023-11-01 23:48:26 INFO     Migrations complete
2023-11-01 23:48:52 INFO     Migrations complete
2023-11-01 23:51:53 WARNING  room.services.join_room(): User is already part of the room
2023-11-01 23:52:40 INFO     Migrations complete
2023-11-01 23:52:52 INFO     Migrations complete
2023-11-01 23:53:22 INFO     Migrations complete
2023-11-01 23:53:32 INFO     Migrations complete
2023-11-01 23:53:53 INFO     Migrations complete
2023-11-01 23:57:52 INFO     Migrations complete
2023-11-01 23:59:46 INFO     Migrations complete
2023-11-02 00:00:01 INFO     Migrations complete
2023-11-02 00:00:07 INFO     Migrations complete
2023-11-02 00:00:27 INFO     Migrations complete
2023-11-02 00:02:55 INFO     user.services.get_user(): Sucessfully queried record
2023-11-02 00:02:57 INFO     user.services.get_user(): Sucessfully queried record
2023-11-02 00:03:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-02 00:04:02 INFO     Migrations complete
2023-11-02 00:05:47 INFO     Migrations complete
2023-11-02 00:06:24 INFO     Migrations complete
2023-11-02 00:06:26 WARNING  room.services.join_room(): User is already part of the room
2023-11-02 00:06:32 INFO     Migrations complete
2023-11-02 00:06:47 INFO     Migrations complete
2023-11-02 00:06:59 INFO     Migrations complete
2023-11-02 00:07:56 INFO     Migrations complete
2023-11-02 18:53:13 INFO     user.services.get_user(): Sucessfully queried record
2023-11-02 18:53:35 INFO     Migrations complete
2023-11-02 20:18:05 INFO     room.services.create_room(): Room created sucessfully
2023-11-02 20:19:16 INFO     room.services.create_room(): Room created sucessfully
2023-11-02 20:28:49 INFO     Migrations complete
2023-11-02 20:29:09 INFO     Migrations complete
2023-11-02 20:29:20 INFO     Migrations complete
2023-11-02 20:29:43 INFO     Migrations complete
2023-11-02 20:31:56 INFO     Migrations complete
2023-11-02 20:32:48 INFO     Migrations complete
2023-11-02 20:37:36 INFO     Migrations complete
2023-11-02 20:37:43 INFO     Migrations complete
2023-11-02 20:38:18 INFO     Migrations complete
2023-11-02 20:38:40 INFO     Migrations complete
2023-11-02 20:39:30 INFO     Migrations complete
2023-11-02 20:39:50 INFO     Migrations complete
2023-11-02 20:40:05 INFO     Migrations complete
2023-11-02 20:58:30 INFO     Migrations complete
2023-11-02 20:59:29 INFO     Migrations complete
2023-11-02 21:00:30 INFO     Migrations complete
2023-11-02 21:02:09 INFO     Migrations complete
2023-11-02 21:03:32 INFO     Migrations complete
2023-11-05 18:51:55 INFO     Migrations complete
2023-11-06 20:30:56 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 20:31:29 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 20:31:43 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 20:31:47 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 20:37:21 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 20:37:48 INFO     Migrations complete
2023-11-06 20:37:51 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 20:38:12 INFO     Migrations complete
2023-11-06 20:38:15 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 21:01:18 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-11-06 21:01:35 INFO     Migrations complete
2023-11-06 21:01:42 INFO     Migrations complete
2023-11-06 21:01:50 INFO     -- BEGIN Twilio API Request --
2023-11-06 21:01:50 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-11-06 21:01:50 INFO     Headers:
2023-11-06 21:01:50 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-06 21:01:50 INFO     X-Twilio-Client : python-8.5.0
2023-11-06 21:01:50 INFO     Accept-Charset : utf-8
2023-11-06 21:01:50 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-06 21:01:50 INFO     Accept : application/json
2023-11-06 21:01:50 INFO     -- END Twilio API Request --
2023-11-06 21:01:50 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-11-06 21:01:50 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-11-06 21:01:50 INFO     Response Status Code: 201
2023-11-06 21:01:50 INFO     Response Headers: {'Date': 'Tue, 07 Nov 2023 05:01:50 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ7b014b362f41e1966eab424c75f97e81', 'Twilio-Request-Duration': '0.155', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-06 21:01:50 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-11-06 21:02:01 INFO     -- BEGIN Twilio API Request --
2023-11-06 21:02:01 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-11-06 21:02:01 INFO     Headers:
2023-11-06 21:02:01 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-06 21:02:01 INFO     X-Twilio-Client : python-8.5.0
2023-11-06 21:02:01 INFO     Accept-Charset : utf-8
2023-11-06 21:02:01 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-06 21:02:01 INFO     Accept : application/json
2023-11-06 21:02:01 INFO     -- END Twilio API Request --
2023-11-06 21:02:01 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-11-06 21:02:01 INFO     Response Status Code: 200
2023-11-06 21:02:01 INFO     Response Headers: {'Date': 'Tue, 07 Nov 2023 05:02:01 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ50145ca0ae652c260896e5fa45c82fb9', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-06 21:02:01 INFO     user.services.check_verification(): User OTP successful
2023-11-06 21:02:01 ERROR    user.services.get_user_by_phone_number(): Unable to locate record with given parameters
2023-11-06 21:02:01 INFO     user.services.get_user(): User created sucessfully
2023-11-06 21:02:01 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-11-06 21:02:01 INFO     user.services.get_jwt(): Successfully created JWT
2023-11-06 21:02:01 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 21:02:13 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 21:02:13 INFO     user.services.update_user(): User updated sucessfully
2023-11-06 21:14:23 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 21:14:34 INFO     room.services.create_room(): Room created sucessfully
2023-11-06 21:49:57 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 21:51:45 INFO     Migrations complete
2023-11-06 21:52:15 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 22:00:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 22:02:51 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 22:22:13 INFO     user.services.get_user(): Sucessfully queried record
2023-11-06 22:58:53 INFO     user.services.get_user(): Sucessfully queried record
2023-11-07 20:53:53 INFO     Migrations complete
2023-11-07 20:55:51 INFO     user.services.get_user(): Sucessfully queried record
2023-11-07 21:01:04 INFO     Migrations complete
2023-11-07 21:01:17 INFO     Migrations complete
2023-11-07 21:07:30 DEBUG    Calling on_part_begin with no data
2023-11-07 21:07:30 DEBUG    Calling on_header_field with data[54:73]
2023-11-07 21:07:30 DEBUG    Calling on_header_value with data[75:129]
2023-11-07 21:07:30 DEBUG    Calling on_header_end with no data
2023-11-07 21:07:30 DEBUG    Calling on_header_field with data[131:143]
2023-11-07 21:07:30 DEBUG    Calling on_header_value with data[145:155]
2023-11-07 21:07:30 DEBUG    Calling on_header_end with no data
2023-11-07 21:07:30 DEBUG    Calling on_headers_finished with no data
2023-11-07 21:07:30 DEBUG    Calling on_part_data with data[159:131231]
2023-11-07 21:07:30 DEBUG    Calling on_part_data with data[0:161023]
2023-11-07 21:07:30 DEBUG    Calling on_part_end with no data
2023-11-07 21:07:30 DEBUG    Calling on_end with no data
2023-11-07 21:07:30 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-11-07 21:07:30 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-11-07 21:07:30 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-11-07 21:07:30 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-11-07 21:07:30 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-11-07 21:07:30 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-11-07 21:07:30 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-11-07 21:07:30 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-11-07 21:07:30 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-11-07 21:07:30 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-11-07 21:07:30 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-11-07 21:07:30 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-11-07 21:07:30 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-11-07 21:07:30 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1109fba60>
2023-11-07 21:07:30 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-11-07 21:07:30 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-11-07 21:07:30 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-11-07 21:07:30 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x11093b100>
2023-11-07 21:07:30 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x113b42d40>
2023-11-07 21:07:30 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x11093ae80>
2023-11-07 21:07:30 DEBUG    Looking for endpoint for s3 via: environment_service
2023-11-07 21:07:30 DEBUG    Looking for endpoint for s3 via: environment_global
2023-11-07 21:07:30 DEBUG    Looking for endpoint for s3 via: config_service
2023-11-07 21:07:30 DEBUG    Looking for endpoint for s3 via: config_global
2023-11-07 21:07:30 DEBUG    No configured endpoint found.
2023-11-07 21:07:30 DEBUG    Setting s3 timeout as (60, 60)
2023-11-07 21:07:30 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-11-07 21:07:30 DEBUG    Registering retry handlers for service: s3
2023-11-07 21:07:30 DEBUG    Registering S3 region redirector handler
2023-11-07 21:07:30 DEBUG    Acquiring 0
2023-11-07 21:07:30 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x117568690>}) about to wait for the following futures []
2023-11-07 21:07:30 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x117568690>}) done waiting for dependent futures
2023-11-07 21:07:30 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x117568690>}) with kwargs {'client': <botocore.client.S3 object at 0x113b3c910>, 'config': <boto3.s3.transfer.TransferConfig object at 0x113b11890>, 'osutil': <s3transfer.utils.OSUtils object at 0x113f89990>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x117563dd0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x117568690>}
2023-11-07 21:07:30 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x117563dd0> for transfer request: 0.
2023-11-07 21:07:30 DEBUG    Acquiring 0
2023-11-07 21:07:30 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-11-07 21:07:30 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-11-07 21:07:30 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x113b3c910>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x113b11a90>, 'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}
2023-11-07 21:07:30 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x110a12480>
2023-11-07 21:07:30 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x110a11760>
2023-11-07 21:07:30 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x110a12e80>
2023-11-07 21:07:30 DEBUG    Releasing acquire 0/None
2023-11-07 21:07:30 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x110a116c0>
2023-11-07 21:07:30 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x110a137e0>
2023-11-07 21:07:30 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x113b5d2d0>>
2023-11-07 21:07:30 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x110a114e0>
2023-11-07 21:07:30 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x110a139c0>
2023-11-07 21:07:30 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x113b5d2d0>>
2023-11-07 21:07:30 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:07:30 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-11-07 21:07:30 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:07:30 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:07:30 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x11077aa20>
2023-11-07 21:07:30 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x110a11a80>
2023-11-07 21:07:30 DEBUG    Adding expect 100 continue header to request.
2023-11-07 21:07:30 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x110a109a0>
2023-11-07 21:07:30 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x110a12fc0>
2023-11-07 21:07:30 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/SAIKND/IMG_1436.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x113b11a90>, 'auth_path': '/splitz-receipts/SAIKND/IMG_1436.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x113b4b790>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'SAIKND/IMG_1436.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x113b11a90>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x115cb4a40>
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x117551c50>>
2023-11-07 21:07:30 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x113b24cd0>>
2023-11-07 21:07:30 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x110a113a0>
2023-11-07 21:07:30 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x110a13920>
2023-11-07 21:07:30 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:07:30 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T050730Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:07:30 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T050730Z
20231108/us-east-1/s3/aws4_request
5dadb30ccb3a5eda922a7618d86a031ad9495d2eb38d73c3117293d26da25875
2023-11-07 21:07:30 DEBUG    Signature:
50fc53b81f2ed74bf4e4ece002f25d161e9733a3c96379a81822cfcba6db7b61
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x115cb4ae0>
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x110a13740>
2023-11-07 21:07:30 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T050730Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=50fc53b81f2ed74bf4e4ece002f25d161e9733a3c96379a81822cfcba6db7b61', 'amz-sdk-invocation-id': b'68362381-18a5-4524-aa6f-e4d46ddd496c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '292095'}>
2023-11-07 21:07:30 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:07:30 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-11-07 21:07:30 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:07:30 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-11-07 21:07:30 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 400 None
2023-11-07 21:07:30 DEBUG    Response headers: {'x-amz-request-id': '49TFQKW9JT9SEWXW', 'x-amz-id-2': 'QBZev/RZm6CpFMlQeVROn80LKjtufRQy6sCmU2LXffJvot8YqYTYH3gRKMGsl8H1kJz3tiDe76M=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 08 Nov 2023 05:07:29 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-11-07 21:07:30 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>49TFQKW9JT9SEWXW</RequestId><HostId>QBZev/RZm6CpFMlQeVROn80LKjtufRQy6sCmU2LXffJvot8YqYTYH3gRKMGsl8H1kJz3tiDe76M=</HostId></Error>'
2023-11-07 21:07:30 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x117563b50>
2023-11-07 21:07:30 DEBUG    No retry needed.
2023-11-07 21:07:30 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x113b5d2d0>>
2023-11-07 21:07:30 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-11-07 21:07:30 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x110a139c0>
2023-11-07 21:07:30 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x113b5d2d0>>
2023-11-07 21:07:30 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:07:30 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-11-07 21:07:30 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg
2023-11-07 21:07:30 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:07:30 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:07:30 DEBUG    Response received to retry, sleeping for 0 seconds
2023-11-07 21:07:30 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x113b11a90>
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x115cb4a40>
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x117551c50>>
2023-11-07 21:07:30 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x113b24cd0>>
2023-11-07 21:07:30 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x110a113a0>
2023-11-07 21:07:30 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x110a13920>
2023-11-07 21:07:30 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:07:30 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T050730Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:07:30 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T050730Z
20231108/us-east-2/s3/aws4_request
0b68b2fc60dd2e86d3f861445fe413b999f1e30f7ddaf00456b6aaff494efe87
2023-11-07 21:07:30 DEBUG    Signature:
b9e672dcb50b26e4adedd87144a90ef51769a6c7fa0a4c2eedd909be72afdcc0
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x115cb4ae0>
2023-11-07 21:07:30 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x110a13740>
2023-11-07 21:07:30 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T050730Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=b9e672dcb50b26e4adedd87144a90ef51769a6c7fa0a4c2eedd909be72afdcc0', 'amz-sdk-invocation-id': b'68362381-18a5-4524-aa6f-e4d46ddd496c', 'amz-sdk-request': b'ttl=20231108T050829Z; attempt=2; max=5', 'Content-Length': '292095'}>
2023-11-07 21:07:30 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:07:30 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-11-07 21:07:30 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:07:30 DEBUG    100 Continue response seen, now sending request body.
2023-11-07 21:07:32 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 200 0
2023-11-07 21:07:32 DEBUG    Response headers: {'x-amz-id-2': '55cNFW4qLddMl8WBbJUFvv2W5MuO1wq75y4OVP5VuLFptE48x03psIIiwdrpltm8J/TCb/SHW6I=', 'x-amz-request-id': '49TF1F2GVZHN9R5D', 'Date': 'Wed, 08 Nov 2023 05:07:31 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"885022179ac83dedb8c35c335db4c76b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-11-07 21:07:32 DEBUG    Response body:
b''
2023-11-07 21:07:32 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x117563b50>
2023-11-07 21:07:32 DEBUG    No retry needed.
2023-11-07 21:07:32 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x113b5d2d0>>
2023-11-07 21:07:32 DEBUG    S3 request was previously redirected, not redirecting.
2023-11-07 21:07:32 DEBUG    Releasing acquire 0/None
2023-11-07 21:07:32 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to SAIKND folder in S3
2023-11-07 21:08:47 INFO     Migrations complete
2023-11-07 21:09:09 DEBUG    Calling on_part_begin with no data
2023-11-07 21:09:09 DEBUG    Calling on_header_field with data[54:73]
2023-11-07 21:09:09 DEBUG    Calling on_header_value with data[75:129]
2023-11-07 21:09:09 DEBUG    Calling on_header_end with no data
2023-11-07 21:09:09 DEBUG    Calling on_header_field with data[131:143]
2023-11-07 21:09:09 DEBUG    Calling on_header_value with data[145:155]
2023-11-07 21:09:09 DEBUG    Calling on_header_end with no data
2023-11-07 21:09:09 DEBUG    Calling on_headers_finished with no data
2023-11-07 21:09:09 DEBUG    Calling on_part_data with data[159:95985]
2023-11-07 21:09:09 DEBUG    Calling on_part_data with data[0:1]
2023-11-07 21:09:09 DEBUG    Calling on_part_data with data[95986:256159]
2023-11-07 21:09:09 DEBUG    Calling on_part_data with data[0:36095]
2023-11-07 21:09:09 DEBUG    Calling on_part_end with no data
2023-11-07 21:09:09 DEBUG    Calling on_end with no data
2023-11-07 21:09:09 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-11-07 21:09:09 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-11-07 21:09:09 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-11-07 21:09:09 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-11-07 21:09:09 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-11-07 21:09:09 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-11-07 21:09:09 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-11-07 21:09:09 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-11-07 21:09:09 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-11-07 21:09:09 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-11-07 21:09:09 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-11-07 21:09:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-11-07 21:09:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-11-07 21:09:09 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x104117a60>
2023-11-07 21:09:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-11-07 21:09:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-11-07 21:09:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-11-07 21:09:09 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x104057100>
2023-11-07 21:09:09 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x1067d23e0>
2023-11-07 21:09:09 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x104056e80>
2023-11-07 21:09:09 DEBUG    Looking for endpoint for s3 via: environment_service
2023-11-07 21:09:09 DEBUG    Looking for endpoint for s3 via: environment_global
2023-11-07 21:09:09 DEBUG    Looking for endpoint for s3 via: config_service
2023-11-07 21:09:09 DEBUG    Looking for endpoint for s3 via: config_global
2023-11-07 21:09:09 DEBUG    No configured endpoint found.
2023-11-07 21:09:09 DEBUG    Setting s3 timeout as (60, 60)
2023-11-07 21:09:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-11-07 21:09:09 DEBUG    Registering retry handlers for service: s3
2023-11-07 21:09:09 DEBUG    Registering S3 region redirector handler
2023-11-07 21:09:09 DEBUG    Acquiring 0
2023-11-07 21:09:09 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x108df4b50>}) about to wait for the following futures []
2023-11-07 21:09:09 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x108df4b50>}) done waiting for dependent futures
2023-11-07 21:09:09 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x108df4b50>}) with kwargs {'client': <botocore.client.S3 object at 0x108de6310>, 'config': <boto3.s3.transfer.TransferConfig object at 0x105076f90>, 'osutil': <s3transfer.utils.OSUtils object at 0x104e60210>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x108f16ad0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x108df4b50>}
2023-11-07 21:09:09 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x108f16ad0> for transfer request: 0.
2023-11-07 21:09:09 DEBUG    Acquiring 0
2023-11-07 21:09:09 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-11-07 21:09:09 DEBUG    Releasing acquire 0/None
2023-11-07 21:09:09 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-11-07 21:09:09 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x108de6310>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x106765250>, 'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}
2023-11-07 21:09:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x10412e480>
2023-11-07 21:09:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x10412d760>
2023-11-07 21:09:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x10412ee80>
2023-11-07 21:09:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x10412d6c0>
2023-11-07 21:09:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x10412f7e0>
2023-11-07 21:09:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x106771b90>>
2023-11-07 21:09:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x10412d4e0>
2023-11-07 21:09:09 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x10412f9c0>
2023-11-07 21:09:09 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x106771b90>>
2023-11-07 21:09:09 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:09:09 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-11-07 21:09:09 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:09:09 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:09:09 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x103f96a20>
2023-11-07 21:09:09 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x10412da80>
2023-11-07 21:09:09 DEBUG    Adding expect 100 continue header to request.
2023-11-07 21:09:09 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x10412c9a0>
2023-11-07 21:09:09 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x10412efc0>
2023-11-07 21:09:09 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/SAIKND/IMG_1436.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x106765250>, 'auth_path': '/splitz-receipts/SAIKND/IMG_1436.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x104ca63d0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'SAIKND/IMG_1436.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x106765250>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-11-07 21:09:09 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x108e97ec0>
2023-11-07 21:09:09 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x108f04850>>
2023-11-07 21:09:09 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x104fe89d0>>
2023-11-07 21:09:09 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x10412d3a0>
2023-11-07 21:09:09 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x10412f920>
2023-11-07 21:09:09 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:09:09 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T050909Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:09:09 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T050909Z
20231108/us-east-1/s3/aws4_request
bc1324afa80ba4b1b80b1f5608678e7241a6617d7d2c4cb1ea6c8048c74c297a
2023-11-07 21:09:09 DEBUG    Signature:
c62c2bffcc6336c2e4ba3c27cb3f3b3b23293a5982ec0f035c74222daef7893c
2023-11-07 21:09:09 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x108ea4220>
2023-11-07 21:09:09 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10412f740>
2023-11-07 21:09:09 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T050909Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=c62c2bffcc6336c2e4ba3c27cb3f3b3b23293a5982ec0f035c74222daef7893c', 'amz-sdk-invocation-id': b'6039f74a-e02c-490b-b8cf-2ba14d2282f1', 'amz-sdk-request': b'attempt=1', 'Content-Length': '292095'}>
2023-11-07 21:09:09 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:09:09 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-11-07 21:09:10 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:09:10 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-11-07 21:09:10 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 400 None
2023-11-07 21:09:10 DEBUG    Response headers: {'x-amz-request-id': 'V6AYRBTPHPDWDB42', 'x-amz-id-2': '5KZM6e0jimuvOKoqwVs5etipNJMaKY5QuHLUIHqQzybW+7j5k6rujSy6T3vSPXQG90Ume5UAtsU=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 08 Nov 2023 05:09:09 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-11-07 21:09:10 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>V6AYRBTPHPDWDB42</RequestId><HostId>5KZM6e0jimuvOKoqwVs5etipNJMaKY5QuHLUIHqQzybW+7j5k6rujSy6T3vSPXQG90Ume5UAtsU=</HostId></Error>'
2023-11-07 21:09:10 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x108f16890>
2023-11-07 21:09:10 DEBUG    No retry needed.
2023-11-07 21:09:10 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x106771b90>>
2023-11-07 21:09:10 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-11-07 21:09:10 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x10412f9c0>
2023-11-07 21:09:10 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x106771b90>>
2023-11-07 21:09:10 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:09:10 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-11-07 21:09:10 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg
2023-11-07 21:09:10 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:09:10 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:09:10 DEBUG    Response received to retry, sleeping for 0 seconds
2023-11-07 21:09:10 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x106765250>
2023-11-07 21:09:10 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x108e97ec0>
2023-11-07 21:09:10 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x108f04850>>
2023-11-07 21:09:10 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x104fe89d0>>
2023-11-07 21:09:10 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x10412d3a0>
2023-11-07 21:09:10 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x10412f920>
2023-11-07 21:09:10 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:09:10 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T050910Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:09:10 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T050910Z
20231108/us-east-2/s3/aws4_request
21f1ac4e0f7d483bbdf53ceb2cd7c5677360f9419957bfa3a91bdab0827967dc
2023-11-07 21:09:10 DEBUG    Signature:
0274a8ce028428272ce9449be6496228d365ac2f5b69aaebf9b4aba47cc5d3e3
2023-11-07 21:09:10 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x108ea4220>
2023-11-07 21:09:10 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10412f740>
2023-11-07 21:09:10 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T050910Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=0274a8ce028428272ce9449be6496228d365ac2f5b69aaebf9b4aba47cc5d3e3', 'amz-sdk-invocation-id': b'6039f74a-e02c-490b-b8cf-2ba14d2282f1', 'amz-sdk-request': b'ttl=20231108T051009Z; attempt=2; max=5', 'Content-Length': '292095'}>
2023-11-07 21:09:10 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:09:10 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-11-07 21:09:10 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:09:10 DEBUG    100 Continue response seen, now sending request body.
2023-11-07 21:09:11 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 200 0
2023-11-07 21:09:11 DEBUG    Response headers: {'x-amz-id-2': 'R5BshB6Izp5l7CwgXKyYD4Zf1tAcnAGxJb3WueY2p9R7jJeayo6wTpszIcz6Lxt5+ogeO0LbyWayofnX3JBWpQ==', 'x-amz-request-id': 'V6APDHEVG9FJ00DK', 'Date': 'Wed, 08 Nov 2023 05:09:11 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"885022179ac83dedb8c35c335db4c76b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-11-07 21:09:11 DEBUG    Response body:
b''
2023-11-07 21:09:11 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x108f16890>
2023-11-07 21:09:11 DEBUG    No retry needed.
2023-11-07 21:09:11 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x106771b90>>
2023-11-07 21:09:11 DEBUG    S3 request was previously redirected, not redirecting.
2023-11-07 21:09:11 DEBUG    Releasing acquire 0/None
2023-11-07 21:09:11 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to SAIKND folder in S3
2023-11-07 21:11:28 INFO     Migrations complete
2023-11-07 21:11:37 DEBUG    Calling on_part_begin with no data
2023-11-07 21:11:37 DEBUG    Calling on_header_field with data[54:73]
2023-11-07 21:11:37 DEBUG    Calling on_header_value with data[75:129]
2023-11-07 21:11:37 DEBUG    Calling on_header_end with no data
2023-11-07 21:11:37 DEBUG    Calling on_header_field with data[131:143]
2023-11-07 21:11:37 DEBUG    Calling on_header_value with data[145:155]
2023-11-07 21:11:37 DEBUG    Calling on_header_end with no data
2023-11-07 21:11:37 DEBUG    Calling on_headers_finished with no data
2023-11-07 21:11:37 DEBUG    Calling on_part_data with data[159:65695]
2023-11-07 21:11:37 DEBUG    Calling on_part_data with data[0:2812]
2023-11-07 21:11:37 DEBUG    Calling on_part_data with data[0:1]
2023-11-07 21:11:37 DEBUG    Calling on_part_data with data[2813:226559]
2023-11-07 21:11:37 DEBUG    Calling on_part_end with no data
2023-11-07 21:11:37 DEBUG    Calling on_end with no data
2023-11-07 21:11:37 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-11-07 21:11:37 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-11-07 21:11:37 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-11-07 21:11:37 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-11-07 21:11:37 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-11-07 21:11:37 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-11-07 21:11:37 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-11-07 21:11:37 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-11-07 21:11:37 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-11-07 21:11:37 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-11-07 21:11:37 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-11-07 21:11:37 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-11-07 21:11:37 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-11-07 21:11:37 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x103d03a60>
2023-11-07 21:11:37 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-11-07 21:11:37 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-11-07 21:11:37 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-11-07 21:11:37 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x103c43100>
2023-11-07 21:11:37 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x1062260c0>
2023-11-07 21:11:37 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x103c42e80>
2023-11-07 21:11:37 DEBUG    Looking for endpoint for s3 via: environment_service
2023-11-07 21:11:37 DEBUG    Looking for endpoint for s3 via: environment_global
2023-11-07 21:11:37 DEBUG    Looking for endpoint for s3 via: config_service
2023-11-07 21:11:37 DEBUG    Looking for endpoint for s3 via: config_global
2023-11-07 21:11:37 DEBUG    No configured endpoint found.
2023-11-07 21:11:37 DEBUG    Setting s3 timeout as (60, 60)
2023-11-07 21:11:37 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-11-07 21:11:37 DEBUG    Registering retry handlers for service: s3
2023-11-07 21:11:37 DEBUG    Registering S3 region redirector handler
2023-11-07 21:11:37 DEBUG    Acquiring 0
2023-11-07 21:11:37 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1109d5a90>}) about to wait for the following futures []
2023-11-07 21:11:37 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1109d5a90>}) done waiting for dependent futures
2023-11-07 21:11:37 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1109d5a90>}) with kwargs {'client': <botocore.client.S3 object at 0x1109d50d0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10642cdd0>, 'osutil': <s3transfer.utils.OSUtils object at 0x1061a4090>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x110b04b90>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1109d5a90>}
2023-11-07 21:11:37 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x110b04b90> for transfer request: 0.
2023-11-07 21:11:37 DEBUG    Acquiring 0
2023-11-07 21:11:37 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-11-07 21:11:37 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-11-07 21:11:37 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x1109d50d0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10619da50>, 'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}
2023-11-07 21:11:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x103d1a480>
2023-11-07 21:11:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x103d19760>
2023-11-07 21:11:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x103d1ae80>
2023-11-07 21:11:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x103d196c0>
2023-11-07 21:11:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x103d1b7e0>
2023-11-07 21:11:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x110afffd0>>
2023-11-07 21:11:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x103d194e0>
2023-11-07 21:11:37 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x103d1b9c0>
2023-11-07 21:11:37 DEBUG    Releasing acquire 0/None
2023-11-07 21:11:37 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x110afffd0>>
2023-11-07 21:11:37 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:11:37 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-11-07 21:11:37 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:11:37 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:11:37 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x103b82a20>
2023-11-07 21:11:37 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x103d19a80>
2023-11-07 21:11:37 DEBUG    Adding expect 100 continue header to request.
2023-11-07 21:11:37 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x103d189a0>
2023-11-07 21:11:37 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x103d1afc0>
2023-11-07 21:11:37 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/SAIKND/IMG_1436.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10619da50>, 'auth_path': '/splitz-receipts/SAIKND/IMG_1436.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10383d3d0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'SAIKND/IMG_1436.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10619da50>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-11-07 21:11:37 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x110a7fce0>
2023-11-07 21:11:37 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x110aee950>>
2023-11-07 21:11:37 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10600eb50>>
2023-11-07 21:11:37 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x103d193a0>
2023-11-07 21:11:37 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x103d1b920>
2023-11-07 21:11:37 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:11:37 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T051137Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:11:37 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T051137Z
20231108/us-east-1/s3/aws4_request
e6a06265a93ff745321b82b1ea5ab4832d5cb67848a3713e7cea692cfa359595
2023-11-07 21:11:37 DEBUG    Signature:
36466e9dfb25b739aeae0d6646ffd34fd1e5ba3a1ff44463b46f754caa056fb2
2023-11-07 21:11:37 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x110a90040>
2023-11-07 21:11:37 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x103d1b740>
2023-11-07 21:11:37 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T051137Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=36466e9dfb25b739aeae0d6646ffd34fd1e5ba3a1ff44463b46f754caa056fb2', 'amz-sdk-invocation-id': b'f2ead80d-4b08-4f7f-836b-28ef15072d07', 'amz-sdk-request': b'attempt=1', 'Content-Length': '292095'}>
2023-11-07 21:11:37 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:11:37 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-11-07 21:11:37 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:11:38 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-11-07 21:11:38 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 400 None
2023-11-07 21:11:38 DEBUG    Response headers: {'x-amz-request-id': 'QW0W82H9800NFV4J', 'x-amz-id-2': '+bGZ/9sG2Vn8490to4uWjseS+XoJhyIiTVj/qbBsOnd/h1O5owm7u1xKqYli6CHRCgOOoHUqaWc=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 08 Nov 2023 05:11:37 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-11-07 21:11:38 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>QW0W82H9800NFV4J</RequestId><HostId>+bGZ/9sG2Vn8490to4uWjseS+XoJhyIiTVj/qbBsOnd/h1O5owm7u1xKqYli6CHRCgOOoHUqaWc=</HostId></Error>'
2023-11-07 21:11:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x110b04a90>
2023-11-07 21:11:38 DEBUG    No retry needed.
2023-11-07 21:11:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x110afffd0>>
2023-11-07 21:11:38 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-11-07 21:11:38 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x103d1b9c0>
2023-11-07 21:11:38 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x110afffd0>>
2023-11-07 21:11:38 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:11:38 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-11-07 21:11:38 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg
2023-11-07 21:11:38 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:11:38 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:11:38 DEBUG    Response received to retry, sleeping for 0 seconds
2023-11-07 21:11:38 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10619da50>
2023-11-07 21:11:38 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x110a7fce0>
2023-11-07 21:11:38 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x110aee950>>
2023-11-07 21:11:38 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10600eb50>>
2023-11-07 21:11:38 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x103d193a0>
2023-11-07 21:11:38 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x103d1b920>
2023-11-07 21:11:38 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:11:38 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T051138Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:11:38 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T051138Z
20231108/us-east-2/s3/aws4_request
f191afa989ca2a862304e8bb3a6406a9d2f8e5f8e628666c86f34c266f95afaa
2023-11-07 21:11:38 DEBUG    Signature:
432dd0d16f7efcfa6e65d4e1779adefc6f7ff6d0a4a149887a4f654ee5a5ac6c
2023-11-07 21:11:38 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x110a90040>
2023-11-07 21:11:38 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x103d1b740>
2023-11-07 21:11:38 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T051138Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=432dd0d16f7efcfa6e65d4e1779adefc6f7ff6d0a4a149887a4f654ee5a5ac6c', 'amz-sdk-invocation-id': b'f2ead80d-4b08-4f7f-836b-28ef15072d07', 'amz-sdk-request': b'ttl=20231108T051237Z; attempt=2; max=5', 'Content-Length': '292095'}>
2023-11-07 21:11:38 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:11:38 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-11-07 21:11:38 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:11:38 DEBUG    100 Continue response seen, now sending request body.
2023-11-07 21:11:38 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 200 0
2023-11-07 21:11:38 DEBUG    Response headers: {'x-amz-id-2': 'Wsb513rBG40rRyvrWmVD0HBpHtNg9kbMNDNr13Ukc8/DgGuR1zoG/leXXrXPFrNVzv+L3GJpJVgAblcKwLFfYQ==', 'x-amz-request-id': 'N7WB2K1A66NVTRYA', 'Date': 'Wed, 08 Nov 2023 05:11:39 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"885022179ac83dedb8c35c335db4c76b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-11-07 21:11:38 DEBUG    Response body:
b''
2023-11-07 21:11:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x110b04a90>
2023-11-07 21:11:38 DEBUG    No retry needed.
2023-11-07 21:11:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x110afffd0>>
2023-11-07 21:11:38 DEBUG    S3 request was previously redirected, not redirecting.
2023-11-07 21:11:38 DEBUG    Releasing acquire 0/None
2023-11-07 21:11:38 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to SAIKND folder in S3
2023-11-07 21:14:43 INFO     Migrations complete
2023-11-07 21:15:02 DEBUG    Calling on_part_begin with no data
2023-11-07 21:15:02 DEBUG    Calling on_header_field with data[54:73]
2023-11-07 21:15:02 DEBUG    Calling on_header_value with data[75:129]
2023-11-07 21:15:02 DEBUG    Calling on_header_end with no data
2023-11-07 21:15:02 DEBUG    Calling on_header_field with data[131:143]
2023-11-07 21:15:02 DEBUG    Calling on_header_value with data[145:155]
2023-11-07 21:15:02 DEBUG    Calling on_header_end with no data
2023-11-07 21:15:02 DEBUG    Calling on_headers_finished with no data
2023-11-07 21:15:02 DEBUG    Calling on_part_data with data[159:95985]
2023-11-07 21:15:02 DEBUG    Calling on_part_data with data[0:1]
2023-11-07 21:15:02 DEBUG    Calling on_part_data with data[95986:256159]
2023-11-07 21:15:02 DEBUG    Calling on_part_data with data[0:36095]
2023-11-07 21:15:02 DEBUG    Calling on_part_end with no data
2023-11-07 21:15:02 DEBUG    Calling on_end with no data
2023-11-07 21:15:02 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-11-07 21:15:02 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-11-07 21:15:02 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-11-07 21:15:02 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-11-07 21:15:02 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-11-07 21:15:02 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-11-07 21:15:02 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-11-07 21:15:02 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-11-07 21:15:02 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-11-07 21:15:02 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-11-07 21:15:02 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-11-07 21:15:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-11-07 21:15:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-11-07 21:15:02 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1074ffa60>
2023-11-07 21:15:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-11-07 21:15:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-11-07 21:15:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-11-07 21:15:02 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x10743b100>
2023-11-07 21:15:02 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10a935300>
2023-11-07 21:15:02 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x10743ae80>
2023-11-07 21:15:02 DEBUG    Looking for endpoint for s3 via: environment_service
2023-11-07 21:15:02 DEBUG    Looking for endpoint for s3 via: environment_global
2023-11-07 21:15:02 DEBUG    Looking for endpoint for s3 via: config_service
2023-11-07 21:15:02 DEBUG    Looking for endpoint for s3 via: config_global
2023-11-07 21:15:02 DEBUG    No configured endpoint found.
2023-11-07 21:15:02 DEBUG    Setting s3 timeout as (60, 60)
2023-11-07 21:15:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-11-07 21:15:02 DEBUG    Registering retry handlers for service: s3
2023-11-07 21:15:02 DEBUG    Registering S3 region redirector handler
2023-11-07 21:15:02 DEBUG    Acquiring 0
2023-11-07 21:15:02 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1085b0990>}) about to wait for the following futures []
2023-11-07 21:15:02 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1085b0990>}) done waiting for dependent futures
2023-11-07 21:15:02 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1085b0990>}) with kwargs {'client': <botocore.client.S3 object at 0x108062650>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10a584990>, 'osutil': <s3transfer.utils.OSUtils object at 0x1084f4390>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1085b2750>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1085b0990>}
2023-11-07 21:15:02 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1085b2750> for transfer request: 0.
2023-11-07 21:15:02 DEBUG    Acquiring 0
2023-11-07 21:15:02 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-11-07 21:15:02 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-11-07 21:15:02 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x108062650>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10a5fd6d0>, 'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}
2023-11-07 21:15:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107512480>
2023-11-07 21:15:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107511760>
2023-11-07 21:15:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107512e80>
2023-11-07 21:15:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x1075116c0>
2023-11-07 21:15:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x1075137e0>
2023-11-07 21:15:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10e6b0d50>>
2023-11-07 21:15:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x1075114e0>
2023-11-07 21:15:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1075139c0>
2023-11-07 21:15:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10e6b0d50>>
2023-11-07 21:15:02 DEBUG    Releasing acquire 0/None
2023-11-07 21:15:02 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:15:02 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-11-07 21:15:02 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:15:02 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:15:02 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x10737aa20>
2023-11-07 21:15:02 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107511a80>
2023-11-07 21:15:02 DEBUG    Adding expect 100 continue header to request.
2023-11-07 21:15:02 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1075109a0>
2023-11-07 21:15:02 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107512fc0>
2023-11-07 21:15:02 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/SAIKND/IMG_1436.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10a5fd6d0>, 'auth_path': '/splitz-receipts/SAIKND/IMG_1436.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10a577650>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'SAIKND/IMG_1436.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10a5fd6d0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10e74fe20>
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f8103d0>>
2023-11-07 21:15:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10e405d90>>
2023-11-07 21:15:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1075113a0>
2023-11-07 21:15:02 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107513920>
2023-11-07 21:15:02 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:15:02 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T051502Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:15:02 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T051502Z
20231108/us-east-1/s3/aws4_request
5060d6be4b5240ff9db13b4bb44f072853af7a7379eda3c343afffdd83e4c5e7
2023-11-07 21:15:02 DEBUG    Signature:
9360c420d57673dfef21950be734f58266b4e4a292d2d187608eeb4390fd3a0a
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10e760180>
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107513740>
2023-11-07 21:15:02 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T051502Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=9360c420d57673dfef21950be734f58266b4e4a292d2d187608eeb4390fd3a0a', 'amz-sdk-invocation-id': b'9c563a1a-9aae-4bdd-8835-042467a9f6f3', 'amz-sdk-request': b'attempt=1', 'Content-Length': '292095'}>
2023-11-07 21:15:02 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:15:02 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-11-07 21:15:02 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:15:02 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-11-07 21:15:02 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 400 None
2023-11-07 21:15:02 DEBUG    Response headers: {'x-amz-request-id': 'BYXCKFW8VH9Z47EG', 'x-amz-id-2': 'Zk9UIUITpT16RJ6irm/gSl6Xvo9O+p4K8S9eMV8w/CUmOuif3yWeS704krFwXC8UCiPSzR/ZvEw=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 08 Nov 2023 05:15:01 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-11-07 21:15:02 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>BYXCKFW8VH9Z47EG</RequestId><HostId>Zk9UIUITpT16RJ6irm/gSl6Xvo9O+p4K8S9eMV8w/CUmOuif3yWeS704krFwXC8UCiPSzR/ZvEw=</HostId></Error>'
2023-11-07 21:15:02 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f822550>
2023-11-07 21:15:02 DEBUG    No retry needed.
2023-11-07 21:15:02 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10e6b0d50>>
2023-11-07 21:15:02 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-11-07 21:15:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1075139c0>
2023-11-07 21:15:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10e6b0d50>>
2023-11-07 21:15:02 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:15:02 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-11-07 21:15:02 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg
2023-11-07 21:15:02 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:15:02 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:15:02 DEBUG    Response received to retry, sleeping for 0 seconds
2023-11-07 21:15:02 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10a5fd6d0>
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10e74fe20>
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f8103d0>>
2023-11-07 21:15:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10e405d90>>
2023-11-07 21:15:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1075113a0>
2023-11-07 21:15:02 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107513920>
2023-11-07 21:15:02 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:15:02 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T051502Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:15:02 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T051502Z
20231108/us-east-2/s3/aws4_request
ace5b77a8f08f045745b09da84e8033226063d396c1fbab308bb3b9ee4a33f6f
2023-11-07 21:15:02 DEBUG    Signature:
aafca1f1903787a9da7b106832a25e8a17c03a2206efbb3485171a78feabb4e6
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10e760180>
2023-11-07 21:15:02 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107513740>
2023-11-07 21:15:02 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T051502Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=aafca1f1903787a9da7b106832a25e8a17c03a2206efbb3485171a78feabb4e6', 'amz-sdk-invocation-id': b'9c563a1a-9aae-4bdd-8835-042467a9f6f3', 'amz-sdk-request': b'ttl=20231108T051601Z; attempt=2; max=5', 'Content-Length': '292095'}>
2023-11-07 21:15:02 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:15:02 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-11-07 21:15:02 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:15:03 DEBUG    100 Continue response seen, now sending request body.
2023-11-07 21:15:04 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 200 0
2023-11-07 21:15:04 DEBUG    Response headers: {'x-amz-id-2': '+ndOyBM5LaxMetywL3y0lP5yg2eiWAsEr8CIDaXhRJrAPB+p6BePdYA1r19/jOHdqpyvsuQpwJc=', 'x-amz-request-id': 'BYX1M9NHKWBF51XJ', 'Date': 'Wed, 08 Nov 2023 05:15:03 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"885022179ac83dedb8c35c335db4c76b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-11-07 21:15:04 DEBUG    Response body:
b''
2023-11-07 21:15:04 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f822550>
2023-11-07 21:15:04 DEBUG    No retry needed.
2023-11-07 21:15:04 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10e6b0d50>>
2023-11-07 21:15:04 DEBUG    S3 request was previously redirected, not redirecting.
2023-11-07 21:15:04 DEBUG    Releasing acquire 0/None
2023-11-07 21:15:04 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to SAIKND folder in S3
2023-11-07 21:15:39 INFO     Migrations complete
2023-11-07 21:15:41 INFO     Migrations complete
2023-11-07 21:16:00 DEBUG    Calling on_part_begin with no data
2023-11-07 21:16:00 DEBUG    Calling on_header_field with data[54:73]
2023-11-07 21:16:00 DEBUG    Calling on_header_value with data[75:129]
2023-11-07 21:16:00 DEBUG    Calling on_header_end with no data
2023-11-07 21:16:00 DEBUG    Calling on_header_field with data[131:143]
2023-11-07 21:16:00 DEBUG    Calling on_header_value with data[145:155]
2023-11-07 21:16:00 DEBUG    Calling on_header_end with no data
2023-11-07 21:16:00 DEBUG    Calling on_headers_finished with no data
2023-11-07 21:16:00 DEBUG    Calling on_part_data with data[159:137371]
2023-11-07 21:16:00 DEBUG    Calling on_part_data with data[0:1]
2023-11-07 21:16:00 DEBUG    Calling on_part_data with data[137372:196767]
2023-11-07 21:16:00 DEBUG    Calling on_part_data with data[0:95487]
2023-11-07 21:16:00 DEBUG    Calling on_part_end with no data
2023-11-07 21:16:00 DEBUG    Calling on_end with no data
2023-11-07 21:16:00 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-11-07 21:16:00 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-11-07 21:16:00 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-11-07 21:16:00 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-11-07 21:16:00 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-11-07 21:16:00 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-11-07 21:16:00 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-11-07 21:16:00 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-11-07 21:16:00 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-11-07 21:16:00 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-11-07 21:16:00 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-11-07 21:16:00 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-11-07 21:16:00 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-11-07 21:16:00 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x106cfba60>
2023-11-07 21:16:00 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-11-07 21:16:00 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-11-07 21:16:00 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-11-07 21:16:00 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x106c3b100>
2023-11-07 21:16:00 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10b235300>
2023-11-07 21:16:00 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x106c3ae80>
2023-11-07 21:16:00 DEBUG    Looking for endpoint for s3 via: environment_service
2023-11-07 21:16:00 DEBUG    Looking for endpoint for s3 via: environment_global
2023-11-07 21:16:00 DEBUG    Looking for endpoint for s3 via: config_service
2023-11-07 21:16:00 DEBUG    Looking for endpoint for s3 via: config_global
2023-11-07 21:16:00 DEBUG    No configured endpoint found.
2023-11-07 21:16:00 DEBUG    Setting s3 timeout as (60, 60)
2023-11-07 21:16:00 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-11-07 21:16:00 DEBUG    Registering retry handlers for service: s3
2023-11-07 21:16:00 DEBUG    Registering S3 region redirector handler
2023-11-07 21:16:00 DEBUG    Acquiring 0
2023-11-07 21:16:00 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x118802550>}) about to wait for the following futures []
2023-11-07 21:16:00 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x118802550>}) done waiting for dependent futures
2023-11-07 21:16:00 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x118802550>}) with kwargs {'client': <botocore.client.S3 object at 0x118801ed0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10b250110>, 'osutil': <s3transfer.utils.OSUtils object at 0x10b23ffd0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x118a25890>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x118802550>}
2023-11-07 21:16:00 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x118a25890> for transfer request: 0.
2023-11-07 21:16:00 DEBUG    Acquiring 0
2023-11-07 21:16:00 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-11-07 21:16:00 DEBUG    Releasing acquire 0/None
2023-11-07 21:16:00 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-11-07 21:16:00 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x118801ed0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x109f5f8d0>, 'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}
2023-11-07 21:16:00 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x106d12480>
2023-11-07 21:16:00 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x106d11760>
2023-11-07 21:16:00 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x106d12e80>
2023-11-07 21:16:00 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x106d116c0>
2023-11-07 21:16:00 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x106d137e0>
2023-11-07 21:16:00 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x109f39b90>>
2023-11-07 21:16:00 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x106d114e0>
2023-11-07 21:16:00 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106d139c0>
2023-11-07 21:16:00 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x109f39b90>>
2023-11-07 21:16:00 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:16:00 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-11-07 21:16:00 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:16:00 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:16:00 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x106a7aa20>
2023-11-07 21:16:00 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x106d11a80>
2023-11-07 21:16:00 DEBUG    Adding expect 100 continue header to request.
2023-11-07 21:16:00 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x106d109a0>
2023-11-07 21:16:00 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x106d12fc0>
2023-11-07 21:16:00 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/SAIKND/IMG_1436.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x109f5f8d0>, 'auth_path': '/splitz-receipts/SAIKND/IMG_1436.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x109f50890>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'SAIKND/IMG_1436.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x109f5f8d0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-11-07 21:16:00 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11889fe20>
2023-11-07 21:16:00 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x118a0f490>>
2023-11-07 21:16:00 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10b2514d0>>
2023-11-07 21:16:00 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106d113a0>
2023-11-07 21:16:00 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106d13920>
2023-11-07 21:16:00 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:16:00 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T051600Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:16:00 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T051600Z
20231108/us-east-1/s3/aws4_request
5d0c9a9f7f72b55f49c3ecc25157d2358e4abb7d56a929a752798ef4f53d69fa
2023-11-07 21:16:00 DEBUG    Signature:
60419288c51c45d19bc6b3fbc6a8908c787fa397e937be6b32679f10f632bcdc
2023-11-07 21:16:00 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1188b0180>
2023-11-07 21:16:00 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106d13740>
2023-11-07 21:16:00 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T051600Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=60419288c51c45d19bc6b3fbc6a8908c787fa397e937be6b32679f10f632bcdc', 'amz-sdk-invocation-id': b'cc3a0864-7e5b-470f-a6cb-3e9a2244dd41', 'amz-sdk-request': b'attempt=1', 'Content-Length': '292095'}>
2023-11-07 21:16:00 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:16:00 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-11-07 21:16:00 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:16:01 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-11-07 21:16:01 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 400 None
2023-11-07 21:16:01 DEBUG    Response headers: {'x-amz-request-id': 'SX30CD7JQKG4J9KB', 'x-amz-id-2': 'ikqybuppYdF6f1gCwWQLql3MVcJCJUUELRPavEanKhBA7Z9Gi9oCEraEhjzx+oC0ZGlEgDNEfdY=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 08 Nov 2023 05:16:00 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-11-07 21:16:01 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>SX30CD7JQKG4J9KB</RequestId><HostId>ikqybuppYdF6f1gCwWQLql3MVcJCJUUELRPavEanKhBA7Z9Gi9oCEraEhjzx+oC0ZGlEgDNEfdY=</HostId></Error>'
2023-11-07 21:16:01 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x118a255d0>
2023-11-07 21:16:01 DEBUG    No retry needed.
2023-11-07 21:16:01 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x109f39b90>>
2023-11-07 21:16:01 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-11-07 21:16:01 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106d139c0>
2023-11-07 21:16:01 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x109f39b90>>
2023-11-07 21:16:01 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:16:01 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-11-07 21:16:01 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg
2023-11-07 21:16:01 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:16:01 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:16:01 DEBUG    Response received to retry, sleeping for 0 seconds
2023-11-07 21:16:01 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x109f5f8d0>
2023-11-07 21:16:01 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11889fe20>
2023-11-07 21:16:01 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x118a0f490>>
2023-11-07 21:16:01 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10b2514d0>>
2023-11-07 21:16:01 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106d113a0>
2023-11-07 21:16:01 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106d13920>
2023-11-07 21:16:01 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:16:01 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T051601Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:16:01 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T051601Z
20231108/us-east-2/s3/aws4_request
0a1808a1e606220921380d75d23dd3d955ffdde13b4ff750d162c4e7ca15ef01
2023-11-07 21:16:01 DEBUG    Signature:
3f90e4c27a2905bca62991c071a86e5083e58e0e56d003a2f58336aa766abe5a
2023-11-07 21:16:01 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1188b0180>
2023-11-07 21:16:01 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106d13740>
2023-11-07 21:16:01 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T051601Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=3f90e4c27a2905bca62991c071a86e5083e58e0e56d003a2f58336aa766abe5a', 'amz-sdk-invocation-id': b'cc3a0864-7e5b-470f-a6cb-3e9a2244dd41', 'amz-sdk-request': b'ttl=20231108T051700Z; attempt=2; max=5', 'Content-Length': '292095'}>
2023-11-07 21:16:01 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:16:01 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-11-07 21:16:01 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:16:01 DEBUG    100 Continue response seen, now sending request body.
2023-11-07 21:16:02 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 200 0
2023-11-07 21:16:02 DEBUG    Response headers: {'x-amz-id-2': '3SCBAnvKNnOGx5Dorhs5HhucjMsTRk/AlfFV96UjdNhfn9IAhn5xrOjWG8KJTdi+T5KVclViIpw=', 'x-amz-request-id': 'SX31G4BH18X8NT98', 'Date': 'Wed, 08 Nov 2023 05:16:02 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"885022179ac83dedb8c35c335db4c76b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-11-07 21:16:02 DEBUG    Response body:
b''
2023-11-07 21:16:02 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x118a255d0>
2023-11-07 21:16:02 DEBUG    No retry needed.
2023-11-07 21:16:02 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x109f39b90>>
2023-11-07 21:16:02 DEBUG    S3 request was previously redirected, not redirecting.
2023-11-07 21:16:02 DEBUG    Releasing acquire 0/None
2023-11-07 21:16:02 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to SAIKND folder in S3
2023-11-07 21:48:06 INFO     Migrations complete
2023-11-07 21:48:27 DEBUG    Calling on_part_begin with no data
2023-11-07 21:48:27 DEBUG    Calling on_header_field with data[54:73]
2023-11-07 21:48:27 DEBUG    Calling on_header_value with data[75:129]
2023-11-07 21:48:27 DEBUG    Calling on_header_end with no data
2023-11-07 21:48:27 DEBUG    Calling on_header_field with data[131:143]
2023-11-07 21:48:27 DEBUG    Calling on_header_value with data[145:155]
2023-11-07 21:48:27 DEBUG    Calling on_header_end with no data
2023-11-07 21:48:27 DEBUG    Calling on_headers_finished with no data
2023-11-07 21:48:27 DEBUG    Calling on_part_data with data[159:65695]
2023-11-07 21:48:27 DEBUG    Calling on_part_data with data[0:2812]
2023-11-07 21:48:27 DEBUG    Calling on_part_data with data[0:1]
2023-11-07 21:48:27 DEBUG    Calling on_part_data with data[2813:226559]
2023-11-07 21:48:27 DEBUG    Calling on_part_end with no data
2023-11-07 21:48:27 DEBUG    Calling on_end with no data
2023-11-07 21:48:27 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-11-07 21:48:27 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-11-07 21:48:27 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-11-07 21:48:27 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-11-07 21:48:27 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-11-07 21:48:27 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-11-07 21:48:27 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-11-07 21:48:27 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-11-07 21:48:27 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-11-07 21:48:27 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-11-07 21:48:27 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-11-07 21:48:27 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-11-07 21:48:27 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-11-07 21:48:27 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107f33a60>
2023-11-07 21:48:27 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-11-07 21:48:27 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-11-07 21:48:27 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-11-07 21:48:27 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107e73100>
2023-11-07 21:48:27 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10c9d2340>
2023-11-07 21:48:27 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107e72e80>
2023-11-07 21:48:27 DEBUG    Looking for endpoint for s3 via: environment_service
2023-11-07 21:48:27 DEBUG    Looking for endpoint for s3 via: environment_global
2023-11-07 21:48:27 DEBUG    Looking for endpoint for s3 via: config_service
2023-11-07 21:48:27 DEBUG    Looking for endpoint for s3 via: config_global
2023-11-07 21:48:27 DEBUG    No configured endpoint found.
2023-11-07 21:48:27 DEBUG    Setting s3 timeout as (60, 60)
2023-11-07 21:48:27 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-11-07 21:48:27 DEBUG    Registering retry handlers for service: s3
2023-11-07 21:48:27 DEBUG    Registering S3 region redirector handler
2023-11-07 21:48:27 DEBUG    Acquiring 0
2023-11-07 21:48:27 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12a2035d0>}) about to wait for the following futures []
2023-11-07 21:48:27 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12a2035d0>}) done waiting for dependent futures
2023-11-07 21:48:27 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x12a2035d0>}) with kwargs {'client': <botocore.client.S3 object at 0x12a25f5d0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10cb50790>, 'osutil': <s3transfer.utils.OSUtils object at 0x10c9f3e90>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x12a326250>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x12a2035d0>}
2023-11-07 21:48:27 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x12a326250> for transfer request: 0.
2023-11-07 21:48:27 DEBUG    Acquiring 0
2023-11-07 21:48:27 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-11-07 21:48:27 DEBUG    Releasing acquire 0/None
2023-11-07 21:48:27 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-11-07 21:48:27 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x12a25f5d0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10c99bdd0>, 'bucket': 'splitz-receipts', 'key': 'SAIKND/IMG_1436.jpg', 'extra_args': {}}
2023-11-07 21:48:27 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107f4a480>
2023-11-07 21:48:27 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107f49760>
2023-11-07 21:48:27 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107f4ae80>
2023-11-07 21:48:27 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107f496c0>
2023-11-07 21:48:27 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107f4b7e0>
2023-11-07 21:48:27 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x108dce790>>
2023-11-07 21:48:27 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107f494e0>
2023-11-07 21:48:27 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107f4b9c0>
2023-11-07 21:48:27 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x108dce790>>
2023-11-07 21:48:27 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:48:27 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-11-07 21:48:27 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:48:27 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:48:27 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107db2a20>
2023-11-07 21:48:27 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107f49a80>
2023-11-07 21:48:27 DEBUG    Adding expect 100 continue header to request.
2023-11-07 21:48:27 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107f489a0>
2023-11-07 21:48:27 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107f4afc0>
2023-11-07 21:48:27 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/SAIKND/IMG_1436.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10c99bdd0>, 'auth_path': '/splitz-receipts/SAIKND/IMG_1436.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x12a200a50>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'SAIKND/IMG_1436.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10c99bdd0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-11-07 21:48:27 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x12a29bd80>
2023-11-07 21:48:27 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x12a310250>>
2023-11-07 21:48:27 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10c974a50>>
2023-11-07 21:48:27 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107f493a0>
2023-11-07 21:48:27 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107f4b920>
2023-11-07 21:48:27 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:48:27 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T054827Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:48:27 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T054827Z
20231108/us-east-1/s3/aws4_request
bf1bd7b3db9c2aaf6d6f2757adf4852caf7ebea565ac631dc23e3c960893dcee
2023-11-07 21:48:27 DEBUG    Signature:
c4da201b010691d1241a7268e8a7f59862d92ac6ad4569d169c6da43d00f824a
2023-11-07 21:48:27 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x12a2b00e0>
2023-11-07 21:48:27 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107f4b740>
2023-11-07 21:48:27 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T054827Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=c4da201b010691d1241a7268e8a7f59862d92ac6ad4569d169c6da43d00f824a', 'amz-sdk-invocation-id': b'1b33792f-7b4c-4400-99a7-9a92a51f6565', 'amz-sdk-request': b'attempt=1', 'Content-Length': '292095'}>
2023-11-07 21:48:27 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:48:27 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-11-07 21:48:28 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:48:28 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-11-07 21:48:28 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 400 None
2023-11-07 21:48:28 DEBUG    Response headers: {'x-amz-request-id': 'EK13JHJPYXC9KMN3', 'x-amz-id-2': 'VHrxbkj05cKvMlqUQUiv78hRflL6wX5QzayGnzpY/kVSSC17mQmuM9HcOIifriO1I1UNAFwIRdQ=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Wed, 08 Nov 2023 05:48:27 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-11-07 21:48:28 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>EK13JHJPYXC9KMN3</RequestId><HostId>VHrxbkj05cKvMlqUQUiv78hRflL6wX5QzayGnzpY/kVSSC17mQmuM9HcOIifriO1I1UNAFwIRdQ=</HostId></Error>'
2023-11-07 21:48:28 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x12a326110>
2023-11-07 21:48:28 DEBUG    No retry needed.
2023-11-07 21:48:28 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x108dce790>>
2023-11-07 21:48:28 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-11-07 21:48:28 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107f4b9c0>
2023-11-07 21:48:28 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x108dce790>>
2023-11-07 21:48:28 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-11-07 21:48:28 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-11-07 21:48:28 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/SAIKND/IMG_1436.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg
2023-11-07 21:48:28 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-11-07 21:48:28 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-11-07 21:48:28 DEBUG    Response received to retry, sleeping for 0 seconds
2023-11-07 21:48:28 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10c99bdd0>
2023-11-07 21:48:28 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x12a29bd80>
2023-11-07 21:48:28 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x12a310250>>
2023-11-07 21:48:28 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10c974a50>>
2023-11-07 21:48:28 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107f493a0>
2023-11-07 21:48:28 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107f4b920>
2023-11-07 21:48:28 DEBUG    Calculating signature using v4 auth.
2023-11-07 21:48:28 DEBUG    CanonicalRequest:
PUT
/SAIKND/IMG_1436.jpg

content-md5:iFAiF5rIPe24w1wzXbTHaw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231108T054828Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-11-07 21:48:28 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231108T054828Z
20231108/us-east-2/s3/aws4_request
a0349b023326d1967be746abafd17098ac6364a586b1ee023f48d647308767a5
2023-11-07 21:48:28 DEBUG    Signature:
914df7786022899f732c41bd90b84211ced219b393579c1903c5322da3c377e1
2023-11-07 21:48:28 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x12a2b00e0>
2023-11-07 21:48:28 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107f4b740>
2023-11-07 21:48:28 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/SAIKND/IMG_1436.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'iFAiF5rIPe24w1wzXbTHaw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231108T054828Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231108/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=914df7786022899f732c41bd90b84211ced219b393579c1903c5322da3c377e1', 'amz-sdk-invocation-id': b'1b33792f-7b4c-4400-99a7-9a92a51f6565', 'amz-sdk-request': b'ttl=20231108T054927Z; attempt=2; max=5', 'Content-Length': '292095'}>
2023-11-07 21:48:28 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-11-07 21:48:28 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-11-07 21:48:28 DEBUG    Waiting for 100 Continue response.
2023-11-07 21:48:28 DEBUG    100 Continue response seen, now sending request body.
2023-11-07 21:48:30 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /SAIKND/IMG_1436.jpg HTTP/1.1" 200 0
2023-11-07 21:48:30 DEBUG    Response headers: {'x-amz-id-2': 'TEJq6YhA3qVHpEWKPrFn35eJ4hg2ha5wfuZsZExn1fuhA06i/9lKJMqp9thmybm+WLt5EE4AO4o=', 'x-amz-request-id': 'EK1FR0157Y2BC2XZ', 'Date': 'Wed, 08 Nov 2023 05:48:29 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"885022179ac83dedb8c35c335db4c76b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-11-07 21:48:30 DEBUG    Response body:
b''
2023-11-07 21:48:30 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x12a326110>
2023-11-07 21:48:30 DEBUG    No retry needed.
2023-11-07 21:48:30 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x108dce790>>
2023-11-07 21:48:30 DEBUG    S3 request was previously redirected, not redirecting.
2023-11-07 21:48:30 DEBUG    Releasing acquire 0/None
2023-11-07 21:48:30 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to SAIKND folder in S3
2023-11-07 22:02:38 INFO     room.services.create_room(): Room created sucessfully
2023-11-07 22:09:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-07 22:19:20 INFO     Migrations complete
2023-11-07 22:26:30 INFO     Migrations complete
2023-11-07 22:27:00 ERROR    No row was found when one was required
2023-11-07 22:29:45 INFO     Migrations complete
2023-11-07 22:29:45 ERROR    No row was found when one was required
2023-11-07 22:30:13 INFO     -- BEGIN Twilio API Request --
2023-11-07 22:30:13 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-11-07 22:30:13 INFO     Headers:
2023-11-07 22:30:13 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-07 22:30:13 INFO     X-Twilio-Client : python-8.5.0
2023-11-07 22:30:13 INFO     Accept-Charset : utf-8
2023-11-07 22:30:13 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-07 22:30:13 INFO     Accept : application/json
2023-11-07 22:30:13 INFO     -- END Twilio API Request --
2023-11-07 22:30:13 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-11-07 22:30:13 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 403 252
2023-11-07 22:30:13 INFO     Response Status Code: 403
2023-11-07 22:30:13 INFO     Response Headers: {'Date': 'Wed, 08 Nov 2023 06:30:13 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '252', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ8d81526453697f0895295c68bb67a22e', 'Twilio-Request-Duration': '0.032', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-07 22:30:38 INFO     Migrations complete
2023-11-07 22:30:40 INFO     -- BEGIN Twilio API Request --
2023-11-07 22:30:40 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-11-07 22:30:40 INFO     Headers:
2023-11-07 22:30:40 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-07 22:30:40 INFO     X-Twilio-Client : python-8.5.0
2023-11-07 22:30:40 INFO     Accept-Charset : utf-8
2023-11-07 22:30:40 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-07 22:30:40 INFO     Accept : application/json
2023-11-07 22:30:40 INFO     -- END Twilio API Request --
2023-11-07 22:30:40 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-11-07 22:30:41 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 403 252
2023-11-07 22:30:41 INFO     Response Status Code: 403
2023-11-07 22:30:41 INFO     Response Headers: {'Date': 'Wed, 08 Nov 2023 06:30:41 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '252', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ12afc4b4530cf81cefb91062bbbbdfd3', 'Twilio-Request-Duration': '0.019', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-09 21:12:35 INFO     Migrations complete
2023-11-09 21:12:39 INFO     -- BEGIN Twilio API Request --
2023-11-09 21:12:39 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-11-09 21:12:39 INFO     Headers:
2023-11-09 21:12:39 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-09 21:12:39 INFO     X-Twilio-Client : python-8.5.0
2023-11-09 21:12:39 INFO     Accept-Charset : utf-8
2023-11-09 21:12:39 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-09 21:12:39 INFO     Accept : application/json
2023-11-09 21:12:39 INFO     -- END Twilio API Request --
2023-11-09 21:12:39 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-11-09 21:12:39 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 403 252
2023-11-09 21:12:39 INFO     Response Status Code: 403
2023-11-09 21:12:39 INFO     Response Headers: {'Date': 'Fri, 10 Nov 2023 05:12:39 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '252', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQad00fa99ff041af6b26f4e87ea593a68', 'Twilio-Request-Duration': '0.036', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Powered-By': 'AT-5000', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-09 21:22:10 INFO     -- BEGIN Twilio API Request --
2023-11-09 21:22:10 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-11-09 21:22:10 INFO     Headers:
2023-11-09 21:22:10 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-09 21:22:10 INFO     X-Twilio-Client : python-8.5.0
2023-11-09 21:22:10 INFO     Accept-Charset : utf-8
2023-11-09 21:22:10 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-09 21:22:10 INFO     Accept : application/json
2023-11-09 21:22:10 INFO     -- END Twilio API Request --
2023-11-09 21:22:10 DEBUG    Resetting dropped connection: verify.twilio.com
2023-11-09 21:22:11 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 403 252
2023-11-09 21:22:11 INFO     Response Status Code: 403
2023-11-09 21:22:11 INFO     Response Headers: {'Date': 'Fri, 10 Nov 2023 05:22:11 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '252', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ15b64d1adebc11f9d52244c898ee6739', 'Twilio-Request-Duration': '0.037', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-09 21:23:29 INFO     -- BEGIN Twilio API Request --
2023-11-09 21:23:29 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-11-09 21:23:29 INFO     Headers:
2023-11-09 21:23:29 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-11-09 21:23:29 INFO     X-Twilio-Client : python-8.5.0
2023-11-09 21:23:29 INFO     Accept-Charset : utf-8
2023-11-09 21:23:29 INFO     Content-Type : application/x-www-form-urlencoded
2023-11-09 21:23:29 INFO     Accept : application/json
2023-11-09 21:23:29 INFO     -- END Twilio API Request --
2023-11-09 21:23:29 DEBUG    Resetting dropped connection: verify.twilio.com
2023-11-09 21:23:30 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-11-09 21:23:30 INFO     Response Status Code: 201
2023-11-09 21:23:30 INFO     Response Headers: {'Date': 'Fri, 10 Nov 2023 05:23:30 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ066a2b212020e4fe2da84fcbd5567b04', 'Twilio-Request-Duration': '0.158', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'X-Powered-By': 'AT-5000', 'Strict-Transport-Security': 'max-age=31536000', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-11-09 21:23:30 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-11-09 21:25:33 ERROR    No row was found when one was required
2023-11-09 21:25:49 INFO     user.services.get_user(): Sucessfully queried record
2023-11-09 21:25:54 INFO     user.services.get_user(): Sucessfully queried record
2023-11-09 21:30:24 ERROR    No row was found when one was required
2023-11-09 21:30:47 INFO     Migrations complete
2023-11-09 21:45:09 ERROR    No row was found when one was required
2023-11-09 21:45:39 ERROR    No row was found when one was required
2023-11-09 21:45:59 INFO     Migrations complete
2023-11-09 21:46:03 INFO     Migrations complete
2023-11-09 21:47:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-09 21:47:41 INFO     Migrations complete
2023-11-09 22:09:08 INFO     Migrations complete
2023-11-09 22:22:24 INFO     user.services.get_user(): Sucessfully queried record
2023-11-09 22:23:05 INFO     user.services.get_user(): Sucessfully queried record
2023-11-09 22:23:58 INFO     user.services.get_user(): Sucessfully queried record
2023-11-09 22:26:39 INFO     user.services.get_user(): Sucessfully queried record
2023-11-09 22:27:11 INFO     user.services.get_user(): Sucessfully queried record
2023-11-10 13:09:01 INFO     user.services.get_user(): Sucessfully queried record
2023-11-10 13:10:12 INFO     user.services.get_user(): Sucessfully queried record
2023-11-10 13:18:54 INFO     user.services.get_user(): Sucessfully queried record
2023-11-10 14:02:49 INFO     user.services.get_user(): Sucessfully queried record
2023-11-10 14:03:12 INFO     user.services.get_user(): Sucessfully queried record
2023-11-10 14:03:41 INFO     user.services.get_user(): Sucessfully queried record
2023-11-11 20:38:30 INFO     user.services.get_user(): Sucessfully queried record
2023-11-11 20:42:55 INFO     user.services.get_user(): Sucessfully queried record
2023-11-11 20:43:04 INFO     user.services.get_user(): Sucessfully queried record
2023-11-15 22:14:34 INFO     Migrations complete
2023-11-15 22:15:38 INFO     Migrations complete
2023-11-15 22:16:02 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 18:53:36 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:02:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:16:04 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:16:16 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:19:49 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:21:30 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:22:53 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:35:55 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:35:56 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:37:53 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:38:50 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:39:05 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:39:38 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:39:42 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:39:59 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:41:47 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:41:50 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:42:29 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:42:35 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:43:19 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:43:24 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:43:28 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:43:49 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:44:06 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:44:12 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:44:23 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:44:33 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:44:45 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:44:56 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:45:02 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:45:05 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:48:12 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:48:16 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:48:46 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:48:47 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:49:08 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:49:15 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:49:20 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:49:26 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:49:44 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:50:23 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:50:27 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:50:33 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:50:47 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:50:55 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:51:55 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:52:14 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:52:15 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:53:26 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:53:27 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:55:27 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:55:43 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:55:44 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:55:56 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:55:57 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:57:07 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:57:21 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:57:22 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 19:59:42 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:00:23 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:06:24 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:07:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:08:38 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:08:39 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:08:44 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:08:44 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:08:51 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:08:52 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:09:10 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:09:11 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:14 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:15 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:19 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:20 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:26 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:26 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:10:41 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:44 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:10:44 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:11:50 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:11:51 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:12:13 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:15:44 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:17:25 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:17:25 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:18:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:18:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:18:17 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:19:38 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:20:25 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:20:34 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:20:35 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:20:47 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:20:48 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:20:52 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:20:52 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:21:00 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:21:02 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:21:08 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:21:08 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:22:23 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:22:27 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:22:28 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:22:41 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:22:41 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:22:58 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:22:59 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:28:14 INFO     room.services.create_room(): Room created sucessfully
2023-11-21 20:30:30 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:30:40 INFO     room.services.create_room(): Room created sucessfully
2023-11-21 20:31:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:31:25 INFO     room.services.create_room(): Room created sucessfully
2023-11-21 20:32:15 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:32:33 INFO     room.services.create_room(): Room created sucessfully
2023-11-21 20:32:52 INFO     room.services.create_room(): Room created sucessfully
2023-11-21 20:40:06 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:41:19 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:46:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:47:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:47:40 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:48:18 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:48:59 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:48:59 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:49:17 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:49:17 INFO     user.services.update_user(): User updated sucessfully
2023-11-21 20:49:32 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:49:37 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:50:09 INFO     room.services.create_room(): Room created sucessfully
2023-11-21 20:53:16 INFO     room.services.create_room(): Room created sucessfully
2023-11-21 20:53:47 INFO     user.services.get_user(): Sucessfully queried record
2023-11-21 20:54:12 INFO     user.services.get_user(): Sucessfully queried record
2023-11-24 11:55:31 INFO     user.services.get_user(): Sucessfully queried record
2023-11-24 11:55:52 INFO     user.services.get_user(): Sucessfully queried record
2023-11-24 12:31:03 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 15:41:14 ERROR    room.services.join_room(): Unknown error
2023-11-25 15:42:18 ERROR    room.services.join_room(): Unknown error
2023-11-25 15:43:39 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 15:43:52 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:10:30 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:10:52 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:11:01 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:11:25 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:12:06 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:13:08 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:13:31 INFO     user.services.get_user(): Sucessfully queried record
2023-11-25 16:13:54 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 19:32:26 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 19:32:58 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 19:35:08 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 19:41:04 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 19:43:35 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 20:18:05 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 20:20:43 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 20:21:32 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 20:25:19 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 20:27:27 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 21:13:41 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 21:14:59 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 21:16:32 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 21:17:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-26 22:09:58 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 19:54:33 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 19:54:45 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 19:56:52 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 19:57:29 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 19:59:26 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:12:31 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:21:07 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:21:28 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:22:38 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:33:44 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:33:59 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:34:00 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:36:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:36:31 ERROR    room.services.join_room(): Unknown error
2023-11-27 20:36:36 ERROR    room.services.join_room(): Unknown error
2023-11-27 20:36:45 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:36:51 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:37:40 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:42:11 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:42:43 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 20:58:42 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 21:03:25 INFO     user.services.get_user(): Sucessfully queried record
2023-11-27 21:04:49 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 21:07:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:15:31 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:16:12 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:17:14 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:24:42 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:26:09 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:26:35 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:28:24 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:28:34 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:28:44 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:31:42 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:42:45 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:43:10 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:46:35 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:52:01 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 22:54:20 INFO     room.services.create_room(): Room created sucessfully
2023-11-28 22:55:14 ERROR    room.services.join_room(): Unknown error
2023-11-28 23:10:43 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 23:11:32 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 23:15:01 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 23:17:13 INFO     user.services.get_user(): Sucessfully queried record
2023-11-28 23:17:35 INFO     user.services.get_user(): Sucessfully queried record
2023-12-01 00:31:55 INFO     user.services.get_user(): Sucessfully queried record
2023-12-01 00:59:08 INFO     Migrations complete
2023-12-01 01:01:55 INFO     Migrations complete
2023-12-02 18:40:29 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 18:42:29 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 18:45:32 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 18:46:53 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 18:59:44 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:01:12 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:04:22 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:04:58 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:06:11 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:14:25 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:16:02 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:17:28 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:18:40 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:19:20 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:21:11 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:24:05 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:27:05 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:27:38 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:32:30 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:35:12 INFO     Migrations complete
2023-12-02 19:35:16 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:35:44 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:36:22 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:36:58 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:37:11 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:40:11 INFO     user.services.get_user(): Sucessfully queried record
2023-12-02 19:41:10 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 11:45:59 INFO     Migrations complete
2023-12-03 12:16:02 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 12:31:15 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 12:31:52 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 12:33:35 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 12:37:37 INFO     Migrations complete
2023-12-03 12:37:48 INFO     Migrations complete
2023-12-03 13:34:55 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:35:37 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:40:42 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:42:40 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:43:03 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:46:18 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:46:53 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:54:24 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 13:57:12 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 14:22:44 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 14:30:30 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 15:22:34 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 15:24:46 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 15:31:17 INFO     Migrations complete
2023-12-03 15:33:38 INFO     Migrations complete
2023-12-03 15:34:32 INFO     Migrations complete
2023-12-03 15:34:52 INFO     Migrations complete
2023-12-03 15:35:05 INFO     Migrations complete
2023-12-03 15:35:42 INFO     Migrations complete
2023-12-03 15:35:50 INFO     Migrations complete
2023-12-03 15:37:55 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 15:41:49 INFO     Migrations complete
2023-12-03 15:42:31 INFO     Migrations complete
2023-12-03 15:44:29 INFO     Migrations complete
2023-12-03 15:44:45 INFO     Migrations complete
2023-12-03 15:45:00 INFO     Migrations complete
2023-12-03 15:46:36 INFO     Migrations complete
2023-12-03 15:48:22 INFO     Migrations complete
2023-12-03 15:48:42 INFO     Migrations complete
2023-12-03 15:48:44 ERROR    receipt.services.get_receipt(): Error getting receipt - 'Receipt' object does not support item assignment
2023-12-03 15:49:03 INFO     Migrations complete
2023-12-03 15:49:25 INFO     Migrations complete
2023-12-03 15:50:27 INFO     Migrations complete
2023-12-03 15:51:11 INFO     Migrations complete
2023-12-03 15:51:42 INFO     Migrations complete
2023-12-03 15:52:05 INFO     Migrations complete
2023-12-03 15:52:20 INFO     Migrations complete
2023-12-03 15:52:32 INFO     Migrations complete
2023-12-03 16:03:26 INFO     Migrations complete
2023-12-03 16:03:41 INFO     Migrations complete
2023-12-03 16:11:35 INFO     Migrations complete
2023-12-03 16:16:04 INFO     Migrations complete
2023-12-03 16:18:18 INFO     Migrations complete
2023-12-03 16:19:38 INFO     Migrations complete
2023-12-03 16:25:04 INFO     Migrations complete
2023-12-03 16:27:36 INFO     Migrations complete
2023-12-03 16:27:37 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-03 16:27:52 INFO     Migrations complete
2023-12-03 16:27:54 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-03 16:28:03 ERROR    No row was found when one was required
2023-12-03 16:35:37 INFO     Migrations complete
2023-12-03 16:35:47 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-12-03 16:35:51 INFO     -- BEGIN Twilio API Request --
2023-12-03 16:35:51 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-12-03 16:35:51 INFO     Headers:
2023-12-03 16:35:51 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-12-03 16:35:51 INFO     X-Twilio-Client : python-8.5.0
2023-12-03 16:35:51 INFO     Accept-Charset : utf-8
2023-12-03 16:35:51 INFO     Content-Type : application/x-www-form-urlencoded
2023-12-03 16:35:51 INFO     Accept : application/json
2023-12-03 16:35:51 INFO     -- END Twilio API Request --
2023-12-03 16:35:51 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-12-03 16:35:52 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-12-03 16:35:52 INFO     Response Status Code: 201
2023-12-03 16:35:52 INFO     Response Headers: {'Date': 'Mon, 04 Dec 2023 00:35:52 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQ0c030eb9e77148528ebd6a403ec3b9e2', 'Twilio-Request-Duration': '0.150', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Powered-By': 'AT-5000', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-12-03 16:35:52 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-12-03 16:36:02 INFO     -- BEGIN Twilio API Request --
2023-12-03 16:36:02 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-12-03 16:36:02 INFO     Headers:
2023-12-03 16:36:02 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-12-03 16:36:02 INFO     X-Twilio-Client : python-8.5.0
2023-12-03 16:36:02 INFO     Accept-Charset : utf-8
2023-12-03 16:36:02 INFO     Content-Type : application/x-www-form-urlencoded
2023-12-03 16:36:02 INFO     Accept : application/json
2023-12-03 16:36:02 INFO     -- END Twilio API Request --
2023-12-03 16:36:02 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-12-03 16:36:02 INFO     Response Status Code: 200
2023-12-03 16:36:02 INFO     Response Headers: {'Date': 'Mon, 04 Dec 2023 00:36:02 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Twilio-Request-Id': 'RQd4265def1e747f84121504dfe956206f', 'Twilio-Request-Duration': '0.026', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Access-Control-Allow-Credentials': 'true', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Powered-By': 'AT-5000', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-12-03 16:36:02 INFO     user.services.check_verification(): User OTP successful
2023-12-03 16:36:02 ERROR    user.services.get_user_by_phone_number(): Unable to locate record with given parameters
2023-12-03 16:36:02 INFO     user.services.get_user(): User created sucessfully
2023-12-03 16:36:02 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-12-03 16:36:02 INFO     user.services.get_jwt(): Successfully created JWT
2023-12-03 16:36:02 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 16:36:11 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 16:36:11 INFO     user.services.update_user(): User updated sucessfully
2023-12-03 16:36:28 INFO     room.services.create_room(): Room created sucessfully
2023-12-03 16:38:03 INFO     Migrations complete
2023-12-03 16:40:58 INFO     Migrations complete
2023-12-03 16:41:24 INFO     Migrations complete
2023-12-03 16:41:41 INFO     Migrations complete
2023-12-03 16:42:44 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 16:43:02 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 16:43:09 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 16:43:46 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 16:45:33 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 16:47:34 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 17:07:16 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 17:08:40 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:20:55 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:21:05 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:21:05 INFO     user.services.update_user(): User updated sucessfully
2023-12-03 19:21:12 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:21:18 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:34:20 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:37:48 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:38:10 INFO     user.services.get_user(): Sucessfully queried record
2023-12-03 19:39:05 INFO     user.services.get_user(): Sucessfully queried record
2023-12-04 13:20:51 INFO     user.services.get_user(): Sucessfully queried record
2023-12-04 13:20:54 INFO     user.services.get_user(): Sucessfully queried record
2023-12-04 14:30:25 INFO     Migrations complete
2023-12-04 14:33:19 INFO     user.services.get_user(): Sucessfully queried record
2023-12-04 14:48:38 INFO     Migrations complete
2023-12-04 14:48:52 INFO     Migrations complete
2023-12-04 14:48:55 INFO     Migrations complete
2023-12-04 14:49:22 INFO     Migrations complete
2023-12-04 14:49:56 INFO     Migrations complete
2023-12-04 14:52:59 INFO     Migrations complete
2023-12-04 14:56:43 INFO     Migrations complete
2023-12-04 14:57:42 INFO     Migrations complete
2023-12-04 14:57:56 INFO     Migrations complete
2023-12-04 14:58:03 INFO     Migrations complete
2023-12-04 14:58:40 INFO     Migrations complete
2023-12-04 15:04:11 DEBUG    Calling on_part_begin with no data
2023-12-04 15:04:11 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 15:04:11 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 15:04:11 DEBUG    Calling on_header_end with no data
2023-12-04 15:04:11 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 15:04:11 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 15:04:11 DEBUG    Calling on_header_end with no data
2023-12-04 15:04:11 DEBUG    Calling on_headers_finished with no data
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[80446:255458]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:23250]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[23251:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:96761]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[96762:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:154976]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[154977:247080]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[247081:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:127027]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[127028:211046]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[211047:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:161029]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[161030:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:21845]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[21846:109799]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[109800:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 15:04:11 DEBUG    Calling on_part_data with data[0:33665]
2023-12-04 15:04:11 DEBUG    Calling on_part_end with no data
2023-12-04 15:04:11 DEBUG    Calling on_end with no data
2023-12-04 15:04:34 INFO     Migrations complete
2023-12-04 15:04:48 INFO     Migrations complete
2023-12-04 15:04:56 INFO     Migrations complete
2023-12-04 15:05:18 INFO     Migrations complete
2023-12-04 15:05:23 DEBUG    Calling on_part_begin with no data
2023-12-04 15:05:23 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 15:05:23 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 15:05:23 DEBUG    Calling on_header_end with no data
2023-12-04 15:05:23 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 15:05:23 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 15:05:23 DEBUG    Calling on_header_end with no data
2023-12-04 15:05:23 DEBUG    Calling on_headers_finished with no data
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[80446:213101]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:18271]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[18272:86219]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[86220:194271]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[194272:238601]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[238602:255951]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[255952:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:55577]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[55578:183589]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[183590:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:25410]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[25411:155802]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[155803:222774]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[222775:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:209278]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[209279:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:237765]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[237766:256000]
2023-12-04 15:05:23 DEBUG    Calling on_part_data with data[0:76022]
2023-12-04 15:05:23 DEBUG    Calling on_part_end with no data
2023-12-04 15:05:23 DEBUG    Calling on_end with no data
2023-12-04 15:05:23 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 15:05:23 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 15:05:23 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 15:05:23 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 15:05:23 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 15:05:23 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 15:05:23 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 15:05:23 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 15:05:23 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 15:05:23 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 15:05:23 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 15:05:23 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 15:05:23 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 15:05:23 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x109bffc40>
2023-12-04 15:05:24 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 15:05:24 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 15:05:24 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 15:05:24 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x109b3f2e0>
2023-12-04 15:05:24 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10f46f4c0>
2023-12-04 15:05:24 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x109b3f060>
2023-12-04 15:05:24 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 15:05:24 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 15:05:24 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 15:05:24 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 15:05:24 DEBUG    No configured endpoint found.
2023-12-04 15:05:24 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 15:05:24 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 15:05:24 DEBUG    Registering retry handlers for service: s3
2023-12-04 15:05:24 DEBUG    Registering S3 region redirector handler
2023-12-04 15:05:24 DEBUG    Acquiring 0
2023-12-04 15:05:24 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e32abd0>}) about to wait for the following futures []
2023-12-04 15:05:24 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e32abd0>}) done waiting for dependent futures
2023-12-04 15:05:24 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e32abd0>}) with kwargs {'client': <botocore.client.S3 object at 0x11e20b050>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10f5489d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f448b90>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x11e32a390>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11e32abd0>}
2023-12-04 15:05:24 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'VPUNDW/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x11e32a390> for transfer request: 0.
2023-12-04 15:05:24 DEBUG    Acquiring 0
2023-12-04 15:05:24 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'VPUNDW/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 15:05:24 DEBUG    Releasing acquire 0/None
2023-12-04 15:05:24 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'VPUNDW/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 15:05:24 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'VPUNDW/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x11e20b050>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f449e10>, 'bucket': 'splitz-receipts', 'key': 'VPUNDW/sample_img.jpg', 'extra_args': {}}
2023-12-04 15:05:24 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x109d16660>
2023-12-04 15:05:24 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x109d15940>
2023-12-04 15:05:24 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x109d17060>
2023-12-04 15:05:24 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x109d158a0>
2023-12-04 15:05:24 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x109d179c0>
2023-12-04 15:05:24 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x109773090>>
2023-12-04 15:05:24 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x109d156c0>
2023-12-04 15:05:24 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x109d17ba0>
2023-12-04 15:05:24 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x109773090>>
2023-12-04 15:05:24 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 15:05:24 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 15:05:24 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 15:05:24 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 15:05:24 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x109a7ec00>
2023-12-04 15:05:24 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x109d15c60>
2023-12-04 15:05:24 DEBUG    Adding expect 100 continue header to request.
2023-12-04 15:05:24 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x109d14b80>
2023-12-04 15:05:24 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x109d171a0>
2023-12-04 15:05:24 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/VPUNDW/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f449e10>, 'auth_path': '/splitz-receipts/VPUNDW/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/VPUNDW/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10ad51690>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'VPUNDW/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f449e10>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11e29c2c0>
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e31c6d0>>
2023-12-04 15:05:24 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x11d71a550>>
2023-12-04 15:05:24 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x109d15580>
2023-12-04 15:05:24 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x109d17b00>
2023-12-04 15:05:24 DEBUG    Calculating signature using v4 auth.
2023-12-04 15:05:24 DEBUG    CanonicalRequest:
PUT
/VPUNDW/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231204T230524Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 15:05:24 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231204T230524Z
20231204/us-east-1/s3/aws4_request
5d5a0172f9def7887be1e23ae389f8874b0798146546e7576c2c5d0186012333
2023-12-04 15:05:24 DEBUG    Signature:
cccd2a5390d88ffaa1b8e0b8912dfaf1bce188223d4e3f3ee82f09f6237746f6
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11e29c5e0>
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x109d17920>
2023-12-04 15:05:24 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/VPUNDW/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231204T230524Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231204/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=cccd2a5390d88ffaa1b8e0b8912dfaf1bce188223d4e3f3ee82f09f6237746f6', 'amz-sdk-invocation-id': b'4161c4bd-e0bf-4f93-b31f-9ca95d8adf4c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 15:05:24 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 15:05:24 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 15:05:24 DEBUG    Waiting for 100 Continue response.
2023-12-04 15:05:24 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 15:05:24 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /VPUNDW/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 15:05:24 DEBUG    Response headers: {'x-amz-request-id': 'XJNVWJGB45SV29TW', 'x-amz-id-2': 'MnwUJ2KBxpzPDvgBs5w6gXONInDGn0skkda1Bp29a0bjmK35XSrQE5vzNQU05T82WdadE7B7ioA=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Mon, 04 Dec 2023 23:05:24 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 15:05:24 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>XJNVWJGB45SV29TW</RequestId><HostId>MnwUJ2KBxpzPDvgBs5w6gXONInDGn0skkda1Bp29a0bjmK35XSrQE5vzNQU05T82WdadE7B7ioA=</HostId></Error>'
2023-12-04 15:05:24 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11e32a190>
2023-12-04 15:05:24 DEBUG    No retry needed.
2023-12-04 15:05:24 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x109773090>>
2023-12-04 15:05:24 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 15:05:24 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x109d17ba0>
2023-12-04 15:05:24 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x109773090>>
2023-12-04 15:05:24 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 15:05:24 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 15:05:24 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/VPUNDW/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/VPUNDW/sample_img.jpg
2023-12-04 15:05:24 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 15:05:24 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 15:05:24 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 15:05:24 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f449e10>
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11e29c2c0>
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11e31c6d0>>
2023-12-04 15:05:24 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x11d71a550>>
2023-12-04 15:05:24 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x109d15580>
2023-12-04 15:05:24 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x109d17b00>
2023-12-04 15:05:24 DEBUG    Calculating signature using v4 auth.
2023-12-04 15:05:24 DEBUG    CanonicalRequest:
PUT
/VPUNDW/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231204T230524Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 15:05:24 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231204T230524Z
20231204/us-east-2/s3/aws4_request
7b9985c3c47891fb3a6cc6b118068c9a3677b6df51d9d66cabff9fc3181816aa
2023-12-04 15:05:24 DEBUG    Signature:
734978f5d3266cc6b0e5d2380ebc38d008fd8acbb81b64b5ac974c4282199ca2
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11e29c5e0>
2023-12-04 15:05:24 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x109d17920>
2023-12-04 15:05:24 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/VPUNDW/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231204T230524Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231204/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=734978f5d3266cc6b0e5d2380ebc38d008fd8acbb81b64b5ac974c4282199ca2', 'amz-sdk-invocation-id': b'4161c4bd-e0bf-4f93-b31f-9ca95d8adf4c', 'amz-sdk-request': b'ttl=20231204T230624Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 15:05:24 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 15:05:24 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 15:05:24 DEBUG    Waiting for 100 Continue response.
2023-12-04 15:05:24 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 15:05:28 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /VPUNDW/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 15:05:28 DEBUG    Response headers: {'x-amz-id-2': 'JyOygi6COZyihZu6zTqDRmBUUfPxOkavYQIUOhtP52/otzxyMxoepxYflvBku0BJg+H252QS/cw=', 'x-amz-request-id': 'XJNHN15799RZJ1FR', 'Date': 'Mon, 04 Dec 2023 23:05:25 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 15:05:28 DEBUG    Response body:
b''
2023-12-04 15:05:28 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11e32a190>
2023-12-04 15:05:28 DEBUG    No retry needed.
2023-12-04 15:05:28 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x109773090>>
2023-12-04 15:05:28 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 15:05:28 DEBUG    Releasing acquire 0/None
2023-12-04 15:05:28 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to VPUNDW folder in S3
2023-12-04 15:36:47 INFO     Migrations complete
2023-12-04 15:36:57 INFO     Migrations complete
2023-12-04 15:37:11 INFO     Migrations complete
2023-12-04 15:39:56 INFO     Migrations complete
2023-12-04 15:40:00 INFO     Migrations complete
2023-12-04 15:40:06 INFO     Migrations complete
2023-12-04 18:26:57 INFO     Migrations complete
2023-12-04 18:27:45 INFO     Migrations complete
2023-12-04 18:27:47 INFO     Migrations complete
2023-12-04 18:35:52 INFO     Migrations complete
2023-12-04 18:36:21 INFO     Migrations complete
2023-12-04 18:52:37 INFO     Migrations complete
2023-12-04 18:53:41 INFO     Migrations complete
2023-12-04 18:55:19 INFO     Migrations complete
2023-12-04 18:55:37 INFO     Migrations complete
2023-12-04 18:56:22 INFO     Migrations complete
2023-12-04 18:56:34 INFO     Migrations complete
2023-12-04 18:56:35 INFO     Migrations complete
2023-12-04 18:57:04 INFO     Migrations complete
2023-12-04 19:00:37 INFO     Migrations complete
2023-12-04 19:02:28 INFO     Migrations complete
2023-12-04 19:06:53 INFO     Migrations complete
2023-12-04 19:09:21 INFO     Migrations complete
2023-12-04 19:55:40 INFO     Migrations complete
2023-12-04 19:56:53 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 19:58:52 INFO     Migrations complete
2023-12-04 19:58:53 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:01:46 INFO     Migrations complete
2023-12-04 20:01:49 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:02:05 INFO     Migrations complete
2023-12-04 20:02:07 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:04:40 INFO     Migrations complete
2023-12-04 20:08:14 INFO     Migrations complete
2023-12-04 20:08:16 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:09:37 INFO     Migrations complete
2023-12-04 20:10:25 INFO     Migrations complete
2023-12-04 20:10:42 INFO     Migrations complete
2023-12-04 20:11:01 INFO     Migrations complete
2023-12-04 20:11:02 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:12:47 INFO     Migrations complete
2023-12-04 20:12:50 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:13:19 INFO     Migrations complete
2023-12-04 20:14:09 INFO     Migrations complete
2023-12-04 20:14:35 INFO     Migrations complete
2023-12-04 20:14:36 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:14:59 INFO     Migrations complete
2023-12-04 20:14:59 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:15:45 INFO     Migrations complete
2023-12-04 20:15:47 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:16:32 INFO     Migrations complete
2023-12-04 20:16:32 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:18:25 INFO     Migrations complete
2023-12-04 20:18:34 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:19:11 INFO     Migrations complete
2023-12-04 20:19:12 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:19:29 INFO     Migrations complete
2023-12-04 20:19:31 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:19:54 INFO     Migrations complete
2023-12-04 20:19:55 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:20:32 INFO     Migrations complete
2023-12-04 20:20:38 INFO     Migrations complete
2023-12-04 20:27:34 ERROR    receipt.services.create_receipt(): Error creating receipt - No row was found when one was required
2023-12-04 20:29:03 INFO     Migrations complete
2023-12-04 20:29:06 ERROR    receipt.services.create_receipt(): Error creating receipt - 'NoneType' object has no attribute 'room_owner_id'
2023-12-04 20:33:41 INFO     Migrations complete
2023-12-04 20:33:46 INFO     Migrations complete
2023-12-04 20:33:58 ERROR    receipt.services.create_receipt(): Error creating receipt - 'NoneType' object has no attribute 'room_owner_id'
2023-12-04 20:34:41 INFO     Migrations complete
2023-12-04 20:34:43 ERROR    receipt.services.create_receipt(): Error creating receipt - 'NoneType' object has no attribute 'room_owner_id'
2023-12-04 20:35:33 ERROR    user.services.get_user(): Unable to locate record with given parameters
2023-12-04 20:35:56 INFO     -- BEGIN Twilio API Request --
2023-12-04 20:35:56 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-12-04 20:35:56 INFO     Headers:
2023-12-04 20:35:56 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-12-04 20:35:56 INFO     X-Twilio-Client : python-8.5.0
2023-12-04 20:35:56 INFO     Accept-Charset : utf-8
2023-12-04 20:35:56 INFO     Content-Type : application/x-www-form-urlencoded
2023-12-04 20:35:56 INFO     Accept : application/json
2023-12-04 20:35:56 INFO     -- END Twilio API Request --
2023-12-04 20:35:56 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-12-04 20:35:57 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-12-04 20:35:57 INFO     Response Status Code: 201
2023-12-04 20:35:57 INFO     Response Headers: {'Date': 'Tue, 05 Dec 2023 04:35:56 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Twilio-Request-Id': 'RQ042a650b8b86c78147a81151d4a01924', 'Twilio-Request-Duration': '0.164', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Powered-By': 'AT-5000', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-12-04 20:35:57 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-12-04 20:36:09 INFO     -- BEGIN Twilio API Request --
2023-12-04 20:36:09 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-12-04 20:36:09 INFO     Headers:
2023-12-04 20:36:09 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-12-04 20:36:09 INFO     X-Twilio-Client : python-8.5.0
2023-12-04 20:36:09 INFO     Accept-Charset : utf-8
2023-12-04 20:36:09 INFO     Content-Type : application/x-www-form-urlencoded
2023-12-04 20:36:09 INFO     Accept : application/json
2023-12-04 20:36:09 INFO     -- END Twilio API Request --
2023-12-04 20:36:09 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-12-04 20:36:09 INFO     Response Status Code: 200
2023-12-04 20:36:09 INFO     Response Headers: {'Date': 'Tue, 05 Dec 2023 04:36:09 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Twilio-Request-Id': 'RQ6a56fbb4ebdc2150afe31b37f9d296a0', 'Twilio-Request-Duration': '0.023', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Powered-By': 'AT-5000', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-12-04 20:36:09 INFO     user.services.check_verification(): User OTP successful
2023-12-04 20:36:09 ERROR    user.services.get_user_by_phone_number(): Unable to locate record with given parameters
2023-12-04 20:36:09 INFO     user.services.get_user(): User created sucessfully
2023-12-04 20:36:09 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-12-04 20:36:09 INFO     user.services.get_jwt(): Successfully created JWT
2023-12-04 20:36:12 INFO     user.services.get_user(): Sucessfully queried record
2023-12-04 20:36:16 INFO     user.services.get_user(): Sucessfully queried record
2023-12-04 20:36:16 INFO     user.services.update_user(): User updated sucessfully
2023-12-04 20:39:03 INFO     Migrations complete
2023-12-04 20:39:10 INFO     Migrations complete
2023-12-04 20:40:22 INFO     user.services.get_user(): Sucessfully queried record
2023-12-04 20:43:30 INFO     Migrations complete
2023-12-04 20:43:48 INFO     Migrations complete
2023-12-04 20:43:49 INFO     room.services.create_room(): Room created sucessfully
2023-12-04 20:44:14 ERROR    receipt.services.create_receipt(): Error creating receipt - (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (1, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 20:44:25 INFO     Migrations complete
2023-12-04 20:53:16 INFO     Migrations complete
2023-12-04 20:55:36 INFO     Migrations complete
2023-12-04 20:55:39 ERROR    receipt.services.create_receipt(): Error creating receipt - (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (2, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:00:25 INFO     Migrations complete
2023-12-04 21:00:28 ERROR    receipt.services.create_receipt(): Error creating receipt - (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (3, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:00:46 INFO     Migrations complete
2023-12-04 21:00:46 ERROR    receipt.services.create_receipt(): Error creating receipt - (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (4, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:01:10 INFO     Migrations complete
2023-12-04 21:01:11 INFO     Migrations complete
2023-12-04 21:04:54 INFO     Migrations complete
2023-12-04 21:04:58 ERROR    receipt.services.create_receipt(): Error creating receipt - (psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (5, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:06:26 INFO     Migrations complete
2023-12-04 21:06:26 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 21:06:35 INFO     Migrations complete
2023-12-04 21:06:36 ERROR    receipt.services.create_receipt(): Error creating receipt - (psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (6, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:07:00 INFO     Migrations complete
2023-12-04 21:07:04 ERROR    receipt.services.create_receipt(): Error creating receipt - (psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (7, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:07:15 INFO     Migrations complete
2023-12-04 21:07:17 ERROR    receipt.services.create_receipt(): Error creating receipt - (psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (8, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:08:59 INFO     Migrations complete
2023-12-04 21:09:01 ERROR    receipt.services.create_receipt(): Error creating receipt - (psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (9, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:23:27 INFO     Migrations complete
2023-12-04 21:23:30 ERROR    receipt.services.create_receipt(): Error creating receipt - (psycopg2.errors.NotNullViolation) null value in column "tip_amount" of relation "receipts" violates not-null constraint
DETAIL:  Failing row contains (10, , Y79JAL, 1, Nikhil Aggarwal, DIN TAI FUNG, 181.06, 14.26, null, 2023-07-18).

[SQL: INSERT INTO receipts (receipt_name, room_code, owner_id, owner_name, merchant_name, total_amount, tax_amount, tip_amount, date) VALUES (%(receipt_name)s, %(room_code)s, %(owner_id)s, %(owner_name)s, %(merchant_name)s, %(total_amount)s, %(tax_amount)s, %(tip_amount)s, %(date)s) RETURNING receipts.id]
[parameters: {'receipt_name': '', 'room_code': 'Y79JAL', 'owner_id': 1, 'owner_name': 'Nikhil Aggarwal', 'merchant_name': 'DIN TAI FUNG', 'total_amount': 181.06, 'tax_amount': 14.26, 'tip_amount': None, 'date': '2023-07-18'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-04 21:26:47 INFO     Migrations complete
2023-12-04 21:26:55 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 21:30:00 INFO     Migrations complete
2023-12-04 21:30:50 INFO     Migrations complete
2023-12-04 21:30:52 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 21:31:14 INFO     Migrations complete
2023-12-04 21:33:09 INFO     Migrations complete
2023-12-04 21:48:19 INFO     Migrations complete
2023-12-04 21:48:23 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 21:48:34 DEBUG    Calling on_part_begin with no data
2023-12-04 21:48:34 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 21:48:34 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 21:48:34 DEBUG    Calling on_header_end with no data
2023-12-04 21:48:34 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 21:48:34 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 21:48:34 DEBUG    Calling on_header_end with no data
2023-12-04 21:48:34 DEBUG    Calling on_headers_finished with no data
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[80446:256161]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:22547]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[22548:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:96058]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[96059:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:154273]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[154274:246377]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[246378:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:126324]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[126325:210343]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[210344:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:160326]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[160327:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:21142]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[21143:109096]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[109097:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 21:48:34 DEBUG    Calling on_part_data with data[0:32962]
2023-12-04 21:48:34 DEBUG    Calling on_part_end with no data
2023-12-04 21:48:34 DEBUG    Calling on_end with no data
2023-12-04 21:48:34 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 21:48:34 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 21:48:34 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 21:48:34 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 21:48:34 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 21:48:34 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 21:48:34 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 21:48:34 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 21:48:34 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 21:48:34 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 21:48:34 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 21:48:34 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 21:48:34 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 21:48:34 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x106e1c180>
2023-12-04 21:48:34 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 21:48:34 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 21:48:34 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 21:48:34 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x106d477e0>
2023-12-04 21:48:34 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10a2c4860>
2023-12-04 21:48:34 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x106d47560>
2023-12-04 21:48:34 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 21:48:34 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 21:48:34 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 21:48:34 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 21:48:34 DEBUG    No configured endpoint found.
2023-12-04 21:48:34 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 21:48:34 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 21:48:34 DEBUG    Registering retry handlers for service: s3
2023-12-04 21:48:34 DEBUG    Registering S3 region redirector handler
2023-12-04 21:48:34 DEBUG    Acquiring 0
2023-12-04 21:48:34 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e9d9110>}) about to wait for the following futures []
2023-12-04 21:48:34 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e9d9110>}) done waiting for dependent futures
2023-12-04 21:48:34 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e9d9110>}) with kwargs {'client': <botocore.client.S3 object at 0x10ddc6090>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e8c9a50>, 'osutil': <s3transfer.utils.OSUtils object at 0x10a154790>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e9d88d0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e9d9110>}
2023-12-04 21:48:34 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e9d88d0> for transfer request: 0.
2023-12-04 21:48:34 DEBUG    Acquiring 0
2023-12-04 21:48:34 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 21:48:34 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 21:48:34 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10ddc6090>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x107a64d50>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 21:48:34 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x106e1eb60>
2023-12-04 21:48:34 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x106e1de40>
2023-12-04 21:48:34 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x106e1f560>
2023-12-04 21:48:34 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x106e1dda0>
2023-12-04 21:48:34 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x106e1fec0>
2023-12-04 21:48:34 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10e9d3c90>>
2023-12-04 21:48:34 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x106e1dbc0>
2023-12-04 21:48:34 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106e280e0>
2023-12-04 21:48:34 DEBUG    Releasing acquire 0/None
2023-12-04 21:48:34 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10e9d3c90>>
2023-12-04 21:48:34 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 21:48:34 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 21:48:34 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 21:48:34 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 21:48:34 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x106a90040>
2023-12-04 21:48:34 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x106e1e160>
2023-12-04 21:48:34 DEBUG    Adding expect 100 continue header to request.
2023-12-04 21:48:34 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x106e1d080>
2023-12-04 21:48:34 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x106e1f6a0>
2023-12-04 21:48:34 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x107a64d50>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x1098f11d0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x107a64d50>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 21:48:34 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10e946ca0>
2023-12-04 21:48:34 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10e9c2410>>
2023-12-04 21:48:34 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10ddb9a50>>
2023-12-04 21:48:34 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106e1da80>
2023-12-04 21:48:34 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106e28040>
2023-12-04 21:48:34 DEBUG    Calculating signature using v4 auth.
2023-12-04 21:48:34 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T054834Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 21:48:34 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T054834Z
20231205/us-east-1/s3/aws4_request
88d0db3544dad577f4775e859a916200ead549fa6ff6863c90aff93352ac29d0
2023-12-04 21:48:34 DEBUG    Signature:
4e8a8d06b48ce4f7a302e31aadb5b99f3c0dadf665b048657dea44387409c7a8
2023-12-04 21:48:34 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10e946fc0>
2023-12-04 21:48:34 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106e1fe20>
2023-12-04 21:48:34 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T054834Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=4e8a8d06b48ce4f7a302e31aadb5b99f3c0dadf665b048657dea44387409c7a8', 'amz-sdk-invocation-id': b'7b579541-5b2d-48c1-b477-8b611405aa5e', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 21:48:34 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 21:48:34 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 21:48:35 DEBUG    Waiting for 100 Continue response.
2023-12-04 21:48:36 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 21:48:36 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 21:48:36 DEBUG    Response headers: {'x-amz-request-id': 'YERJ25VVYGAGJ36E', 'x-amz-id-2': 'nq/mHx4bOcPjwaNqll2Flon36haYjoqJIgdoVUWP+bckAVfNn44tWTxitzkiJiMQxx/54w1iV6A=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 05:48:35 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 21:48:36 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>YERJ25VVYGAGJ36E</RequestId><HostId>nq/mHx4bOcPjwaNqll2Flon36haYjoqJIgdoVUWP+bckAVfNn44tWTxitzkiJiMQxx/54w1iV6A=</HostId></Error>'
2023-12-04 21:48:36 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10e9d8690>
2023-12-04 21:48:36 DEBUG    No retry needed.
2023-12-04 21:48:36 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10e9d3c90>>
2023-12-04 21:48:36 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 21:48:36 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106e280e0>
2023-12-04 21:48:36 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10e9d3c90>>
2023-12-04 21:48:36 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 21:48:36 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 21:48:36 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 21:48:36 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 21:48:36 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 21:48:36 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 21:48:36 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x107a64d50>
2023-12-04 21:48:36 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10e946ca0>
2023-12-04 21:48:36 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10e9c2410>>
2023-12-04 21:48:36 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10ddb9a50>>
2023-12-04 21:48:36 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106e1da80>
2023-12-04 21:48:36 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106e28040>
2023-12-04 21:48:36 DEBUG    Calculating signature using v4 auth.
2023-12-04 21:48:36 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T054836Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 21:48:36 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T054836Z
20231205/us-east-2/s3/aws4_request
fdfd8fe9271a2927ed319198d806e30ab1aa1a4bb03fe8ff2c558d35f5d49c1f
2023-12-04 21:48:36 DEBUG    Signature:
e8238ff10d5539ff2e02671427a7ed74368da7e95d585cb45fa5dff6a61a255e
2023-12-04 21:48:36 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10e946fc0>
2023-12-04 21:48:36 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106e1fe20>
2023-12-04 21:48:36 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T054836Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=e8238ff10d5539ff2e02671427a7ed74368da7e95d585cb45fa5dff6a61a255e', 'amz-sdk-invocation-id': b'7b579541-5b2d-48c1-b477-8b611405aa5e', 'amz-sdk-request': b'ttl=20231205T054935Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 21:48:36 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 21:48:36 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 21:48:36 DEBUG    Waiting for 100 Continue response.
2023-12-04 21:48:36 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 21:48:40 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 21:48:40 DEBUG    Response headers: {'x-amz-id-2': 'GM75VYjisUOjNI8fCjPG1Yzts/vun+nOZhOpDZR4dbhx1SMukkA3lNK7tXO3hHDf13lrTsLLOgY=', 'x-amz-request-id': 'YERWTBB8F6J8Q567', 'Date': 'Tue, 05 Dec 2023 05:48:37 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 21:48:40 DEBUG    Response body:
b''
2023-12-04 21:48:40 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10e9d8690>
2023-12-04 21:48:40 DEBUG    No retry needed.
2023-12-04 21:48:40 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10e9d3c90>>
2023-12-04 21:48:40 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 21:48:40 DEBUG    Releasing acquire 0/None
2023-12-04 21:48:40 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 21:48:40 ERROR    receipt.services.create_receipt(): Error creating receipt - 'tip_amount'
2023-12-04 21:53:33 INFO     Migrations complete
2023-12-04 21:53:40 DEBUG    Calling on_part_begin with no data
2023-12-04 21:53:40 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 21:53:40 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 21:53:40 DEBUG    Calling on_header_end with no data
2023-12-04 21:53:40 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 21:53:40 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 21:53:40 DEBUG    Calling on_header_end with no data
2023-12-04 21:53:40 DEBUG    Calling on_headers_finished with no data
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[161:205797]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[205798:256161]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:22547]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[22548:231211]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[231212:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:195541]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[195542:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:126324]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[126325:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:160326]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[160327:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:109096]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[109097:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 21:53:40 DEBUG    Calling on_part_data with data[0:32962]
2023-12-04 21:53:40 DEBUG    Calling on_part_end with no data
2023-12-04 21:53:40 DEBUG    Calling on_end with no data
2023-12-04 21:53:40 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 21:53:40 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 21:53:40 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 21:53:40 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 21:53:40 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 21:53:40 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 21:53:40 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 21:53:40 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 21:53:40 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 21:53:40 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 21:53:40 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 21:53:40 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 21:53:40 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 21:53:40 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x112014220>
2023-12-04 21:53:40 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 21:53:40 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 21:53:40 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 21:53:40 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x111f43880>
2023-12-04 21:53:40 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x105ffb100>
2023-12-04 21:53:40 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x111f43600>
2023-12-04 21:53:40 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 21:53:40 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 21:53:40 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 21:53:40 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 21:53:40 DEBUG    No configured endpoint found.
2023-12-04 21:53:40 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 21:53:40 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 21:53:40 DEBUG    Registering retry handlers for service: s3
2023-12-04 21:53:40 DEBUG    Registering S3 region redirector handler
2023-12-04 21:53:40 DEBUG    Acquiring 0
2023-12-04 21:53:40 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x117241c50>}) about to wait for the following futures []
2023-12-04 21:53:40 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x117241c50>}) done waiting for dependent futures
2023-12-04 21:53:40 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x117241c50>}) with kwargs {'client': <botocore.client.S3 object at 0x11710a090>, 'config': <boto3.s3.transfer.TransferConfig object at 0x115067650>, 'osutil': <s3transfer.utils.OSUtils object at 0x112f47010>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x115117f50>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x117241c50>}
2023-12-04 21:53:40 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x115117f50> for transfer request: 0.
2023-12-04 21:53:40 DEBUG    Acquiring 0
2023-12-04 21:53:40 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 21:53:40 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 21:53:40 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x11710a090>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x112e8d890>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 21:53:40 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x112016c00>
2023-12-04 21:53:40 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x112015ee0>
2023-12-04 21:53:40 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x112017600>
2023-12-04 21:53:40 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x112015e40>
2023-12-04 21:53:40 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x112017f60>
2023-12-04 21:53:40 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x112c64dd0>>
2023-12-04 21:53:40 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x112015c60>
2023-12-04 21:53:40 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x112028180>
2023-12-04 21:53:40 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x112c64dd0>>
2023-12-04 21:53:40 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 21:53:40 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 21:53:40 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 21:53:40 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 21:53:40 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x111d900e0>
2023-12-04 21:53:40 DEBUG    Releasing acquire 0/None
2023-12-04 21:53:40 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x112016200>
2023-12-04 21:53:40 DEBUG    Adding expect 100 continue header to request.
2023-12-04 21:53:40 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x112015120>
2023-12-04 21:53:40 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x112017740>
2023-12-04 21:53:40 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x112e8d890>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x115050490>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x112e8d890>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 21:53:40 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1171b0b80>
2023-12-04 21:53:40 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x117226e90>>
2023-12-04 21:53:40 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x112ff5610>>
2023-12-04 21:53:40 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x112015b20>
2023-12-04 21:53:40 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1120280e0>
2023-12-04 21:53:40 DEBUG    Calculating signature using v4 auth.
2023-12-04 21:53:40 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T055340Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 21:53:40 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T055340Z
20231205/us-east-1/s3/aws4_request
6eb8334afd5fcef836ff44aca6c6593a5ddd2ab13495d3a789b6c3b572117a5b
2023-12-04 21:53:40 DEBUG    Signature:
1f1c96a25d733ddf868cacd371c5535a4f4b0caa005c184a6955ef65d8db1cb5
2023-12-04 21:53:40 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1171b0ea0>
2023-12-04 21:53:40 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x112017ec0>
2023-12-04 21:53:40 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T055340Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=1f1c96a25d733ddf868cacd371c5535a4f4b0caa005c184a6955ef65d8db1cb5', 'amz-sdk-invocation-id': b'fde92bc2-081c-45c9-aafa-107be3bcfa58', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 21:53:40 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 21:53:40 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 21:53:41 DEBUG    Waiting for 100 Continue response.
2023-12-04 21:53:41 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 21:53:41 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 21:53:41 DEBUG    Response headers: {'x-amz-request-id': '4MR694PNEXZAXSBG', 'x-amz-id-2': 'l+EFVZ83WltLvD2WLmQ0qpOzV33JpPMWKpljfdDBhJgWVr9NDRm5lwWOXbg1XZTfXnNEgeQfeoQ=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 05:53:40 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 21:53:41 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>4MR694PNEXZAXSBG</RequestId><HostId>l+EFVZ83WltLvD2WLmQ0qpOzV33JpPMWKpljfdDBhJgWVr9NDRm5lwWOXbg1XZTfXnNEgeQfeoQ=</HostId></Error>'
2023-12-04 21:53:41 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x117235a90>
2023-12-04 21:53:41 DEBUG    No retry needed.
2023-12-04 21:53:41 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x112c64dd0>>
2023-12-04 21:53:41 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 21:53:41 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x112028180>
2023-12-04 21:53:41 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x112c64dd0>>
2023-12-04 21:53:41 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 21:53:41 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 21:53:41 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 21:53:41 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 21:53:41 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 21:53:41 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 21:53:41 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x112e8d890>
2023-12-04 21:53:41 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1171b0b80>
2023-12-04 21:53:41 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x117226e90>>
2023-12-04 21:53:41 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x112ff5610>>
2023-12-04 21:53:41 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x112015b20>
2023-12-04 21:53:41 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1120280e0>
2023-12-04 21:53:41 DEBUG    Calculating signature using v4 auth.
2023-12-04 21:53:41 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T055341Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 21:53:41 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T055341Z
20231205/us-east-2/s3/aws4_request
89327bf30f6e325ac0994d233b33ee3e20abed2bb17416829ab59acda0d024dc
2023-12-04 21:53:41 DEBUG    Signature:
2104d49d9fd89c73aa3d73b96cf7f92ee50b804a0e2bb2c08086b8b966b0231e
2023-12-04 21:53:41 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1171b0ea0>
2023-12-04 21:53:41 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x112017ec0>
2023-12-04 21:53:41 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T055341Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=2104d49d9fd89c73aa3d73b96cf7f92ee50b804a0e2bb2c08086b8b966b0231e', 'amz-sdk-invocation-id': b'fde92bc2-081c-45c9-aafa-107be3bcfa58', 'amz-sdk-request': b'ttl=20231205T055440Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 21:53:41 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 21:53:41 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 21:53:41 DEBUG    Waiting for 100 Continue response.
2023-12-04 21:53:41 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 21:53:45 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 21:53:45 DEBUG    Response headers: {'x-amz-id-2': 'GNYKh7H1R4n483+9WaLP/08wqeAYOCKtwEABdEzmWmwsXyPvK9YMTvuk+uXNJ8xPniI4oGLJXHM=', 'x-amz-request-id': '4MR4WFER7N5W9PGQ', 'Date': 'Tue, 05 Dec 2023 05:53:42 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 21:53:45 DEBUG    Response body:
b''
2023-12-04 21:53:45 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x117235a90>
2023-12-04 21:53:45 DEBUG    No retry needed.
2023-12-04 21:53:45 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x112c64dd0>>
2023-12-04 21:53:45 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 21:53:45 DEBUG    Releasing acquire 0/None
2023-12-04 21:53:45 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 21:53:45 ERROR    receipt.services.create_receipt(): Error creating receipt - 'tip_amount'
2023-12-04 21:57:08 INFO     Migrations complete
2023-12-04 21:59:39 INFO     Migrations complete
2023-12-04 21:59:42 DEBUG    Calling on_part_begin with no data
2023-12-04 21:59:42 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 21:59:42 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 21:59:42 DEBUG    Calling on_header_end with no data
2023-12-04 21:59:42 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 21:59:42 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 21:59:42 DEBUG    Calling on_header_end with no data
2023-12-04 21:59:42 DEBUG    Calling on_headers_finished with no data
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[161:192587]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[192588:196769]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:43406]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[43407:255979]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[255980:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:81939]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[81940:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:155450]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[155451:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:174955]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[174956:203010]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[203011:213665]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[213666:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:185716]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[185717:254366]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[254367:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:24704]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[24705:255959]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[255960:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:134507]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[134508:225610]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[225611:243120]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[243121:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:141193]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[141194:256000]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:91083]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 21:59:42 DEBUG    Calling on_part_data with data[91084:92354]
2023-12-04 21:59:42 DEBUG    Calling on_part_end with no data
2023-12-04 21:59:42 DEBUG    Calling on_end with no data
2023-12-04 21:59:42 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 21:59:42 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 21:59:42 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 21:59:42 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 21:59:42 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 21:59:42 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 21:59:42 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 21:59:42 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 21:59:42 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 21:59:42 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 21:59:42 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 21:59:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 21:59:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 21:59:42 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x105514220>
2023-12-04 21:59:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 21:59:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 21:59:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 21:59:42 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x10543f880>
2023-12-04 21:59:42 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x118a39940>
2023-12-04 21:59:42 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x10543f600>
2023-12-04 21:59:42 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 21:59:42 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 21:59:42 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 21:59:42 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 21:59:42 DEBUG    No configured endpoint found.
2023-12-04 21:59:42 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 21:59:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 21:59:42 DEBUG    Registering retry handlers for service: s3
2023-12-04 21:59:42 DEBUG    Registering S3 region redirector handler
2023-12-04 21:59:42 DEBUG    Acquiring 0
2023-12-04 21:59:42 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x107d33350>}) about to wait for the following futures []
2023-12-04 21:59:42 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x107d33350>}) done waiting for dependent futures
2023-12-04 21:59:42 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x107d33350>}) with kwargs {'client': <botocore.client.S3 object at 0x118a5cd50>, 'config': <boto3.s3.transfer.TransferConfig object at 0x105df5a50>, 'osutil': <s3transfer.utils.OSUtils object at 0x1063ce390>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x119109790>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x107d33350>}
2023-12-04 21:59:42 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x119109790> for transfer request: 0.
2023-12-04 21:59:42 DEBUG    Acquiring 0
2023-12-04 21:59:42 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 21:59:42 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 21:59:42 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x118a5cd50>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x105f0bd50>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 21:59:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x105516c00>
2023-12-04 21:59:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x105515ee0>
2023-12-04 21:59:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x105517600>
2023-12-04 21:59:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x105515e40>
2023-12-04 21:59:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x105517f60>
2023-12-04 21:59:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x11911f650>>
2023-12-04 21:59:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x105515c60>
2023-12-04 21:59:42 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x105528180>
2023-12-04 21:59:42 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x11911f650>>
2023-12-04 21:59:42 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 21:59:42 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 21:59:42 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 21:59:42 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 21:59:42 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1053900e0>
2023-12-04 21:59:42 DEBUG    Releasing acquire 0/None
2023-12-04 21:59:42 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x105516200>
2023-12-04 21:59:42 DEBUG    Adding expect 100 continue header to request.
2023-12-04 21:59:42 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x105515120>
2023-12-04 21:59:42 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x105517740>
2023-12-04 21:59:42 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x105f0bd50>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x119227390>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x105f0bd50>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1191b0b80>
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x119227350>>
2023-12-04 21:59:42 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x107d6e150>>
2023-12-04 21:59:42 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x105515b20>
2023-12-04 21:59:42 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1055280e0>
2023-12-04 21:59:42 DEBUG    Calculating signature using v4 auth.
2023-12-04 21:59:42 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T055942Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 21:59:42 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T055942Z
20231205/us-east-1/s3/aws4_request
91140eec5ac2e594926a045a3e61db967ad78000a6abc90729dd8006a114b9bd
2023-12-04 21:59:42 DEBUG    Signature:
ca92fdb19d3bec9c4eebb1bb8f25f23e04effbc4fc02e8cfcab8a5c5672850fd
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1191b0ea0>
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x105517ec0>
2023-12-04 21:59:42 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T055942Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=ca92fdb19d3bec9c4eebb1bb8f25f23e04effbc4fc02e8cfcab8a5c5672850fd', 'amz-sdk-invocation-id': b'a3db61e7-0e35-44d8-b019-0d0419b86c23', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 21:59:42 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 21:59:42 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 21:59:42 DEBUG    Waiting for 100 Continue response.
2023-12-04 21:59:42 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 21:59:42 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 21:59:42 DEBUG    Response headers: {'x-amz-request-id': '6GNSPWGFSX5VKSPR', 'x-amz-id-2': 'Xc7HT6IEn9xGNubZs4M/dBt3MMml9Z+0T7xFM90gFqDZWlIQdDRzaVdqYeYuFrQR7+cpLo+yAOs=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 05:59:42 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 21:59:42 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>6GNSPWGFSX5VKSPR</RequestId><HostId>Xc7HT6IEn9xGNubZs4M/dBt3MMml9Z+0T7xFM90gFqDZWlIQdDRzaVdqYeYuFrQR7+cpLo+yAOs=</HostId></Error>'
2023-12-04 21:59:42 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11923d410>
2023-12-04 21:59:42 DEBUG    No retry needed.
2023-12-04 21:59:42 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x11911f650>>
2023-12-04 21:59:42 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 21:59:42 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x105528180>
2023-12-04 21:59:42 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x11911f650>>
2023-12-04 21:59:42 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 21:59:42 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 21:59:42 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 21:59:42 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 21:59:42 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 21:59:42 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 21:59:42 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x105f0bd50>
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1191b0b80>
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x119227350>>
2023-12-04 21:59:42 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x107d6e150>>
2023-12-04 21:59:42 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x105515b20>
2023-12-04 21:59:42 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1055280e0>
2023-12-04 21:59:42 DEBUG    Calculating signature using v4 auth.
2023-12-04 21:59:42 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T055942Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 21:59:42 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T055942Z
20231205/us-east-2/s3/aws4_request
eb6ee09e40e29882ec88f19cb7d01da36de5eca592b1d00003bad223b8439dbd
2023-12-04 21:59:42 DEBUG    Signature:
13fb8e8a90ffdadbe2c8f440b5da04cf31e13f026de9506a41819ed41b55b80a
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1191b0ea0>
2023-12-04 21:59:42 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x105517ec0>
2023-12-04 21:59:42 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T055942Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=13fb8e8a90ffdadbe2c8f440b5da04cf31e13f026de9506a41819ed41b55b80a', 'amz-sdk-invocation-id': b'a3db61e7-0e35-44d8-b019-0d0419b86c23', 'amz-sdk-request': b'ttl=20231205T060042Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 21:59:42 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 21:59:42 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 21:59:42 DEBUG    Waiting for 100 Continue response.
2023-12-04 21:59:42 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 21:59:46 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 21:59:46 DEBUG    Response headers: {'x-amz-id-2': 'aARd1+Y0jutuBRDeCXxurmYDygOa6z0ZN31M43XFMGljnVNRSYEJfNVXGnW0e9mPpQTNlgZbNck=', 'x-amz-request-id': '6GNH9M3RWQ7RRMXB', 'Date': 'Tue, 05 Dec 2023 05:59:43 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 21:59:46 DEBUG    Response body:
b''
2023-12-04 21:59:46 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11923d410>
2023-12-04 21:59:46 DEBUG    No retry needed.
2023-12-04 21:59:46 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x11911f650>>
2023-12-04 21:59:46 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 21:59:46 DEBUG    Releasing acquire 0/None
2023-12-04 21:59:46 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 21:59:46 ERROR    receipt.services.create_receipt(): Error creating receipt - 'tip_amount'
2023-12-04 22:05:46 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 22:08:33 INFO     Migrations complete
2023-12-04 22:08:42 DEBUG    Calling on_part_begin with no data
2023-12-04 22:08:42 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 22:08:42 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 22:08:42 DEBUG    Calling on_header_end with no data
2023-12-04 22:08:42 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 22:08:42 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 22:08:42 DEBUG    Calling on_header_end with no data
2023-12-04 22:08:42 DEBUG    Calling on_headers_finished with no data
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[80446:256161]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:22547]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[22548:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:96058]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[96059:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:154273]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[154274:246377]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[246378:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:126324]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[126325:210343]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[210344:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:160326]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[160327:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:21142]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[21143:109096]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[109097:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:08:42 DEBUG    Calling on_part_data with data[0:32962]
2023-12-04 22:08:42 DEBUG    Calling on_part_end with no data
2023-12-04 22:08:42 DEBUG    Calling on_end with no data
2023-12-04 22:08:42 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 22:08:42 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 22:08:42 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 22:08:42 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 22:08:42 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 22:08:42 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 22:08:42 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 22:08:42 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 22:08:42 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 22:08:42 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 22:08:42 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 22:08:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 22:08:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 22:08:42 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x106d1c180>
2023-12-04 22:08:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 22:08:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 22:08:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 22:08:42 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x106b437e0>
2023-12-04 22:08:42 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10e6b89a0>
2023-12-04 22:08:42 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x106b43560>
2023-12-04 22:08:42 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 22:08:42 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 22:08:42 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 22:08:42 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 22:08:42 DEBUG    No configured endpoint found.
2023-12-04 22:08:42 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 22:08:42 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 22:08:42 DEBUG    Registering retry handlers for service: s3
2023-12-04 22:08:42 DEBUG    Registering S3 region redirector handler
2023-12-04 22:08:42 DEBUG    Acquiring 0
2023-12-04 22:08:42 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ff1cb10>}) about to wait for the following futures []
2023-12-04 22:08:42 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ff1cb10>}) done waiting for dependent futures
2023-12-04 22:08:42 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ff1cb10>}) with kwargs {'client': <botocore.client.S3 object at 0x1079a5390>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10e62b190>, 'osutil': <s3transfer.utils.OSUtils object at 0x1079de950>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10fc6c190>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10ff1cb10>}
2023-12-04 22:08:42 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10fc6c190> for transfer request: 0.
2023-12-04 22:08:42 DEBUG    Acquiring 0
2023-12-04 22:08:42 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 22:08:42 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 22:08:42 DEBUG    Releasing acquire 0/None
2023-12-04 22:08:42 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x1079a5390>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10ff08ad0>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 22:08:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x106d1eb60>
2023-12-04 22:08:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x106d1de40>
2023-12-04 22:08:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x106d1f560>
2023-12-04 22:08:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x106d1dda0>
2023-12-04 22:08:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x106d1fec0>
2023-12-04 22:08:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x107bb9250>>
2023-12-04 22:08:42 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x106d1dbc0>
2023-12-04 22:08:42 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106d280e0>
2023-12-04 22:08:42 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x107bb9250>>
2023-12-04 22:08:42 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:08:42 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 22:08:42 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:08:42 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:08:42 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1068cc040>
2023-12-04 22:08:42 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x106d1e160>
2023-12-04 22:08:42 DEBUG    Adding expect 100 continue header to request.
2023-12-04 22:08:42 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x106d1d080>
2023-12-04 22:08:42 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x106d1f6a0>
2023-12-04 22:08:42 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10ff08ad0>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10e650110>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10ff08ad0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 22:08:42 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10ffb0ae0>
2023-12-04 22:08:42 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x128026850>>
2023-12-04 22:08:42 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f85c2d0>>
2023-12-04 22:08:42 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106d1da80>
2023-12-04 22:08:42 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106d28040>
2023-12-04 22:08:42 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:08:42 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T060842Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:08:42 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T060842Z
20231205/us-east-1/s3/aws4_request
4bb8a784bda1c06cbfbf80c4d8c15e0f41182baf5fb4fd39026866e8898022bf
2023-12-04 22:08:42 DEBUG    Signature:
b9206c47a825ff8f9bfded92155140abe6c2abdfdca43d60e0b763647da4ae87
2023-12-04 22:08:42 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10ffb0e00>
2023-12-04 22:08:42 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106d1fe20>
2023-12-04 22:08:42 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T060842Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=b9206c47a825ff8f9bfded92155140abe6c2abdfdca43d60e0b763647da4ae87', 'amz-sdk-invocation-id': b'61e1ba01-9149-4ef1-a830-07fe64003310', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 22:08:42 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:08:42 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 22:08:43 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:08:43 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 22:08:43 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 22:08:43 DEBUG    Response headers: {'x-amz-request-id': '0PW6S1GPG26917BC', 'x-amz-id-2': 'M7+zheRX2TNcqL0ELsTxXrI0Tx5h5gz8PUcci1A6LDNB70jm9kTqX+ngn0FqIiBODRBYLYUtkoc=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 06:08:42 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 22:08:43 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>0PW6S1GPG26917BC</RequestId><HostId>M7+zheRX2TNcqL0ELsTxXrI0Tx5h5gz8PUcci1A6LDNB70jm9kTqX+ngn0FqIiBODRBYLYUtkoc=</HostId></Error>'
2023-12-04 22:08:43 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x1077f5910>
2023-12-04 22:08:43 DEBUG    No retry needed.
2023-12-04 22:08:43 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x107bb9250>>
2023-12-04 22:08:43 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 22:08:43 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106d280e0>
2023-12-04 22:08:43 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x107bb9250>>
2023-12-04 22:08:43 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:08:43 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 22:08:43 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 22:08:43 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:08:43 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:08:43 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 22:08:43 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10ff08ad0>
2023-12-04 22:08:43 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10ffb0ae0>
2023-12-04 22:08:43 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x128026850>>
2023-12-04 22:08:43 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f85c2d0>>
2023-12-04 22:08:43 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106d1da80>
2023-12-04 22:08:43 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106d28040>
2023-12-04 22:08:43 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:08:43 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T060843Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:08:43 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T060843Z
20231205/us-east-2/s3/aws4_request
580eaa119f4b32518add13af56b24c6bcc3a84ef6002d6cc33509cd72b396ba3
2023-12-04 22:08:43 DEBUG    Signature:
5a89abb5ae777f163e5b75e475fcc94944767e34408f004992a7b2341a6b1d19
2023-12-04 22:08:43 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10ffb0e00>
2023-12-04 22:08:43 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106d1fe20>
2023-12-04 22:08:43 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T060843Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=5a89abb5ae777f163e5b75e475fcc94944767e34408f004992a7b2341a6b1d19', 'amz-sdk-invocation-id': b'61e1ba01-9149-4ef1-a830-07fe64003310', 'amz-sdk-request': b'ttl=20231205T060942Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 22:08:43 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:08:43 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 22:08:43 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:08:43 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 22:08:47 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 22:08:47 DEBUG    Response headers: {'x-amz-id-2': '35tuRpabTng4SrMAVkOtDsN3VLH/aZcSqORxxNcJTi2mdX4ENmnpdCKwQ6E1FlK9GaQaUqlZVyI=', 'x-amz-request-id': '0PW5SMAG8640HCB6', 'Date': 'Tue, 05 Dec 2023 06:08:44 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 22:08:47 DEBUG    Response body:
b''
2023-12-04 22:08:47 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x1077f5910>
2023-12-04 22:08:47 DEBUG    No retry needed.
2023-12-04 22:08:47 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x107bb9250>>
2023-12-04 22:08:47 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 22:08:47 DEBUG    Releasing acquire 0/None
2023-12-04 22:08:47 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 22:08:47 ERROR    receipt.services.create_receipt(): Error creating receipt - 'tip_amount'
2023-12-04 22:12:03 INFO     Migrations complete
2023-12-04 22:13:51 DEBUG    Calling on_part_begin with no data
2023-12-04 22:13:51 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 22:13:51 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 22:13:51 DEBUG    Calling on_header_end with no data
2023-12-04 22:13:51 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 22:13:51 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 22:13:51 DEBUG    Calling on_header_end with no data
2023-12-04 22:13:51 DEBUG    Calling on_headers_finished with no data
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[161:205797]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[205798:256161]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:22547]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[22548:231211]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[231212:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:195541]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[195542:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:126324]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[126325:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:160326]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[160327:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:109096]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[109097:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:13:51 DEBUG    Calling on_part_data with data[0:32962]
2023-12-04 22:13:51 DEBUG    Calling on_part_end with no data
2023-12-04 22:13:51 DEBUG    Calling on_end with no data
2023-12-04 22:13:51 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 22:13:51 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 22:13:51 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 22:13:51 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 22:13:51 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 22:13:51 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 22:13:51 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 22:13:51 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 22:13:51 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 22:13:51 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 22:13:51 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 22:13:51 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 22:13:51 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 22:13:51 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x109c14220>
2023-12-04 22:13:51 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 22:13:51 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 22:13:51 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 22:13:51 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x109b43880>
2023-12-04 22:13:51 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10e2fa980>
2023-12-04 22:13:51 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x109b43600>
2023-12-04 22:13:51 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 22:13:51 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 22:13:51 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 22:13:51 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 22:13:51 DEBUG    No configured endpoint found.
2023-12-04 22:13:51 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 22:13:51 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 22:13:51 DEBUG    Registering retry handlers for service: s3
2023-12-04 22:13:51 DEBUG    Registering S3 region redirector handler
2023-12-04 22:13:51 DEBUG    Acquiring 0
2023-12-04 22:13:51 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e24fa90>}) about to wait for the following futures []
2023-12-04 22:13:51 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e24fa90>}) done waiting for dependent futures
2023-12-04 22:13:51 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e24fa90>}) with kwargs {'client': <botocore.client.S3 object at 0x10e281110>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11d630a10>, 'osutil': <s3transfer.utils.OSUtils object at 0x10a8f7690>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10e252b90>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10e24fa90>}
2023-12-04 22:13:51 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10e252b90> for transfer request: 0.
2023-12-04 22:13:51 DEBUG    Acquiring 0
2023-12-04 22:13:51 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 22:13:51 DEBUG    Releasing acquire 0/None
2023-12-04 22:13:51 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 22:13:51 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10e281110>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x11d639890>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 22:13:51 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x109c16c00>
2023-12-04 22:13:51 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x109c15ee0>
2023-12-04 22:13:51 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x109c17600>
2023-12-04 22:13:51 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x109c15e40>
2023-12-04 22:13:51 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x109c17f60>
2023-12-04 22:13:51 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10e260290>>
2023-12-04 22:13:51 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x109c15c60>
2023-12-04 22:13:51 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x109c28180>
2023-12-04 22:13:51 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10e260290>>
2023-12-04 22:13:51 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:13:51 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 22:13:51 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:13:51 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:13:51 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x109a900e0>
2023-12-04 22:13:51 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x109c16200>
2023-12-04 22:13:51 DEBUG    Adding expect 100 continue header to request.
2023-12-04 22:13:51 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x109c15120>
2023-12-04 22:13:51 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x109c17740>
2023-12-04 22:13:51 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x11d639890>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10e228850>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x11d639890>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11d978b80>
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11d9eec10>>
2023-12-04 22:13:51 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x11d631350>>
2023-12-04 22:13:51 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x109c15b20>
2023-12-04 22:13:51 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x109c280e0>
2023-12-04 22:13:51 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:13:51 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061351Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:13:51 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061351Z
20231205/us-east-1/s3/aws4_request
456947e298d439c98f044bbc13e41deef97f3873023ada35a2be7b6ec588852d
2023-12-04 22:13:51 DEBUG    Signature:
950c65e2a5f83914111cdb37cfb7f7e78e14a3674310c7553551854f1f4aae14
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11d978ea0>
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x109c17ec0>
2023-12-04 22:13:51 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061351Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=950c65e2a5f83914111cdb37cfb7f7e78e14a3674310c7553551854f1f4aae14', 'amz-sdk-invocation-id': b'35917c68-27b6-4e95-96df-a0de0e31494b', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 22:13:51 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:13:51 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 22:13:51 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:13:51 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 22:13:51 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 22:13:51 DEBUG    Response headers: {'x-amz-request-id': 'TA6KSQ7PG0XF97YH', 'x-amz-id-2': 'g6t9chZay+64undNmZLzJ0c7iXhTsVbKRpIG8ndxRLCSKQo21PHxvFTxEgTMeaABMCR3To3pkzI=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 06:13:51 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 22:13:51 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>TA6KSQ7PG0XF97YH</RequestId><HostId>g6t9chZay+64undNmZLzJ0c7iXhTsVbKRpIG8ndxRLCSKQo21PHxvFTxEgTMeaABMCR3To3pkzI=</HostId></Error>'
2023-12-04 22:13:51 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11da04c90>
2023-12-04 22:13:51 DEBUG    No retry needed.
2023-12-04 22:13:51 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10e260290>>
2023-12-04 22:13:51 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 22:13:51 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x109c28180>
2023-12-04 22:13:51 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10e260290>>
2023-12-04 22:13:51 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:13:51 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 22:13:51 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 22:13:51 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:13:51 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:13:51 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 22:13:51 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x11d639890>
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11d978b80>
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11d9eec10>>
2023-12-04 22:13:51 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x11d631350>>
2023-12-04 22:13:51 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x109c15b20>
2023-12-04 22:13:51 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x109c280e0>
2023-12-04 22:13:51 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:13:51 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061351Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:13:51 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061351Z
20231205/us-east-2/s3/aws4_request
21f38db25fd76f126f031023f5c729cfd8ee1746797d68b61636db7b910c3bf3
2023-12-04 22:13:51 DEBUG    Signature:
0fa926627f8f4443e67b438fac1fe754fb008373423d4e96c14571f7dee4336b
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11d978ea0>
2023-12-04 22:13:51 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x109c17ec0>
2023-12-04 22:13:51 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061351Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=0fa926627f8f4443e67b438fac1fe754fb008373423d4e96c14571f7dee4336b', 'amz-sdk-invocation-id': b'35917c68-27b6-4e95-96df-a0de0e31494b', 'amz-sdk-request': b'ttl=20231205T061451Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 22:13:51 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:13:51 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 22:13:52 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:13:52 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 22:13:56 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 22:13:56 DEBUG    Response headers: {'x-amz-id-2': 'kuj7o8tdyKt4aVeY38eEJJimBYAkmO955PM7zmqOJzAi3IxUinL/z6FIGOdcWeYTH39F93CmvSg=', 'x-amz-request-id': '1RB9C3VBBEHGY821', 'Date': 'Tue, 05 Dec 2023 06:13:53 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 22:13:56 DEBUG    Response body:
b''
2023-12-04 22:13:56 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11da04c90>
2023-12-04 22:13:56 DEBUG    No retry needed.
2023-12-04 22:13:56 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10e260290>>
2023-12-04 22:13:56 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 22:13:56 DEBUG    Releasing acquire 0/None
2023-12-04 22:13:56 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 22:13:56 ERROR    receipt.services.create_receipt(): Error creating receipt - 'tip_amount'
2023-12-04 22:14:43 INFO     Migrations complete
2023-12-04 22:14:55 DEBUG    Calling on_part_begin with no data
2023-12-04 22:14:55 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 22:14:55 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 22:14:55 DEBUG    Calling on_header_end with no data
2023-12-04 22:14:55 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 22:14:55 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 22:14:55 DEBUG    Calling on_header_end with no data
2023-12-04 22:14:55 DEBUG    Calling on_headers_finished with no data
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[161:272493]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:6215]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[6216:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:142736]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[142737:170894]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[170895:200623]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[200624:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:54865]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[54866:86493]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[86494:236041]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[236042:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:14159]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[14160:143994]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[143995:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:4810]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[4811:92764]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[92765:206930]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[206931:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:14:55 DEBUG    Calling on_part_data with data[0:16630]
2023-12-04 22:14:55 DEBUG    Calling on_part_end with no data
2023-12-04 22:14:55 DEBUG    Calling on_end with no data
2023-12-04 22:14:55 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 22:14:55 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 22:14:55 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 22:14:55 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 22:14:55 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 22:14:55 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 22:14:55 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 22:14:55 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 22:14:55 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 22:14:55 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 22:14:55 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 22:14:55 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 22:14:55 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 22:14:55 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1079bc220>
2023-12-04 22:14:55 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 22:14:55 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 22:14:55 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 22:14:55 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1078e7880>
2023-12-04 22:14:55 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x109f32660>
2023-12-04 22:14:55 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1078e7600>
2023-12-04 22:14:55 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 22:14:55 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 22:14:55 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 22:14:55 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 22:14:55 DEBUG    No configured endpoint found.
2023-12-04 22:14:55 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 22:14:55 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 22:14:55 DEBUG    Registering retry handlers for service: s3
2023-12-04 22:14:55 DEBUG    Registering S3 region redirector handler
2023-12-04 22:14:55 DEBUG    Acquiring 0
2023-12-04 22:14:55 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a615f50>}) about to wait for the following futures []
2023-12-04 22:14:55 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a615f50>}) done waiting for dependent futures
2023-12-04 22:14:55 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a615f50>}) with kwargs {'client': <botocore.client.S3 object at 0x108915150>, 'config': <boto3.s3.transfer.TransferConfig object at 0x109f4f0d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x108534d50>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10a83cf50>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a615f50>}
2023-12-04 22:14:55 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10a83cf50> for transfer request: 0.
2023-12-04 22:14:55 DEBUG    Acquiring 0
2023-12-04 22:14:55 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 22:14:55 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 22:14:55 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x108915150>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x109ed5850>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 22:14:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x1079bec00>
2023-12-04 22:14:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x1079bdee0>
2023-12-04 22:14:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x1079bf600>
2023-12-04 22:14:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x1079bde40>
2023-12-04 22:14:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x1079bff60>
2023-12-04 22:14:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10a629010>>
2023-12-04 22:14:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x1079bdc60>
2023-12-04 22:14:55 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1079d0180>
2023-12-04 22:14:55 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10a629010>>
2023-12-04 22:14:55 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:14:55 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 22:14:55 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:14:55 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:14:55 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1078380e0>
2023-12-04 22:14:55 DEBUG    Releasing acquire 0/None
2023-12-04 22:14:55 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x1079be200>
2023-12-04 22:14:55 DEBUG    Adding expect 100 continue header to request.
2023-12-04 22:14:55 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1079bd120>
2023-12-04 22:14:55 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x1079bf740>
2023-12-04 22:14:55 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x109ed5850>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10a600a50>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x109ed5850>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10a6a8b80>
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10a826bd0>>
2023-12-04 22:14:55 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x109e8c990>>
2023-12-04 22:14:55 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1079bdb20>
2023-12-04 22:14:55 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1079d00e0>
2023-12-04 22:14:55 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:14:55 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061455Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:14:55 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061455Z
20231205/us-east-1/s3/aws4_request
f0f6630b98ee092b524b1b866d11a1a1945dc5caf58f981b3672f858f0cba940
2023-12-04 22:14:55 DEBUG    Signature:
4114a48de24db86c16390ab37ca349ef21e7516ac800de1132210864a56ec28e
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10a6a8ea0>
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1079bfec0>
2023-12-04 22:14:55 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061455Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=4114a48de24db86c16390ab37ca349ef21e7516ac800de1132210864a56ec28e', 'amz-sdk-invocation-id': b'66419039-90c4-406a-8456-3b4ac806c00a', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 22:14:55 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:14:55 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 22:14:55 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:14:55 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 22:14:55 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 22:14:55 DEBUG    Response headers: {'x-amz-request-id': 'QS04TZ251ZRC8HH2', 'x-amz-id-2': 'jeMYg8jSBQz7I/JFWxqFsB5y/WA0Cgn5WMrnynnWU6OkGPQtXNFI15phjmmDterllmH5Cgc2j1w=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 06:14:55 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 22:14:55 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>QS04TZ251ZRC8HH2</RequestId><HostId>jeMYg8jSBQz7I/JFWxqFsB5y/WA0Cgn5WMrnynnWU6OkGPQtXNFI15phjmmDterllmH5Cgc2j1w=</HostId></Error>'
2023-12-04 22:14:55 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10a83cdd0>
2023-12-04 22:14:55 DEBUG    No retry needed.
2023-12-04 22:14:55 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10a629010>>
2023-12-04 22:14:55 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 22:14:55 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1079d0180>
2023-12-04 22:14:55 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10a629010>>
2023-12-04 22:14:55 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:14:55 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 22:14:55 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 22:14:55 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:14:55 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:14:55 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 22:14:55 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x109ed5850>
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10a6a8b80>
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10a826bd0>>
2023-12-04 22:14:55 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x109e8c990>>
2023-12-04 22:14:55 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1079bdb20>
2023-12-04 22:14:55 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1079d00e0>
2023-12-04 22:14:55 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:14:55 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061455Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:14:55 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061455Z
20231205/us-east-2/s3/aws4_request
443c0294511ea83564d38e71328ff3c2bf4fc3a37e83980d667392f49d9b9e70
2023-12-04 22:14:55 DEBUG    Signature:
af915be4b6ff186d7b48d2b492afcdfad8427e09c183a5171defe0f7f65992d0
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10a6a8ea0>
2023-12-04 22:14:55 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1079bfec0>
2023-12-04 22:14:55 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061455Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=af915be4b6ff186d7b48d2b492afcdfad8427e09c183a5171defe0f7f65992d0', 'amz-sdk-invocation-id': b'66419039-90c4-406a-8456-3b4ac806c00a', 'amz-sdk-request': b'ttl=20231205T061555Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 22:14:55 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:14:55 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 22:14:56 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:14:56 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 22:14:59 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 22:14:59 DEBUG    Response headers: {'x-amz-id-2': 'aEQCGJ/JI8v4W389/1uPTqtekIHLqQeBHxmvOEhiq3fbKJlNLtotOpEJNXEn7blfNa18JYASAik=', 'x-amz-request-id': 'PCD9G19229VAPVAQ', 'Date': 'Tue, 05 Dec 2023 06:14:57 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 22:14:59 DEBUG    Response body:
b''
2023-12-04 22:14:59 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10a83cdd0>
2023-12-04 22:14:59 DEBUG    No retry needed.
2023-12-04 22:14:59 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10a629010>>
2023-12-04 22:14:59 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 22:14:59 DEBUG    Releasing acquire 0/None
2023-12-04 22:14:59 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 22:14:59 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 22:15:33 INFO     Migrations complete
2023-12-04 22:15:35 DEBUG    Calling on_part_begin with no data
2023-12-04 22:15:35 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 22:15:35 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 22:15:35 DEBUG    Calling on_header_end with no data
2023-12-04 22:15:35 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 22:15:35 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 22:15:35 DEBUG    Calling on_header_end with no data
2023-12-04 22:15:35 DEBUG    Calling on_headers_finished with no data
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[80446:131233]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:10816]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[10817:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:55526]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[55527:147475]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[147476:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:100139]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[100140:168087]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[168088:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:27996]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[27997:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:9457]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[9458:93458]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[93459:237670]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[237671:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:146070]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[146071:234024]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[234025:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:35146]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[35147:256000]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:63633]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:15:35 DEBUG    Calling on_part_data with data[63634:157890]
2023-12-04 22:15:35 DEBUG    Calling on_part_end with no data
2023-12-04 22:15:35 DEBUG    Calling on_end with no data
2023-12-04 22:15:35 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 22:15:35 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 22:15:35 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 22:15:35 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 22:15:35 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 22:15:35 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 22:15:35 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 22:15:35 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 22:15:35 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 22:15:35 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 22:15:35 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 22:15:35 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 22:15:35 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 22:15:35 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1079a0220>
2023-12-04 22:15:35 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 22:15:35 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 22:15:35 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 22:15:35 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1078cf880>
2023-12-04 22:15:35 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x109e98720>
2023-12-04 22:15:35 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1078cf600>
2023-12-04 22:15:35 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 22:15:35 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 22:15:35 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 22:15:35 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 22:15:35 DEBUG    No configured endpoint found.
2023-12-04 22:15:35 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 22:15:35 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 22:15:35 DEBUG    Registering retry handlers for service: s3
2023-12-04 22:15:35 DEBUG    Registering S3 region redirector handler
2023-12-04 22:15:35 DEBUG    Acquiring 0
2023-12-04 22:15:35 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a60cb10>}) about to wait for the following futures []
2023-12-04 22:15:35 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a60cb10>}) done waiting for dependent futures
2023-12-04 22:15:35 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a60cb10>}) with kwargs {'client': <botocore.client.S3 object at 0x10a5e5b50>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10882d950>, 'osutil': <s3transfer.utils.OSUtils object at 0x10879c350>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10a174310>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10a60cb10>}
2023-12-04 22:15:35 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10a174310> for transfer request: 0.
2023-12-04 22:15:35 DEBUG    Acquiring 0
2023-12-04 22:15:35 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 22:15:35 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 22:15:35 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10a5e5b50>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x109e71d90>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 22:15:35 DEBUG    Releasing acquire 0/None
2023-12-04 22:15:35 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x1079a2c00>
2023-12-04 22:15:35 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x1079a1ee0>
2023-12-04 22:15:35 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x1079a3600>
2023-12-04 22:15:35 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x1079a1e40>
2023-12-04 22:15:35 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x1079a3f60>
2023-12-04 22:15:35 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10a60c190>>
2023-12-04 22:15:35 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x1079a1c60>
2023-12-04 22:15:35 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1079b4180>
2023-12-04 22:15:35 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10a60c190>>
2023-12-04 22:15:35 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:15:35 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 22:15:35 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:15:35 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:15:35 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x10781c0e0>
2023-12-04 22:15:35 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x1079a2200>
2023-12-04 22:15:35 DEBUG    Adding expect 100 continue header to request.
2023-12-04 22:15:35 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1079a1120>
2023-12-04 22:15:35 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x1079a3740>
2023-12-04 22:15:35 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x109e71d90>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10a702d10>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x109e71d90>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 22:15:35 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10a68cb80>
2023-12-04 22:15:35 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10a702cd0>>
2023-12-04 22:15:35 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x109e82a50>>
2023-12-04 22:15:35 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1079a1b20>
2023-12-04 22:15:35 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1079b40e0>
2023-12-04 22:15:35 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:15:35 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061535Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:15:35 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061535Z
20231205/us-east-1/s3/aws4_request
6851d060b0a778c8d3734fec47bc8179409b96d2539fc309400940d09d180035
2023-12-04 22:15:35 DEBUG    Signature:
cf3a0bb1860d01a8763ad1805cfe87bec0216605422df2a30c19cd2af85cfdc8
2023-12-04 22:15:35 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10a68cea0>
2023-12-04 22:15:35 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1079a3ec0>
2023-12-04 22:15:35 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061535Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=cf3a0bb1860d01a8763ad1805cfe87bec0216605422df2a30c19cd2af85cfdc8', 'amz-sdk-invocation-id': b'501c7ccd-668c-4110-9053-697735c0c258', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 22:15:35 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:15:35 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 22:15:35 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:15:36 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 22:15:36 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 22:15:36 DEBUG    Response headers: {'x-amz-request-id': 'A01GYKE6V43CTABH', 'x-amz-id-2': 'n5D/phW0hiCpnDTyf/bWRbcyYbvcZCI7lHnuIbwt92rH1zgdcg4baGSQUd+SHAtxeD91urRCmXE=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 06:15:35 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 22:15:36 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>A01GYKE6V43CTABH</RequestId><HostId>n5D/phW0hiCpnDTyf/bWRbcyYbvcZCI7lHnuIbwt92rH1zgdcg4baGSQUd+SHAtxeD91urRCmXE=</HostId></Error>'
2023-12-04 22:15:36 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10a718d10>
2023-12-04 22:15:36 DEBUG    No retry needed.
2023-12-04 22:15:36 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10a60c190>>
2023-12-04 22:15:36 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 22:15:36 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1079b4180>
2023-12-04 22:15:36 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10a60c190>>
2023-12-04 22:15:36 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:15:36 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 22:15:36 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 22:15:36 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:15:36 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:15:36 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 22:15:36 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x109e71d90>
2023-12-04 22:15:36 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10a68cb80>
2023-12-04 22:15:36 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10a702cd0>>
2023-12-04 22:15:36 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x109e82a50>>
2023-12-04 22:15:36 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1079a1b20>
2023-12-04 22:15:36 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1079b40e0>
2023-12-04 22:15:36 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:15:36 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061536Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:15:36 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061536Z
20231205/us-east-2/s3/aws4_request
93bb5bad9151af3ea2e1399d2e9774da44303996130b3143d5697c2869260c0a
2023-12-04 22:15:36 DEBUG    Signature:
5228ea5a38657bad7d5042c1f6e09720ca86ec2ebaa73bc3f52e3e7d9d44ae08
2023-12-04 22:15:36 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10a68cea0>
2023-12-04 22:15:36 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1079a3ec0>
2023-12-04 22:15:36 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061536Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=5228ea5a38657bad7d5042c1f6e09720ca86ec2ebaa73bc3f52e3e7d9d44ae08', 'amz-sdk-invocation-id': b'501c7ccd-668c-4110-9053-697735c0c258', 'amz-sdk-request': b'ttl=20231205T061635Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 22:15:36 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:15:36 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 22:15:36 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:15:36 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 22:15:40 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 22:15:40 DEBUG    Response headers: {'x-amz-id-2': 'dQNUhzCV+m6nI7VZMy5Nj8us6tfY2AqcPk/90tmRF7WI/sqMYyhpBJGcTwRFNE9hBuu0MvWuB2E=', 'x-amz-request-id': 'ZNDCQM3GTTMC94PA', 'Date': 'Tue, 05 Dec 2023 06:15:37 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 22:15:40 DEBUG    Response body:
b''
2023-12-04 22:15:40 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10a718d10>
2023-12-04 22:15:40 DEBUG    No retry needed.
2023-12-04 22:15:40 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10a60c190>>
2023-12-04 22:15:40 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 22:15:40 DEBUG    Releasing acquire 0/None
2023-12-04 22:15:40 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 22:15:40 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 22:16:13 INFO     Migrations complete
2023-12-04 22:16:15 DEBUG    Calling on_part_begin with no data
2023-12-04 22:16:15 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 22:16:15 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 22:16:15 DEBUG    Calling on_header_end with no data
2023-12-04 22:16:15 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 22:16:15 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 22:16:15 DEBUG    Calling on_header_end with no data
2023-12-04 22:16:15 DEBUG    Calling on_headers_finished with no data
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[80446:255458]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:150757]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[150758:225233]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[225234:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:211046]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[211047:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:161029]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[161030:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:160753]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[160754:184431]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[184432:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 22:16:15 DEBUG    Calling on_part_data with data[0:33665]
2023-12-04 22:16:15 DEBUG    Calling on_part_end with no data
2023-12-04 22:16:15 DEBUG    Calling on_end with no data
2023-12-04 22:16:15 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 22:16:15 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 22:16:15 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 22:16:15 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 22:16:15 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 22:16:15 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 22:16:15 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 22:16:15 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 22:16:15 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 22:16:15 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 22:16:15 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 22:16:15 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 22:16:15 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 22:16:15 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1082dc220>
2023-12-04 22:16:15 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 22:16:15 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 22:16:15 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 22:16:15 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x10820b880>
2023-12-04 22:16:15 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10b377060>
2023-12-04 22:16:15 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x10820b600>
2023-12-04 22:16:15 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 22:16:15 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 22:16:15 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 22:16:15 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 22:16:15 DEBUG    No configured endpoint found.
2023-12-04 22:16:15 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 22:16:15 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 22:16:15 DEBUG    Registering retry handlers for service: s3
2023-12-04 22:16:15 DEBUG    Registering S3 region redirector handler
2023-12-04 22:16:15 DEBUG    Acquiring 0
2023-12-04 22:16:15 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x113a30b10>}) about to wait for the following futures []
2023-12-04 22:16:15 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x113a30b10>}) done waiting for dependent futures
2023-12-04 22:16:15 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x113a30b10>}) with kwargs {'client': <botocore.client.S3 object at 0x113a31090>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10b36f0d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x108fd8350>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x113c3cc90>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x113a30b10>}
2023-12-04 22:16:15 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x113c3cc90> for transfer request: 0.
2023-12-04 22:16:15 DEBUG    Acquiring 0
2023-12-04 22:16:15 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 22:16:15 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 22:16:15 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x113a31090>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10b394f50>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 22:16:15 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x1082dec00>
2023-12-04 22:16:15 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x1082ddee0>
2023-12-04 22:16:15 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x1082df600>
2023-12-04 22:16:15 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x1082dde40>
2023-12-04 22:16:15 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x1082dff60>
2023-12-04 22:16:15 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10b3790d0>>
2023-12-04 22:16:15 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x1082ddc60>
2023-12-04 22:16:15 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1082f0180>
2023-12-04 22:16:15 DEBUG    Releasing acquire 0/None
2023-12-04 22:16:15 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10b3790d0>>
2023-12-04 22:16:15 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:16:15 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 22:16:15 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:16:15 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:16:15 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1081580e0>
2023-12-04 22:16:15 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x1082de200>
2023-12-04 22:16:15 DEBUG    Adding expect 100 continue header to request.
2023-12-04 22:16:15 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1082dd120>
2023-12-04 22:16:15 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x1082df740>
2023-12-04 22:16:15 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10b394f50>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10b37be10>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10b394f50>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x113ab0b80>
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x113c26810>>
2023-12-04 22:16:15 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x108e5e350>>
2023-12-04 22:16:15 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1082ddb20>
2023-12-04 22:16:15 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1082f00e0>
2023-12-04 22:16:15 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:16:15 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061615Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:16:15 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061615Z
20231205/us-east-1/s3/aws4_request
48209e4318cc449c6ebf004c9eb3ab0c75dc3690ea7fa9b928171305efb1f23a
2023-12-04 22:16:15 DEBUG    Signature:
88286a2ee40ad480acaadeda49f41ad2d4b2648b9950c7d5dbb1d4b87a4c7a35
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x113ab0ea0>
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1082dfec0>
2023-12-04 22:16:15 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061615Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=88286a2ee40ad480acaadeda49f41ad2d4b2648b9950c7d5dbb1d4b87a4c7a35', 'amz-sdk-invocation-id': b'df3fe453-66ac-4106-b97a-7f602d538e4b', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 22:16:15 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:16:15 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 22:16:15 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:16:15 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 22:16:15 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 22:16:15 DEBUG    Response headers: {'x-amz-request-id': 'CF5GKRPFSR05EW88', 'x-amz-id-2': 'YBqfMuvu2G3h/SA6k8+J3cxBALE/HgDum4Mug5FDKdlcpitjseDiICer3mB04HOcHY5v2XSXcQ8=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 06:16:14 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 22:16:15 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>CF5GKRPFSR05EW88</RequestId><HostId>YBqfMuvu2G3h/SA6k8+J3cxBALE/HgDum4Mug5FDKdlcpitjseDiICer3mB04HOcHY5v2XSXcQ8=</HostId></Error>'
2023-12-04 22:16:15 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x113c3cad0>
2023-12-04 22:16:15 DEBUG    No retry needed.
2023-12-04 22:16:15 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10b3790d0>>
2023-12-04 22:16:15 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 22:16:15 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1082f0180>
2023-12-04 22:16:15 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10b3790d0>>
2023-12-04 22:16:15 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 22:16:15 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 22:16:15 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 22:16:15 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 22:16:15 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 22:16:15 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 22:16:15 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10b394f50>
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x113ab0b80>
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x113c26810>>
2023-12-04 22:16:15 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x108e5e350>>
2023-12-04 22:16:15 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1082ddb20>
2023-12-04 22:16:15 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1082f00e0>
2023-12-04 22:16:15 DEBUG    Calculating signature using v4 auth.
2023-12-04 22:16:15 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T061615Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 22:16:15 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T061615Z
20231205/us-east-2/s3/aws4_request
d99af6b7736897ec642c8238f467aee1aee405ce570c7b2bbce479f552bfa20e
2023-12-04 22:16:15 DEBUG    Signature:
d45e1fef4c55ee8f0b5fde95c8221d45b7d97a79283b112068e87263a1e5aa86
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x113ab0ea0>
2023-12-04 22:16:15 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1082dfec0>
2023-12-04 22:16:15 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T061615Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=d45e1fef4c55ee8f0b5fde95c8221d45b7d97a79283b112068e87263a1e5aa86', 'amz-sdk-invocation-id': b'df3fe453-66ac-4106-b97a-7f602d538e4b', 'amz-sdk-request': b'ttl=20231205T061714Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 22:16:15 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 22:16:15 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 22:16:15 DEBUG    Waiting for 100 Continue response.
2023-12-04 22:16:15 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 22:16:19 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 22:16:19 DEBUG    Response headers: {'x-amz-id-2': 'J7M3vqCYBfZtq8/xaWCDV3T8r4s08WYZ5P579TWPy1x5f3BnNQ5gK2aq1EDM1xq4JouCuWSc0rY=', 'x-amz-request-id': 'CF5NTHPWKNZ5XDB7', 'Date': 'Tue, 05 Dec 2023 06:16:16 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 22:16:19 DEBUG    Response body:
b''
2023-12-04 22:16:19 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x113c3cad0>
2023-12-04 22:16:19 DEBUG    No retry needed.
2023-12-04 22:16:19 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10b3790d0>>
2023-12-04 22:16:19 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 22:16:19 DEBUG    Releasing acquire 0/None
2023-12-04 22:16:19 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 22:16:19 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 23:33:06 INFO     Migrations complete
2023-12-04 23:33:17 DEBUG    Calling on_part_begin with no data
2023-12-04 23:33:17 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 23:33:17 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 23:33:17 DEBUG    Calling on_header_end with no data
2023-12-04 23:33:17 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 23:33:17 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 23:33:17 DEBUG    Calling on_header_end with no data
2023-12-04 23:33:17 DEBUG    Calling on_headers_finished with no data
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[161:75562]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[75563:256161]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:231211]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[231212:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:96058]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[96059:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:140092]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[140093:238350]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[238351:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:233772]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[233773:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:33:17 DEBUG    Calling on_part_data with data[0:32962]
2023-12-04 23:33:17 DEBUG    Calling on_part_end with no data
2023-12-04 23:33:17 DEBUG    Calling on_end with no data
2023-12-04 23:33:17 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 23:33:17 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 23:33:17 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 23:33:17 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 23:33:17 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 23:33:17 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 23:33:17 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 23:33:17 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 23:33:17 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 23:33:17 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 23:33:17 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 23:33:17 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 23:33:17 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 23:33:17 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1062c0180>
2023-12-04 23:33:17 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 23:33:17 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 23:33:17 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 23:33:17 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1061e77e0>
2023-12-04 23:33:17 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x111877420>
2023-12-04 23:33:17 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1061e7560>
2023-12-04 23:33:17 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 23:33:17 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 23:33:17 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 23:33:17 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 23:33:17 DEBUG    No configured endpoint found.
2023-12-04 23:33:17 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 23:33:17 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 23:33:17 DEBUG    Registering retry handlers for service: s3
2023-12-04 23:33:17 DEBUG    Registering S3 region redirector handler
2023-12-04 23:33:17 DEBUG    Acquiring 0
2023-12-04 23:33:17 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1164b9e10>}) about to wait for the following futures []
2023-12-04 23:33:17 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1164b9e10>}) done waiting for dependent futures
2023-12-04 23:33:17 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1164b9e10>}) with kwargs {'client': <botocore.client.S3 object at 0x116386350>, 'config': <boto3.s3.transfer.TransferConfig object at 0x1102b3190>, 'osutil': <s3transfer.utils.OSUtils object at 0x112a687d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1118a4d90>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1164b9e10>}
2023-12-04 23:33:17 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1118a4d90> for transfer request: 0.
2023-12-04 23:33:17 DEBUG    Acquiring 0
2023-12-04 23:33:17 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 23:33:17 DEBUG    Releasing acquire 0/None
2023-12-04 23:33:17 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 23:33:17 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x116386350>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x107f364d0>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 23:33:17 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x1062c2b60>
2023-12-04 23:33:17 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x1062c1e40>
2023-12-04 23:33:17 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x1062c3560>
2023-12-04 23:33:17 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x1062c1da0>
2023-12-04 23:33:17 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x1062c3ec0>
2023-12-04 23:33:17 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x111866d50>>
2023-12-04 23:33:17 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x1062c1bc0>
2023-12-04 23:33:17 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1062cc0e0>
2023-12-04 23:33:17 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x111866d50>>
2023-12-04 23:33:17 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:33:17 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 23:33:17 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:33:17 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:33:17 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x106134040>
2023-12-04 23:33:17 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x1062c2160>
2023-12-04 23:33:17 DEBUG    Adding expect 100 continue header to request.
2023-12-04 23:33:17 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1062c1080>
2023-12-04 23:33:17 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x1062c36a0>
2023-12-04 23:33:17 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x107f364d0>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x111850650>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x107f364d0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11642cae0>
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11649ee10>>
2023-12-04 23:33:17 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x11186e490>>
2023-12-04 23:33:17 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1062c1a80>
2023-12-04 23:33:17 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1062cc040>
2023-12-04 23:33:17 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:33:17 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073317Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:33:17 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073317Z
20231205/us-east-1/s3/aws4_request
d73e4638f062c8912581e4624a86e998589f284074854d1dbd8d7eba5cd639b9
2023-12-04 23:33:17 DEBUG    Signature:
6426ca74f461c5492f334297f260b03ce2fc6fe00bb483438dbeb1cefb9b11cd
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11642ce00>
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1062c3e20>
2023-12-04 23:33:17 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073317Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=6426ca74f461c5492f334297f260b03ce2fc6fe00bb483438dbeb1cefb9b11cd', 'amz-sdk-invocation-id': b'df5e2844-95ca-4b52-9c59-1c84b21a458c', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 23:33:17 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:33:17 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 23:33:17 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:33:17 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 23:33:17 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 23:33:17 DEBUG    Response headers: {'x-amz-request-id': 'Y0KKWVWQ3E31FZW8', 'x-amz-id-2': '6KMRExt75p82biJaW5Ym6Esb8yo0e8K4Bnjc7WmnYF9ErXSmeCFuhkWHpLgtasBPeNmqVlqElsQ=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 07:33:17 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 23:33:17 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>Y0KKWVWQ3E31FZW8</RequestId><HostId>6KMRExt75p82biJaW5Ym6Esb8yo0e8K4Bnjc7WmnYF9ErXSmeCFuhkWHpLgtasBPeNmqVlqElsQ=</HostId></Error>'
2023-12-04 23:33:17 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x1164b91d0>
2023-12-04 23:33:17 DEBUG    No retry needed.
2023-12-04 23:33:17 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x111866d50>>
2023-12-04 23:33:17 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 23:33:17 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1062cc0e0>
2023-12-04 23:33:17 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x111866d50>>
2023-12-04 23:33:17 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:33:17 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 23:33:17 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 23:33:17 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:33:17 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:33:17 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 23:33:17 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x107f364d0>
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11642cae0>
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x11649ee10>>
2023-12-04 23:33:17 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x11186e490>>
2023-12-04 23:33:17 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1062c1a80>
2023-12-04 23:33:17 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1062cc040>
2023-12-04 23:33:17 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:33:17 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073317Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:33:17 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073317Z
20231205/us-east-2/s3/aws4_request
12b03030d5fdc4fdab0f175a312b76f32126c8f2e22c78c0e881ba68f9e27f5e
2023-12-04 23:33:17 DEBUG    Signature:
eea63e4ec23dfc4fa32b82071e7fbd9a5a8f77c5ce4bd9bb7a88d8f3ed7c8de3
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11642ce00>
2023-12-04 23:33:17 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1062c3e20>
2023-12-04 23:33:17 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073317Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=eea63e4ec23dfc4fa32b82071e7fbd9a5a8f77c5ce4bd9bb7a88d8f3ed7c8de3', 'amz-sdk-invocation-id': b'df5e2844-95ca-4b52-9c59-1c84b21a458c', 'amz-sdk-request': b'ttl=20231205T073417Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 23:33:17 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:33:17 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 23:33:18 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:33:18 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 23:33:21 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 23:33:21 DEBUG    Response headers: {'x-amz-id-2': '9CnL40BNb3J2kb5SYYu+g73087xhlC+lgnfaxIswc/TqaDQCSbKsQN16MIPG7jW7hWHidLAuQ2o=', 'x-amz-request-id': 'WGCC43T6V9M08G4K', 'Date': 'Tue, 05 Dec 2023 07:33:19 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 23:33:21 DEBUG    Response body:
b''
2023-12-04 23:33:21 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x1164b91d0>
2023-12-04 23:33:21 DEBUG    No retry needed.
2023-12-04 23:33:21 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x111866d50>>
2023-12-04 23:33:21 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 23:33:21 DEBUG    Releasing acquire 0/None
2023-12-04 23:33:21 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 23:33:22 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 23:33:50 DEBUG    Calling on_part_begin with no data
2023-12-04 23:33:50 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 23:33:50 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 23:33:50 DEBUG    Calling on_header_end with no data
2023-12-04 23:33:50 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 23:33:50 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 23:33:50 DEBUG    Calling on_header_end with no data
2023-12-04 23:33:50 DEBUG    Calling on_headers_finished with no data
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[80446:196769]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:255979]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[255980:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:155450]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[155451:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:162217]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[162218:194860]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[194861:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:4277]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[4278:41742]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[41743:172134]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[172135:239106]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[239107:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:13735]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[13736:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:225610]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[225611:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:254097]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[254098:256000]
2023-12-04 23:33:50 DEBUG    Calling on_part_data with data[0:92354]
2023-12-04 23:33:50 DEBUG    Calling on_part_end with no data
2023-12-04 23:33:50 DEBUG    Calling on_end with no data
2023-12-04 23:33:50 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1062c0180>
2023-12-04 23:33:50 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1061e77e0>
2023-12-04 23:33:50 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x111877420>
2023-12-04 23:33:50 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1061e7560>
2023-12-04 23:33:50 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 23:33:50 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 23:33:50 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 23:33:50 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 23:33:50 DEBUG    No configured endpoint found.
2023-12-04 23:33:50 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 23:33:50 DEBUG    Registering retry handlers for service: s3
2023-12-04 23:33:50 DEBUG    Registering S3 region redirector handler
2023-12-04 23:33:50 DEBUG    Acquiring 0
2023-12-04 23:33:50 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x116725710>}) about to wait for the following futures []
2023-12-04 23:33:50 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x116725710>}) done waiting for dependent futures
2023-12-04 23:33:50 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x116725710>}) with kwargs {'client': <botocore.client.S3 object at 0x116573c50>, 'config': <boto3.s3.transfer.TransferConfig object at 0x11655ff10>, 'osutil': <s3transfer.utils.OSUtils object at 0x11655f590>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x116724b90>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x116725710>}
2023-12-04 23:33:50 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x116724b90> for transfer request: 0.
2023-12-04 23:33:50 DEBUG    Acquiring 0
2023-12-04 23:33:50 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 23:33:50 DEBUG    Releasing acquire 0/None
2023-12-04 23:33:50 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 23:33:50 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x116573c50>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x1164ba150>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 23:33:50 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x1062c2b60>
2023-12-04 23:33:50 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x1062c1e40>
2023-12-04 23:33:50 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x1062c3560>
2023-12-04 23:33:50 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x1062c1da0>
2023-12-04 23:33:50 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x1062c3ec0>
2023-12-04 23:33:50 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x116723fd0>>
2023-12-04 23:33:50 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x1062c1bc0>
2023-12-04 23:33:50 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1062cc0e0>
2023-12-04 23:33:50 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x116723fd0>>
2023-12-04 23:33:50 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:33:50 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 23:33:50 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:33:50 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:33:50 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x106134040>
2023-12-04 23:33:50 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x1062c2160>
2023-12-04 23:33:50 DEBUG    Adding expect 100 continue header to request.
2023-12-04 23:33:50 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1062c1080>
2023-12-04 23:33:50 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x1062c36a0>
2023-12-04 23:33:50 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x1164ba150>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x1167113d0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x1164ba150>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 23:33:50 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11642cae0>
2023-12-04 23:33:50 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x116711390>>
2023-12-04 23:33:50 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1100848d0>>
2023-12-04 23:33:50 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1062c1a80>
2023-12-04 23:33:50 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1062cc040>
2023-12-04 23:33:50 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:33:50 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073350Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:33:50 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073350Z
20231205/us-east-1/s3/aws4_request
14340d8198bcacc6675dbda5596bfad4c021f637cc2f34cf9794d68391c32e10
2023-12-04 23:33:50 DEBUG    Signature:
3bf43702934c907baf9a93531d212482750d9b9d6cbde4f98c5fa0619c1a89f0
2023-12-04 23:33:50 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11642ce00>
2023-12-04 23:33:50 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1062c3e20>
2023-12-04 23:33:50 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073350Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=3bf43702934c907baf9a93531d212482750d9b9d6cbde4f98c5fa0619c1a89f0', 'amz-sdk-invocation-id': b'83db932e-34d9-4866-85a4-ee3d11e7371f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 23:33:50 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:33:50 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 23:33:51 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:33:51 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 23:33:51 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 23:33:51 DEBUG    Response headers: {'x-amz-request-id': 'CFZBHVCYCBAFPJDW', 'x-amz-id-2': 'vyGKfmzxd03MEOw9QM7riO1RMsKmcUAHyElygFNCMHY3HvXvZYO+/nEoPxZgZmn/ce/yICn4lYg=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 07:33:50 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 23:33:51 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>CFZBHVCYCBAFPJDW</RequestId><HostId>vyGKfmzxd03MEOw9QM7riO1RMsKmcUAHyElygFNCMHY3HvXvZYO+/nEoPxZgZmn/ce/yICn4lYg=</HostId></Error>'
2023-12-04 23:33:51 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x116724a90>
2023-12-04 23:33:51 DEBUG    No retry needed.
2023-12-04 23:33:51 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x116723fd0>>
2023-12-04 23:33:51 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 23:33:51 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1062cc0e0>
2023-12-04 23:33:51 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x116723fd0>>
2023-12-04 23:33:51 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:33:51 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 23:33:51 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 23:33:51 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:33:51 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:33:51 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 23:33:51 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x1164ba150>
2023-12-04 23:33:51 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x11642cae0>
2023-12-04 23:33:51 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x116711390>>
2023-12-04 23:33:51 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1100848d0>>
2023-12-04 23:33:51 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x1062c1a80>
2023-12-04 23:33:51 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1062cc040>
2023-12-04 23:33:51 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:33:51 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073351Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:33:51 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073351Z
20231205/us-east-2/s3/aws4_request
c0b4024b7b959b1707b766cf87b21d606af4d2756613bdb8786a7ce1bc81951a
2023-12-04 23:33:51 DEBUG    Signature:
83c10624f83150e926c0b9e916375e056b1c7decbd0e6212b7f23bc35e34c05c
2023-12-04 23:33:51 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x11642ce00>
2023-12-04 23:33:51 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x1062c3e20>
2023-12-04 23:33:51 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073351Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=83c10624f83150e926c0b9e916375e056b1c7decbd0e6212b7f23bc35e34c05c', 'amz-sdk-invocation-id': b'83db932e-34d9-4866-85a4-ee3d11e7371f', 'amz-sdk-request': b'ttl=20231205T073450Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 23:33:51 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:33:51 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 23:33:51 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:33:51 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 23:33:55 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 23:33:55 DEBUG    Response headers: {'x-amz-id-2': 'pvev0D76PBjlzEELqTIWlEJXYDiV+8OEI6iMgXYBD3xGjATeoheUIkLhVfRf1vPaRnAl12t+ddk=', 'x-amz-request-id': 'CFZ9NRN28B9NAJKF', 'Date': 'Tue, 05 Dec 2023 07:33:52 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 23:33:55 DEBUG    Response body:
b''
2023-12-04 23:33:55 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x116724a90>
2023-12-04 23:33:55 DEBUG    No retry needed.
2023-12-04 23:33:55 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x116723fd0>>
2023-12-04 23:33:55 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 23:33:55 DEBUG    Releasing acquire 0/None
2023-12-04 23:33:55 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 23:33:55 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 23:34:04 INFO     Migrations complete
2023-12-04 23:34:13 DEBUG    Calling on_part_begin with no data
2023-12-04 23:34:13 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 23:34:13 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 23:34:13 DEBUG    Calling on_header_end with no data
2023-12-04 23:34:13 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 23:34:13 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 23:34:13 DEBUG    Calling on_header_end with no data
2023-12-04 23:34:13 DEBUG    Calling on_headers_finished with no data
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[161:80445]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[80446:255458]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:150757]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[150758:225233]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[225234:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:211046]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[211047:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:161029]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[161030:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:160753]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[160754:184431]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[184432:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:34:13 DEBUG    Calling on_part_data with data[0:33665]
2023-12-04 23:34:13 DEBUG    Calling on_part_end with no data
2023-12-04 23:34:13 DEBUG    Calling on_end with no data
2023-12-04 23:34:13 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 23:34:13 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 23:34:13 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 23:34:13 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 23:34:13 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 23:34:13 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 23:34:13 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 23:34:13 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 23:34:13 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 23:34:13 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 23:34:13 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 23:34:13 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 23:34:13 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 23:34:13 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x10451c180>
2023-12-04 23:34:13 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 23:34:13 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 23:34:13 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 23:34:13 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1044437e0>
2023-12-04 23:34:13 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x11573a660>
2023-12-04 23:34:13 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x104443560>
2023-12-04 23:34:13 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 23:34:13 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 23:34:13 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 23:34:13 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 23:34:13 DEBUG    No configured endpoint found.
2023-12-04 23:34:13 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 23:34:13 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 23:34:13 DEBUG    Registering retry handlers for service: s3
2023-12-04 23:34:13 DEBUG    Registering S3 region redirector handler
2023-12-04 23:34:13 DEBUG    Acquiring 0
2023-12-04 23:34:13 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1075537d0>}) about to wait for the following futures []
2023-12-04 23:34:13 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1075537d0>}) done waiting for dependent futures
2023-12-04 23:34:13 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1075537d0>}) with kwargs {'client': <botocore.client.S3 object at 0x11571fd10>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10550f190>, 'osutil': <s3transfer.utils.OSUtils object at 0x105324490>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10544f050>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1075537d0>}
2023-12-04 23:34:13 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10544f050> for transfer request: 0.
2023-12-04 23:34:13 DEBUG    Acquiring 0
2023-12-04 23:34:13 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 23:34:13 DEBUG    Releasing acquire 0/None
2023-12-04 23:34:13 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 23:34:13 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x11571fd10>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x107529f90>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 23:34:13 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x10451eb60>
2023-12-04 23:34:13 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x10451de40>
2023-12-04 23:34:13 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x10451f560>
2023-12-04 23:34:13 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x10451dda0>
2023-12-04 23:34:13 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x10451fec0>
2023-12-04 23:34:13 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x117337890>>
2023-12-04 23:34:13 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x10451dbc0>
2023-12-04 23:34:13 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1045280e0>
2023-12-04 23:34:13 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x117337890>>
2023-12-04 23:34:13 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:34:13 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 23:34:13 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:34:13 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:34:13 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x104390040>
2023-12-04 23:34:13 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x10451e160>
2023-12-04 23:34:13 DEBUG    Adding expect 100 continue header to request.
2023-12-04 23:34:13 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x10451d080>
2023-12-04 23:34:13 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x10451f6a0>
2023-12-04 23:34:13 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x107529f90>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10750c6d0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x107529f90>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1171b0ae0>
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x117325d90>>
2023-12-04 23:34:13 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x116368e50>>
2023-12-04 23:34:13 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x10451da80>
2023-12-04 23:34:13 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x104528040>
2023-12-04 23:34:13 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:34:13 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073413Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:34:13 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073413Z
20231205/us-east-1/s3/aws4_request
12aeba1326fb9d5618d8b314ef11e8b030162fe15387b3a179ff43b588ead5e6
2023-12-04 23:34:13 DEBUG    Signature:
842507dd518f2b35da308ddad75afae9fe2be1c8a1f5cc80ff8cbb882b560295
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1171b0e00>
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10451fe20>
2023-12-04 23:34:13 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073413Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=842507dd518f2b35da308ddad75afae9fe2be1c8a1f5cc80ff8cbb882b560295', 'amz-sdk-invocation-id': b'f5e0af21-7182-431a-930a-6caae82ab3fe', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 23:34:13 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:34:13 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 23:34:13 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:34:13 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 23:34:13 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 23:34:13 DEBUG    Response headers: {'x-amz-request-id': 'TAN1C9WWXCFJW3Q3', 'x-amz-id-2': 'YzZfhxS/r/+BKRMzRQ2o6zl0IkqBJerGYeAFhRrYy4jSl/Ulx48b+CIhUrlni/0nZajc6fVbgEQ=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 07:34:13 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 23:34:13 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>TAN1C9WWXCFJW3Q3</RequestId><HostId>YzZfhxS/r/+BKRMzRQ2o6zl0IkqBJerGYeAFhRrYy4jSl/Ulx48b+CIhUrlni/0nZajc6fVbgEQ=</HostId></Error>'
2023-12-04 23:34:13 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10754c690>
2023-12-04 23:34:13 DEBUG    No retry needed.
2023-12-04 23:34:13 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x117337890>>
2023-12-04 23:34:13 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 23:34:13 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x1045280e0>
2023-12-04 23:34:13 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x117337890>>
2023-12-04 23:34:13 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:34:13 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 23:34:13 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 23:34:13 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:34:13 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:34:13 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 23:34:13 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x107529f90>
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1171b0ae0>
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x117325d90>>
2023-12-04 23:34:13 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x116368e50>>
2023-12-04 23:34:13 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x10451da80>
2023-12-04 23:34:13 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x104528040>
2023-12-04 23:34:13 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:34:13 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073413Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:34:13 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073413Z
20231205/us-east-2/s3/aws4_request
f49eaed0f28f161d342413dd13f5aa44b4e7e31274620d0a189993f2ae3db324
2023-12-04 23:34:13 DEBUG    Signature:
1de9bad38ead28f0e26b6b8fed349930bb5ba9db023a8ad738b010955df4690e
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1171b0e00>
2023-12-04 23:34:13 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10451fe20>
2023-12-04 23:34:13 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073413Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=1de9bad38ead28f0e26b6b8fed349930bb5ba9db023a8ad738b010955df4690e', 'amz-sdk-invocation-id': b'f5e0af21-7182-431a-930a-6caae82ab3fe', 'amz-sdk-request': b'ttl=20231205T073513Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 23:34:13 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:34:13 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 23:34:14 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:34:14 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 23:34:17 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 23:34:17 DEBUG    Response headers: {'x-amz-id-2': 'WVRywGeU8PbawsFMYcfCT3jMRF3JzjXVLfcBrX13N541aXtv/BAROwdNqiRGaQ9Jr1RLEgud6Yc=', 'x-amz-request-id': 'SCNFCEPS3HKFESY7', 'Date': 'Tue, 05 Dec 2023 07:34:15 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 23:34:17 DEBUG    Response body:
b''
2023-12-04 23:34:17 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10754c690>
2023-12-04 23:34:17 DEBUG    No retry needed.
2023-12-04 23:34:17 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x117337890>>
2023-12-04 23:34:17 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 23:34:17 DEBUG    Releasing acquire 0/None
2023-12-04 23:34:17 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 23:34:17 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 23:36:06 INFO     Migrations complete
2023-12-04 23:36:07 DEBUG    Calling on_part_begin with no data
2023-12-04 23:36:07 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 23:36:07 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 23:36:07 DEBUG    Calling on_header_end with no data
2023-12-04 23:36:07 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 23:36:07 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 23:36:07 DEBUG    Calling on_header_end with no data
2023-12-04 23:36:07 DEBUG    Calling on_headers_finished with no data
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[161:25133]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[25134:75562]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[75563:256161]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:22547]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[22548:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:66638]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[66639:125111]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[125112:151211]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[151212:195541]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[195542:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:140529]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[140530:250233]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[250234:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:126324]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[126325:194974]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[194975:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:160326]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[160327:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:21142]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[21143:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:194705]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[194706:256000]
2023-12-04 23:36:07 DEBUG    Calling on_part_data with data[0:32962]
2023-12-04 23:36:07 DEBUG    Calling on_part_end with no data
2023-12-04 23:36:07 DEBUG    Calling on_end with no data
2023-12-04 23:36:07 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 23:36:07 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 23:36:07 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 23:36:07 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 23:36:07 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 23:36:07 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 23:36:07 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 23:36:07 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 23:36:07 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 23:36:07 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 23:36:07 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 23:36:07 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 23:36:07 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 23:36:07 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x106c18220>
2023-12-04 23:36:07 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 23:36:07 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 23:36:07 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 23:36:07 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x106b43880>
2023-12-04 23:36:07 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x119528720>
2023-12-04 23:36:07 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x106b43600>
2023-12-04 23:36:07 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 23:36:07 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 23:36:07 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 23:36:07 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 23:36:07 DEBUG    No configured endpoint found.
2023-12-04 23:36:07 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 23:36:07 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 23:36:07 DEBUG    Registering retry handlers for service: s3
2023-12-04 23:36:07 DEBUG    Registering S3 region redirector handler
2023-12-04 23:36:07 DEBUG    Acquiring 0
2023-12-04 23:36:07 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x119f3d550>}) about to wait for the following futures []
2023-12-04 23:36:07 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x119f3d550>}) done waiting for dependent futures
2023-12-04 23:36:07 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x119f3d550>}) with kwargs {'client': <botocore.client.S3 object at 0x11958fd10>, 'config': <boto3.s3.transfer.TransferConfig object at 0x1195cc390>, 'osutil': <s3transfer.utils.OSUtils object at 0x118388350>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x1181394d0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x119f3d550>}
2023-12-04 23:36:07 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x1181394d0> for transfer request: 0.
2023-12-04 23:36:07 DEBUG    Acquiring 0
2023-12-04 23:36:07 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 23:36:07 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 23:36:07 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x11958fd10>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x1194d6350>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 23:36:07 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x106c1ac00>
2023-12-04 23:36:07 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x106c19ee0>
2023-12-04 23:36:07 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x106c1b600>
2023-12-04 23:36:07 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x106c19e40>
2023-12-04 23:36:07 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x106c1bf60>
2023-12-04 23:36:07 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x119e1f790>>
2023-12-04 23:36:07 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x106c19c60>
2023-12-04 23:36:07 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106c28180>
2023-12-04 23:36:07 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x119e1f790>>
2023-12-04 23:36:07 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:36:07 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 23:36:07 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:36:07 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:36:07 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x106a900e0>
2023-12-04 23:36:07 DEBUG    Releasing acquire 0/None
2023-12-04 23:36:07 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x106c1a200>
2023-12-04 23:36:07 DEBUG    Adding expect 100 continue header to request.
2023-12-04 23:36:07 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x106c19120>
2023-12-04 23:36:07 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x106c1b740>
2023-12-04 23:36:07 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x1194d6350>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x11812c850>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x1194d6350>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 23:36:07 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x119eb4b80>
2023-12-04 23:36:07 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x119f26890>>
2023-12-04 23:36:07 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1194e2110>>
2023-12-04 23:36:07 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106c19b20>
2023-12-04 23:36:07 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106c280e0>
2023-12-04 23:36:07 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:36:07 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073607Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:36:07 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073607Z
20231205/us-east-1/s3/aws4_request
c9539b12b6c8c7cf568f01cea1cd9b2bbbb5f97c6ab75f817d45057068a7e357
2023-12-04 23:36:07 DEBUG    Signature:
776abb8f2ed9b4dc316a89692d646eeaba63aad80e8dc9ed8e3aa80ce1148f60
2023-12-04 23:36:07 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x119eb4ea0>
2023-12-04 23:36:07 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106c1bec0>
2023-12-04 23:36:07 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073607Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=776abb8f2ed9b4dc316a89692d646eeaba63aad80e8dc9ed8e3aa80ce1148f60', 'amz-sdk-invocation-id': b'86e91018-7f7f-47cd-ae60-9e30c8735995', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 23:36:07 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:36:07 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 23:36:08 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:36:08 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 23:36:08 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 23:36:08 DEBUG    Response headers: {'x-amz-request-id': '6TJW6ECB0NVFJJGY', 'x-amz-id-2': 'NXKS6xhwSObzVsiFPupcTaFHHzlJhBwPGN9KXRRzs8MOqrsA3YOutsMANFg6cG7BsfbbUgMPYEc=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 07:36:08 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 23:36:08 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>6TJW6ECB0NVFJJGY</RequestId><HostId>NXKS6xhwSObzVsiFPupcTaFHHzlJhBwPGN9KXRRzs8MOqrsA3YOutsMANFg6cG7BsfbbUgMPYEc=</HostId></Error>'
2023-12-04 23:36:08 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11949b790>
2023-12-04 23:36:08 DEBUG    No retry needed.
2023-12-04 23:36:08 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x119e1f790>>
2023-12-04 23:36:08 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 23:36:08 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106c28180>
2023-12-04 23:36:08 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x119e1f790>>
2023-12-04 23:36:08 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:36:08 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 23:36:08 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 23:36:08 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:36:08 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:36:08 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 23:36:08 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x1194d6350>
2023-12-04 23:36:08 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x119eb4b80>
2023-12-04 23:36:08 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x119f26890>>
2023-12-04 23:36:08 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1194e2110>>
2023-12-04 23:36:08 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106c19b20>
2023-12-04 23:36:08 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106c280e0>
2023-12-04 23:36:08 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:36:08 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T073608Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:36:08 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T073608Z
20231205/us-east-2/s3/aws4_request
364853e6cc4d3a336afb03a72566fb12399eff95d49c685032e4e02ca32f9f0e
2023-12-04 23:36:08 DEBUG    Signature:
470e2e2f9e005cfc90ea3c1803ff86af74e0622307f22a6d862eeac2f5f17671
2023-12-04 23:36:08 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x119eb4ea0>
2023-12-04 23:36:08 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106c1bec0>
2023-12-04 23:36:08 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T073608Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=470e2e2f9e005cfc90ea3c1803ff86af74e0622307f22a6d862eeac2f5f17671', 'amz-sdk-invocation-id': b'86e91018-7f7f-47cd-ae60-9e30c8735995', 'amz-sdk-request': b'ttl=20231205T073708Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 23:36:08 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:36:08 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 23:36:08 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:36:08 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 23:36:12 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 23:36:12 DEBUG    Response headers: {'x-amz-id-2': 'rUh3aUOCnzNtOJ+41kcAgMXr1wyhKGUue+Nv67UXXECH15QJ00qM2jaEGxC8yFbLHu0pSpPfUdM=', 'x-amz-request-id': '6TJPQYYDNYF0NHTA', 'Date': 'Tue, 05 Dec 2023 07:36:09 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 23:36:12 DEBUG    Response body:
b''
2023-12-04 23:36:12 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x11949b790>
2023-12-04 23:36:12 DEBUG    No retry needed.
2023-12-04 23:36:12 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x119e1f790>>
2023-12-04 23:36:12 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 23:36:12 DEBUG    Releasing acquire 0/None
2023-12-04 23:36:12 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 23:36:12 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 23:36:20 INFO     Migrations complete
2023-12-04 23:46:52 INFO     Migrations complete
2023-12-04 23:46:54 DEBUG    Calling on_part_begin with no data
2023-12-04 23:46:54 DEBUG    Calling on_header_field with data[54:73]
2023-12-04 23:46:54 DEBUG    Calling on_header_value with data[75:131]
2023-12-04 23:46:54 DEBUG    Calling on_header_end with no data
2023-12-04 23:46:54 DEBUG    Calling on_header_field with data[133:145]
2023-12-04 23:46:54 DEBUG    Calling on_header_value with data[147:157]
2023-12-04 23:46:54 DEBUG    Calling on_header_end with no data
2023-12-04 23:46:54 DEBUG    Calling on_headers_finished with no data
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[161:25133]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[25134:256161]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:66638]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[66639:74094]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[74095:125111]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[125112:151211]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[151212:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:140529]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[140530:250233]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[250234:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:126324]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[126325:194974]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[194975:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:21142]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:1]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[21143:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:256000]
2023-12-04 23:46:54 DEBUG    Calling on_part_data with data[0:32962]
2023-12-04 23:46:54 DEBUG    Calling on_part_end with no data
2023-12-04 23:46:54 DEBUG    Calling on_end with no data
2023-12-04 23:46:54 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-04 23:46:54 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-04 23:46:54 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-04 23:46:54 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-04 23:46:54 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-04 23:46:54 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-04 23:46:54 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-04 23:46:54 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-04 23:46:54 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-04 23:46:54 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-04 23:46:54 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-04 23:46:54 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-04 23:46:54 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-04 23:46:54 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x106d18220>
2023-12-04 23:46:54 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-04 23:46:54 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-04 23:46:54 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-04 23:46:54 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x106c43880>
2023-12-04 23:46:54 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x113374b80>
2023-12-04 23:46:54 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x106c43600>
2023-12-04 23:46:54 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-04 23:46:54 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-04 23:46:54 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-04 23:46:54 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-04 23:46:54 DEBUG    No configured endpoint found.
2023-12-04 23:46:54 DEBUG    Setting s3 timeout as (60, 60)
2023-12-04 23:46:54 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-04 23:46:54 DEBUG    Registering retry handlers for service: s3
2023-12-04 23:46:54 DEBUG    Registering S3 region redirector handler
2023-12-04 23:46:54 DEBUG    Acquiring 0
2023-12-04 23:46:54 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1221289d0>}) about to wait for the following futures []
2023-12-04 23:46:54 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1221289d0>}) done waiting for dependent futures
2023-12-04 23:46:54 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x1221289d0>}) with kwargs {'client': <botocore.client.S3 object at 0x12210f950>, 'config': <boto3.s3.transfer.TransferConfig object at 0x113455ed0>, 'osutil': <s3transfer.utils.OSUtils object at 0x113366310>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x12210db50>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x1221289d0>}
2023-12-04 23:46:54 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x12210db50> for transfer request: 0.
2023-12-04 23:46:54 DEBUG    Acquiring 0
2023-12-04 23:46:54 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-04 23:46:54 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-04 23:46:54 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x12210f950>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x113350ed0>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-04 23:46:54 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x106d1ac00>
2023-12-04 23:46:54 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x106d19ee0>
2023-12-04 23:46:54 DEBUG    Releasing acquire 0/None
2023-12-04 23:46:54 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x106d1b600>
2023-12-04 23:46:54 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x106d19e40>
2023-12-04 23:46:54 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x106d1bf60>
2023-12-04 23:46:54 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x1222270d0>>
2023-12-04 23:46:54 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x106d19c60>
2023-12-04 23:46:54 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106d28180>
2023-12-04 23:46:54 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x1222270d0>>
2023-12-04 23:46:54 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:46:54 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-04 23:46:54 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:46:54 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:46:54 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x106b900e0>
2023-12-04 23:46:54 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x106d1a200>
2023-12-04 23:46:54 DEBUG    Adding expect 100 continue header to request.
2023-12-04 23:46:54 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x106d19120>
2023-12-04 23:46:54 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x106d1b740>
2023-12-04 23:46:54 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x113350ed0>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x122128a50>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x113350ed0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1221b0b80>
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x122225950>>
2023-12-04 23:46:54 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x117e23bd0>>
2023-12-04 23:46:54 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106d19b20>
2023-12-04 23:46:54 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106d280e0>
2023-12-04 23:46:54 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:46:54 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T074654Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:46:54 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T074654Z
20231205/us-east-1/s3/aws4_request
140a084bde3a59c69580f6b58ae089b2ed83d8cc132c905a013e9ad829b2d0b2
2023-12-04 23:46:54 DEBUG    Signature:
a1a82fa0b5391f648dd055297a7a2726af70eb28b869d3671a9bd50ff26f2635
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1221b0ea0>
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106d1bec0>
2023-12-04 23:46:54 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T074654Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=a1a82fa0b5391f648dd055297a7a2726af70eb28b869d3671a9bd50ff26f2635', 'amz-sdk-invocation-id': b'303b5cbf-518c-436a-9632-3375766ae221', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-04 23:46:54 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:46:54 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-04 23:46:54 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:46:54 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-04 23:46:54 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-04 23:46:54 DEBUG    Response headers: {'x-amz-request-id': '2NYT9VHSY2FEZR4Q', 'x-amz-id-2': 'KpCLke9D7flOC8McImmCTOkfcYG1YYkh06lh/f2pNVSQ+gErbLFpTfEl/bZNUbL40JpeFc7OZ4k=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 07:46:54 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-04 23:46:54 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>2NYT9VHSY2FEZR4Q</RequestId><HostId>KpCLke9D7flOC8McImmCTOkfcYG1YYkh06lh/f2pNVSQ+gErbLFpTfEl/bZNUbL40JpeFc7OZ4k=</HostId></Error>'
2023-12-04 23:46:54 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x122237f10>
2023-12-04 23:46:54 DEBUG    No retry needed.
2023-12-04 23:46:54 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x1222270d0>>
2023-12-04 23:46:54 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-04 23:46:54 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106d28180>
2023-12-04 23:46:54 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x1222270d0>>
2023-12-04 23:46:54 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-04 23:46:54 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-04 23:46:54 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-04 23:46:54 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-04 23:46:54 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-04 23:46:54 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-04 23:46:54 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x113350ed0>
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1221b0b80>
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x122225950>>
2023-12-04 23:46:54 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x117e23bd0>>
2023-12-04 23:46:54 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106d19b20>
2023-12-04 23:46:54 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106d280e0>
2023-12-04 23:46:54 DEBUG    Calculating signature using v4 auth.
2023-12-04 23:46:54 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T074654Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-04 23:46:54 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T074654Z
20231205/us-east-2/s3/aws4_request
c0e3abf3925ef2e79c0bbc2ee281632318ea1080dbb248520d05b2d7b47e55e0
2023-12-04 23:46:54 DEBUG    Signature:
6a38429a9d6a20771b87730b78ef1d4af9b43c8ef68e0fe2030ef2ca61eaf341
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1221b0ea0>
2023-12-04 23:46:54 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x106d1bec0>
2023-12-04 23:46:54 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T074654Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=6a38429a9d6a20771b87730b78ef1d4af9b43c8ef68e0fe2030ef2ca61eaf341', 'amz-sdk-invocation-id': b'303b5cbf-518c-436a-9632-3375766ae221', 'amz-sdk-request': b'ttl=20231205T074754Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-04 23:46:54 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-04 23:46:54 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-04 23:46:55 DEBUG    Waiting for 100 Continue response.
2023-12-04 23:46:55 DEBUG    100 Continue response seen, now sending request body.
2023-12-04 23:46:55 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-04 23:46:55 DEBUG    Response headers: {'x-amz-id-2': 'hw1Hsg+EQcUYQCRdRmyitv43ORVN8pjUlwcHS9fbNWcd7UWy0CjMj9JdQN2jT9GcfEuvYiiklnkQFBWd4GC9tw==', 'x-amz-request-id': '2D024VB0RG8ZZP22', 'Date': 'Tue, 05 Dec 2023 07:46:56 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-04 23:46:55 DEBUG    Response body:
b''
2023-12-04 23:46:55 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x122237f10>
2023-12-04 23:46:55 DEBUG    No retry needed.
2023-12-04 23:46:55 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x1222270d0>>
2023-12-04 23:46:55 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-04 23:46:55 DEBUG    Releasing acquire 0/None
2023-12-04 23:46:55 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-04 23:46:55 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-04 23:56:20 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 00:32:49 INFO     Migrations complete
2023-12-05 00:32:59 INFO     Migrations complete
2023-12-05 00:33:09 DEBUG    Calling on_part_begin with no data
2023-12-05 00:33:09 DEBUG    Calling on_header_field with data[54:73]
2023-12-05 00:33:09 DEBUG    Calling on_header_value with data[75:131]
2023-12-05 00:33:09 DEBUG    Calling on_header_end with no data
2023-12-05 00:33:09 DEBUG    Calling on_header_field with data[133:145]
2023-12-05 00:33:09 DEBUG    Calling on_header_value with data[147:157]
2023-12-05 00:33:09 DEBUG    Calling on_header_end with no data
2023-12-05 00:33:09 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[161:44069]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[44070:65697]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:71192]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[71193:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:93532]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[93533:121690]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[121691:151419]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[151420:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:85725]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[85726:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:44108]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[44109:118524]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[118525:199806]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[199807:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:255991]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[255992:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:16265]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[16266:223426]
2023-12-05 00:33:09 DEBUG    Calling on_part_end with no data
2023-12-05 00:33:09 DEBUG    Calling on_part_begin with no data
2023-12-05 00:33:09 DEBUG    Calling on_header_field with data[223482:223501]
2023-12-05 00:33:09 DEBUG    Calling on_header_value with data[223503:223533]
2023-12-05 00:33:09 DEBUG    Calling on_header_end with no data
2023-12-05 00:33:09 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:33:09 DEBUG    Calling on_part_data with data[223537:223545]
2023-12-05 00:33:09 DEBUG    Calling on_part_end with no data
2023-12-05 00:33:09 DEBUG    Calling on_end with no data
2023-12-05 00:33:34 DEBUG    Calling on_part_begin with no data
2023-12-05 00:33:34 DEBUG    Calling on_header_field with data[54:73]
2023-12-05 00:33:34 DEBUG    Calling on_header_value with data[75:105]
2023-12-05 00:33:34 DEBUG    Calling on_header_end with no data
2023-12-05 00:33:34 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[109:117]
2023-12-05 00:33:34 DEBUG    Calling on_part_end with no data
2023-12-05 00:33:34 DEBUG    Calling on_part_begin with no data
2023-12-05 00:33:34 DEBUG    Calling on_header_field with data[173:192]
2023-12-05 00:33:34 DEBUG    Calling on_header_value with data[194:250]
2023-12-05 00:33:34 DEBUG    Calling on_header_end with no data
2023-12-05 00:33:34 DEBUG    Calling on_header_field with data[252:264]
2023-12-05 00:33:34 DEBUG    Calling on_header_value with data[266:276]
2023-12-05 00:33:34 DEBUG    Calling on_header_end with no data
2023-12-05 00:33:34 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[280:80564]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[80565:196888]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:196608]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:93995]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[93996:161943]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[161944:256000]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:13995]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[13996:58325]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[58326:131301]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[131302:255969]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[255970:256000]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:101134]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[101135:231526]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[231527:256000]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:42498]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[42499:256000]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:96556]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[96557:255988]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[255989:256000]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:52555]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[52556:256000]
2023-12-05 00:33:34 DEBUG    Calling on_part_data with data[0:151746]
2023-12-05 00:33:34 DEBUG    Calling on_part_end with no data
2023-12-05 00:33:34 DEBUG    Calling on_end with no data
2023-12-05 00:35:47 DEBUG    Calling on_part_begin with no data
2023-12-05 00:35:47 DEBUG    Calling on_header_field with data[54:73]
2023-12-05 00:35:47 DEBUG    Calling on_header_value with data[75:105]
2023-12-05 00:35:47 DEBUG    Calling on_header_end with no data
2023-12-05 00:35:47 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[109:119]
2023-12-05 00:35:47 DEBUG    Calling on_part_end with no data
2023-12-05 00:35:47 DEBUG    Calling on_part_begin with no data
2023-12-05 00:35:47 DEBUG    Calling on_header_field with data[175:194]
2023-12-05 00:35:47 DEBUG    Calling on_header_value with data[196:252]
2023-12-05 00:35:47 DEBUG    Calling on_header_end with no data
2023-12-05 00:35:47 DEBUG    Calling on_header_field with data[254:266]
2023-12-05 00:35:47 DEBUG    Calling on_header_value with data[268:278]
2023-12-05 00:35:47 DEBUG    Calling on_header_end with no data
2023-12-05 00:35:47 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[282:65818]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:54553]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[54554:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:165675]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[165676:233623]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[233624:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:85675]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[85676:130005]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[130006:202981]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[202982:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:74993]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[74994:158994]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[158995:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:114178]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[114179:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:94790]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[94791:211606]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[211607:255991]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[255992:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:97252]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[97253:124235]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[124236:256000]
2023-12-05 00:35:47 DEBUG    Calling on_part_data with data[0:223426]
2023-12-05 00:35:47 DEBUG    Calling on_part_end with no data
2023-12-05 00:35:47 DEBUG    Calling on_end with no data
2023-12-05 00:38:23 DEBUG    Calling on_part_begin with no data
2023-12-05 00:38:23 DEBUG    Calling on_header_field with data[54:73]
2023-12-05 00:38:23 DEBUG    Calling on_header_value with data[75:105]
2023-12-05 00:38:23 DEBUG    Calling on_header_end with no data
2023-12-05 00:38:23 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[109:119]
2023-12-05 00:38:23 DEBUG    Calling on_part_end with no data
2023-12-05 00:38:23 DEBUG    Calling on_part_begin with no data
2023-12-05 00:38:23 DEBUG    Calling on_header_field with data[175:194]
2023-12-05 00:38:23 DEBUG    Calling on_header_value with data[196:252]
2023-12-05 00:38:23 DEBUG    Calling on_header_end with no data
2023-12-05 00:38:23 DEBUG    Calling on_header_field with data[254:266]
2023-12-05 00:38:23 DEBUG    Calling on_header_value with data[268:278]
2023-12-05 00:38:23 DEBUG    Calling on_header_end with no data
2023-12-05 00:38:23 DEBUG    Calling on_headers_finished with no data
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[282:205918]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[205919:255458]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:187422]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[187423:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:177007]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[177008:232035]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[232036:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:196365]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[196366:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:180538]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[180539:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:167042]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[167043:184552]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[184553:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 00:38:23 DEBUG    Calling on_part_data with data[0:33786]
2023-12-05 00:38:23 DEBUG    Calling on_part_end with no data
2023-12-05 00:38:23 DEBUG    Calling on_end with no data
2023-12-05 00:42:08 INFO     Migrations complete
2023-12-05 12:26:02 DEBUG    Calling on_part_begin with no data
2023-12-05 12:26:02 DEBUG    Calling on_header_field with data[54:73]
2023-12-05 12:26:02 DEBUG    Calling on_header_value with data[75:131]
2023-12-05 12:26:02 DEBUG    Calling on_header_end with no data
2023-12-05 12:26:02 DEBUG    Calling on_header_field with data[133:145]
2023-12-05 12:26:02 DEBUG    Calling on_header_value with data[147:157]
2023-12-05 12:26:02 DEBUG    Calling on_header_end with no data
2023-12-05 12:26:02 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[161:192587]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[192588:255406]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[255407:255458]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:23250]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[23251:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:96761]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[96762:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:116266]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[116267:144321]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[144322:154976]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[154977:225233]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[225234:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:14917]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[14918:86142]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[86143:113445]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[113446:180417]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[180418:229765]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[229766:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:161029]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[161030:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:256000]
2023-12-05 12:26:02 DEBUG    Calling on_part_data with data[0:33665]
2023-12-05 12:26:02 DEBUG    Calling on_part_end with no data
2023-12-05 12:26:02 DEBUG    Calling on_end with no data
2023-12-05 12:26:02 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-05 12:26:02 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-05 12:26:02 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-05 12:26:02 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-05 12:26:02 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-05 12:26:02 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-05 12:26:02 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-05 12:26:02 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-05 12:26:02 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-05 12:26:02 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-05 12:26:02 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-05 12:26:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-05 12:26:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-05 12:26:02 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:26:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-05 12:26:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-05 12:26:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-05 12:26:02 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:26:02 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:26:02 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:26:02 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:26:02 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:26:02 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:26:02 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:26:02 DEBUG    No configured endpoint found.
2023-12-05 12:26:02 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:26:02 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-05 12:26:02 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:26:02 DEBUG    Registering S3 region redirector handler
2023-12-05 12:26:02 DEBUG    Acquiring 0
2023-12-05 12:26:02 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f2d8850>}) about to wait for the following futures []
2023-12-05 12:26:02 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f2d8850>}) done waiting for dependent futures
2023-12-05 12:26:02 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f2d8850>}) with kwargs {'client': <botocore.client.S3 object at 0x10ae17ed0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10bb0da50>, 'osutil': <s3transfer.utils.OSUtils object at 0x1097f2890>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10b456610>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f2d8850>}
2023-12-05 12:26:02 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10b456610> for transfer request: 0.
2023-12-05 12:26:02 DEBUG    Acquiring 0
2023-12-05 12:26:02 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:26:02 DEBUG    Releasing acquire 0/None
2023-12-05 12:26:02 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:26:02 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10ae17ed0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x109251810>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/sample_img.jpg', 'extra_args': {}}
2023-12-05 12:26:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:26:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:26:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:26:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:26:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:26:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x109251d50>>
2023-12-05 12:26:02 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:26:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:26:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x109251d50>>
2023-12-05 12:26:02 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:26:02 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:26:02 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:26:02 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:26:02 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:26:02 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:26:02 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:26:02 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:26:02 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:26:02 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/sample_img.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x109251810>, 'auth_path': '/splitz-receipts/Y79JAL/sample_img.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10add4850>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/sample_img.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x109251810>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f2b99d0>>
2023-12-05 12:26:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10b457b50>>
2023-12-05 12:26:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:26:02 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:26:02 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:26:02 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T202602Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:26:02 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T202602Z
20231205/us-east-1/s3/aws4_request
f3943970363f8be1fd1bc178e42a9557eea791995275074f54d43e79c4256066
2023-12-05 12:26:02 DEBUG    Signature:
9675904b094b9a5d56b62d05604984977291bd9c3cdd32118a06f92a0591f99c
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:26:02 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T202602Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=9675904b094b9a5d56b62d05604984977291bd9c3cdd32118a06f92a0591f99c', 'amz-sdk-invocation-id': b'7827675e-1ead-4717-b46f-fcf649c3cb56', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2336962'}>
2023-12-05 12:26:02 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:26:02 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:26:02 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:26:02 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:26:02 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 400 None
2023-12-05 12:26:02 DEBUG    Response headers: {'x-amz-request-id': '8BAQ2H18J0FD7E03', 'x-amz-id-2': 'X8H2kyJDSkKPbJrFW6bOQvcsp+bf8r8SxTnVwDVjeoG25BbWTdd/R+x4m9WbIAZ7/YvEjPPqs5w=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:26:01 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:26:02 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>8BAQ2H18J0FD7E03</RequestId><HostId>X8H2kyJDSkKPbJrFW6bOQvcsp+bf8r8SxTnVwDVjeoG25BbWTdd/R+x4m9WbIAZ7/YvEjPPqs5w=</HostId></Error>'
2023-12-05 12:26:02 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f2cbe50>
2023-12-05 12:26:02 DEBUG    No retry needed.
2023-12-05 12:26:02 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x109251d50>>
2023-12-05 12:26:02 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:26:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:26:02 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x109251d50>>
2023-12-05 12:26:02 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:26:02 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:26:02 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/sample_img.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg
2023-12-05 12:26:02 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:26:02 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:26:02 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:26:02 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x109251810>
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f2b99d0>>
2023-12-05 12:26:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10b457b50>>
2023-12-05 12:26:02 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:26:02 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:26:02 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:26:02 DEBUG    CanonicalRequest:
PUT
/Y79JAL/sample_img.jpg

content-md5:IwPOI/ZsAwV8usDL/syqEg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T202602Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:26:02 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T202602Z
20231205/us-east-2/s3/aws4_request
be987a8914deb9e420104cccb612beabc42fefb19dbf8f2be14910419e49f198
2023-12-05 12:26:02 DEBUG    Signature:
ed4ad9c2a26e4ed75a1b02af8dd39c1aadf71b13a471632fa078cb7d61282063
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:26:02 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:26:02 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/sample_img.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'IwPOI/ZsAwV8usDL/syqEg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T202602Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=ed4ad9c2a26e4ed75a1b02af8dd39c1aadf71b13a471632fa078cb7d61282063', 'amz-sdk-invocation-id': b'7827675e-1ead-4717-b46f-fcf649c3cb56', 'amz-sdk-request': b'ttl=20231205T202701Z; attempt=2; max=5', 'Content-Length': '2336962'}>
2023-12-05 12:26:02 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:26:02 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:26:02 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:26:02 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:26:06 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/sample_img.jpg HTTP/1.1" 200 0
2023-12-05 12:26:06 DEBUG    Response headers: {'x-amz-id-2': 'cBbPJHldW4L4Ao/oqsUAzuAgwW1CRB542xMRec/Wk5tg67pBq4paaWxeu3LheMHF4HSJgbEN7mc=', 'x-amz-request-id': '8BAQYQX3HDJW8RXA', 'Date': 'Tue, 05 Dec 2023 20:26:03 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"2303ce23f66c03057cbac0cbfeccaa12"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:26:06 DEBUG    Response body:
b''
2023-12-05 12:26:06 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f2cbe50>
2023-12-05 12:26:06 DEBUG    No retry needed.
2023-12-05 12:26:06 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x109251d50>>
2023-12-05 12:26:06 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:26:06 DEBUG    Releasing acquire 0/None
2023-12-05 12:26:06 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:26:06 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:33:56 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 12:39:54 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 12:41:55 DEBUG    Calling on_part_begin with no data
2023-12-05 12:41:55 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:41:55 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:41:55 DEBUG    Calling on_header_end with no data
2023-12-05 12:41:55 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:41:55 DEBUG    Calling on_header_value with data[164:173]
2023-12-05 12:41:55 DEBUG    Calling on_header_end with no data
2023-12-05 12:41:55 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[177:16384]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:9804]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[9805:22494]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[22495:32768]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:32761]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[32762:32768]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:32746]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[32747:32768]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:49151]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:10541]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[10542:32768]
2023-12-05 12:41:55 DEBUG    Calling on_part_data with data[0:6139]
2023-12-05 12:41:55 DEBUG    Calling on_part_end with no data
2023-12-05 12:41:55 DEBUG    Calling on_end with no data
2023-12-05 12:41:55 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:41:55 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:41:55 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:41:55 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:41:55 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:41:55 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:41:55 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:41:55 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:41:55 DEBUG    No configured endpoint found.
2023-12-05 12:41:55 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:41:55 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:41:55 DEBUG    Registering S3 region redirector handler
2023-12-05 12:41:55 DEBUG    Acquiring 0
2023-12-05 12:41:55 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f548ed0>}) about to wait for the following futures []
2023-12-05 12:41:55 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f548ed0>}) done waiting for dependent futures
2023-12-05 12:41:55 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f548ed0>}) with kwargs {'client': <botocore.client.S3 object at 0x10f311c10>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10f37bf10>, 'osutil': <s3transfer.utils.OSUtils object at 0x10a768dd0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f548590>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f548ed0>}
2023-12-05 12:41:55 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f548590> for transfer request: 0.
2023-12-05 12:41:55 DEBUG    Acquiring 0
2023-12-05 12:41:55 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:41:55 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:41:55 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10f311c10>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f549150>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:41:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:41:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:41:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:41:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:41:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:41:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54f910>>
2023-12-05 12:41:55 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:41:55 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:41:55 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54f910>>
2023-12-05 12:41:55 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:41:55 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:41:55 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:41:55 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:41:55 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:41:55 DEBUG    Releasing acquire 0/None
2023-12-05 12:41:55 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:41:55 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:41:55 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:41:55 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:41:55 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': '4oxgXPCSW1VFv2iXZurHeg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f549150>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10f3923d0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f549150>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:41:55 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:41:55 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x109589b90>>
2023-12-05 12:41:55 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1078807d0>>
2023-12-05 12:41:55 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:41:55 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:41:55 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:41:55 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:4oxgXPCSW1VFv2iXZurHeg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204155Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:41:55 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204155Z
20231205/us-east-1/s3/aws4_request
3bfe05832aa5748a915785dd1979c23fc6bc0830bbe8749afbf7f881a89af203
2023-12-05 12:41:55 DEBUG    Signature:
5a38104ea3eff957930ee83ab4b3a4220a6a9c23dc85f047734b6482ca7ca662
2023-12-05 12:41:55 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:41:55 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:41:55 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'4oxgXPCSW1VFv2iXZurHeg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204155Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=5a38104ea3eff957930ee83ab4b3a4220a6a9c23dc85f047734b6482ca7ca662', 'amz-sdk-invocation-id': b'a57cb615-8059-4053-be44-cbb5352326a4', 'amz-sdk-request': b'attempt=1', 'Content-Length': '251721'}>
2023-12-05 12:41:55 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:41:55 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:41:56 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:41:56 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:41:56 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:41:56 DEBUG    Response headers: {'x-amz-request-id': 'SJ4PMJJ59MJZ3V99', 'x-amz-id-2': 'Q9HqW97RbbKfJqLy3QmoFgM+14VR/2ZHebURZ7o70LwNJsn/oJ/0hIhYe9AKPaLxv59r5b8zagM=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:41:55 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:41:56 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>SJ4PMJJ59MJZ3V99</RequestId><HostId>Q9HqW97RbbKfJqLy3QmoFgM+14VR/2ZHebURZ7o70LwNJsn/oJ/0hIhYe9AKPaLxv59r5b8zagM=</HostId></Error>'
2023-12-05 12:41:56 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10bb35bd0>
2023-12-05 12:41:56 DEBUG    No retry needed.
2023-12-05 12:41:56 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54f910>>
2023-12-05 12:41:56 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:41:56 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:41:56 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54f910>>
2023-12-05 12:41:56 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:41:56 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:41:56 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:41:56 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:41:56 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:41:56 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:41:56 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f549150>
2023-12-05 12:41:56 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:41:56 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x109589b90>>
2023-12-05 12:41:56 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1078807d0>>
2023-12-05 12:41:56 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:41:56 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:41:56 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:41:56 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:4oxgXPCSW1VFv2iXZurHeg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204156Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:41:56 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204156Z
20231205/us-east-2/s3/aws4_request
be0ed1e6e8a7e6db89b16a88fdf0c0fef652ce820fbce4118c93b6ba19e825b9
2023-12-05 12:41:56 DEBUG    Signature:
fac6944f04e7099748976f570e08ede730cc7b055d4b81616a1ec167cba75d34
2023-12-05 12:41:56 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:41:56 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:41:56 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'4oxgXPCSW1VFv2iXZurHeg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204156Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=fac6944f04e7099748976f570e08ede730cc7b055d4b81616a1ec167cba75d34', 'amz-sdk-invocation-id': b'a57cb615-8059-4053-be44-cbb5352326a4', 'amz-sdk-request': b'ttl=20231205T204255Z; attempt=2; max=5', 'Content-Length': '251721'}>
2023-12-05 12:41:56 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:41:56 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:41:56 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:41:56 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:41:56 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:41:56 DEBUG    Response headers: {'x-amz-id-2': 'r/yJZNXOLsfMm889ON5orZJN0Qkw4/zKMa+Qdiu4p9OEd694OB27AbiIBAbmF4JbILK23yICGtciLpwQxOVsBw==', 'x-amz-request-id': 'SJ4Z9S2DNY8TQN90', 'Date': 'Tue, 05 Dec 2023 20:41:57 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"e28c605cf0925b5545bf689766eac77a"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:41:56 DEBUG    Response body:
b''
2023-12-05 12:41:56 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10bb35bd0>
2023-12-05 12:41:56 DEBUG    No retry needed.
2023-12-05 12:41:56 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54f910>>
2023-12-05 12:41:56 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:41:56 DEBUG    Releasing acquire 0/None
2023-12-05 12:41:56 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:41:56 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:43:03 DEBUG    Calling on_part_begin with no data
2023-12-05 12:43:03 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:43:03 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:43:03 DEBUG    Calling on_header_end with no data
2023-12-05 12:43:03 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:43:03 DEBUG    Calling on_header_value with data[164:173]
2023-12-05 12:43:03 DEBUG    Calling on_header_end with no data
2023-12-05 12:43:03 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[177:32768]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[0:5927]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[5928:68473]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[68474:114687]
2023-12-05 12:43:03 DEBUG    Calling on_part_data with data[0:38907]
2023-12-05 12:43:03 DEBUG    Calling on_part_end with no data
2023-12-05 12:43:03 DEBUG    Calling on_end with no data
2023-12-05 12:43:03 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:43:03 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:43:03 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:43:03 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:43:03 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:43:03 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:43:03 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:43:03 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:43:03 DEBUG    No configured endpoint found.
2023-12-05 12:43:03 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:43:03 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:43:03 DEBUG    Registering S3 region redirector handler
2023-12-05 12:43:03 DEBUG    Acquiring 0
2023-12-05 12:43:03 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f37bb50>}) about to wait for the following futures []
2023-12-05 12:43:03 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f37bb50>}) done waiting for dependent futures
2023-12-05 12:43:03 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f37bb50>}) with kwargs {'client': <botocore.client.S3 object at 0x10f50d2d0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10b41ab50>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f54ec10>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f388690>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f37bb50>}
2023-12-05 12:43:03 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f388690> for transfer request: 0.
2023-12-05 12:43:03 DEBUG    Acquiring 0
2023-12-05 12:43:03 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:43:03 DEBUG    Releasing acquire 0/None
2023-12-05 12:43:03 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:43:03 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10f50d2d0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f37aad0>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:43:03 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:43:03 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:43:03 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:43:03 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:43:03 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:43:03 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54e090>>
2023-12-05 12:43:03 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:43:03 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:43:03 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54e090>>
2023-12-05 12:43:03 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:43:03 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:43:03 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:43:03 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:43:03 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:43:03 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:43:03 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:43:03 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:43:03 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:43:03 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': '4oxgXPCSW1VFv2iXZurHeg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f37aad0>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10f391bd0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f37aad0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f5497d0>>
2023-12-05 12:43:03 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f54ec90>>
2023-12-05 12:43:03 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:43:03 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:43:03 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:43:03 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:4oxgXPCSW1VFv2iXZurHeg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204303Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:43:03 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204303Z
20231205/us-east-1/s3/aws4_request
d446df40032bbae30b1e41cd7b719a04d212118df3bb31881b3f4a69a7947c9f
2023-12-05 12:43:03 DEBUG    Signature:
dd8e216e056dbbe28b7d9e6e7c3c6352b5fd53f18d862e75135770546a796e69
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:43:03 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'4oxgXPCSW1VFv2iXZurHeg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204303Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=dd8e216e056dbbe28b7d9e6e7c3c6352b5fd53f18d862e75135770546a796e69', 'amz-sdk-invocation-id': b'3df14d2a-a00e-4788-b2c8-a1dee0396474', 'amz-sdk-request': b'attempt=1', 'Content-Length': '251721'}>
2023-12-05 12:43:03 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:43:03 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:43:03 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:43:03 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:43:03 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:43:03 DEBUG    Response headers: {'x-amz-request-id': 'ERPDK1CGD66JVZKD', 'x-amz-id-2': 'BOpnwwoxS+RQ0EElDt6kKLhsMJo+rRHC6ZQQP8tu/fw4PIK+nlB5ZKNyBpX+vGAjbnpTjJWcod8=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:43:02 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:43:03 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>ERPDK1CGD66JVZKD</RequestId><HostId>BOpnwwoxS+RQ0EElDt6kKLhsMJo+rRHC6ZQQP8tu/fw4PIK+nlB5ZKNyBpX+vGAjbnpTjJWcod8=</HostId></Error>'
2023-12-05 12:43:03 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f54dbd0>
2023-12-05 12:43:03 DEBUG    No retry needed.
2023-12-05 12:43:03 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54e090>>
2023-12-05 12:43:03 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:43:03 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:43:03 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54e090>>
2023-12-05 12:43:03 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:43:03 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:43:03 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:43:03 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:43:03 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:43:03 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:43:03 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f37aad0>
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f5497d0>>
2023-12-05 12:43:03 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f54ec90>>
2023-12-05 12:43:03 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:43:03 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:43:03 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:43:03 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:4oxgXPCSW1VFv2iXZurHeg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204303Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:43:03 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204303Z
20231205/us-east-2/s3/aws4_request
f9198573b56aa94b86a533cdaa34544ef0d1d26ac1bf971f3967f52011e694fe
2023-12-05 12:43:03 DEBUG    Signature:
5dbe3b99a87d33991c28e16ac067f3e7c391a9ee74d527750e65f114147fa29c
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:43:03 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:43:03 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'4oxgXPCSW1VFv2iXZurHeg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204303Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=5dbe3b99a87d33991c28e16ac067f3e7c391a9ee74d527750e65f114147fa29c', 'amz-sdk-invocation-id': b'3df14d2a-a00e-4788-b2c8-a1dee0396474', 'amz-sdk-request': b'ttl=20231205T204402Z; attempt=2; max=5', 'Content-Length': '251721'}>
2023-12-05 12:43:03 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:43:03 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:43:03 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:43:03 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:43:05 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:43:05 DEBUG    Response headers: {'x-amz-id-2': '6UObW+szqgevVWfdM6CZhrytMnYJw+Blhs+1ca2GC09BMDlnP6/m9hSydrAC1RENbFEqmYb8R4w=', 'x-amz-request-id': 'ERP2J0VNP8B9867A', 'Date': 'Tue, 05 Dec 2023 20:43:04 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"e28c605cf0925b5545bf689766eac77a"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:43:05 DEBUG    Response body:
b''
2023-12-05 12:43:05 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f54dbd0>
2023-12-05 12:43:05 DEBUG    No retry needed.
2023-12-05 12:43:05 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f54e090>>
2023-12-05 12:43:05 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:43:05 DEBUG    Releasing acquire 0/None
2023-12-05 12:43:05 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:43:05 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:43:32 DEBUG    Calling on_part_begin with no data
2023-12-05 12:43:32 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:43:32 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:43:32 DEBUG    Calling on_header_end with no data
2023-12-05 12:43:32 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:43:32 DEBUG    Calling on_header_value with data[164:173]
2023-12-05 12:43:32 DEBUG    Calling on_header_end with no data
2023-12-05 12:43:32 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[177:10051]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[10052:32768]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:31749]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[31750:32768]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:16383]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:16327]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[16328:16384]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:5855]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[5856:32768]
2023-12-05 12:43:32 DEBUG    Calling on_part_data with data[0:6139]
2023-12-05 12:43:32 DEBUG    Calling on_part_end with no data
2023-12-05 12:43:32 DEBUG    Calling on_end with no data
2023-12-05 12:43:32 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:43:32 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:43:32 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:43:32 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:43:32 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:43:32 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:43:32 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:43:32 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:43:32 DEBUG    No configured endpoint found.
2023-12-05 12:43:32 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:43:32 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:43:32 DEBUG    Registering S3 region redirector handler
2023-12-05 12:43:32 DEBUG    Acquiring 0
2023-12-05 12:43:32 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f57add0>}) about to wait for the following futures []
2023-12-05 12:43:32 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f57add0>}) done waiting for dependent futures
2023-12-05 12:43:32 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f57add0>}) with kwargs {'client': <botocore.client.S3 object at 0x10f5169d0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x109589b90>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f51d790>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f57a310>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f57add0>}
2023-12-05 12:43:32 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f57a310> for transfer request: 0.
2023-12-05 12:43:32 DEBUG    Acquiring 0
2023-12-05 12:43:32 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:43:32 DEBUG    Releasing acquire 0/None
2023-12-05 12:43:32 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:43:32 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10f5169d0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f57b0d0>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:43:32 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:43:32 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:43:32 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:43:32 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:43:32 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:43:32 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10f50a210>>
2023-12-05 12:43:32 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:43:32 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:43:32 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f50a210>>
2023-12-05 12:43:32 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:43:32 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:43:32 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:43:32 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:43:32 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:43:32 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:43:32 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:43:32 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:43:32 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:43:32 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': '4oxgXPCSW1VFv2iXZurHeg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f57b0d0>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10f528090>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f57b0d0>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:43:32 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:43:32 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f52a910>>
2023-12-05 12:43:32 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f51ca90>>
2023-12-05 12:43:32 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:43:32 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:43:32 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:43:32 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:4oxgXPCSW1VFv2iXZurHeg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204332Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:43:32 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204332Z
20231205/us-east-1/s3/aws4_request
532b10309672fd8a0355c8ecc0647ebf3dbe1214506c5c6ee912d5059f2e4d70
2023-12-05 12:43:32 DEBUG    Signature:
3631ddb8bba173d372524db358fb84aa54d4812474da895889b337bb82cdef97
2023-12-05 12:43:32 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:43:32 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:43:32 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'4oxgXPCSW1VFv2iXZurHeg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204332Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=3631ddb8bba173d372524db358fb84aa54d4812474da895889b337bb82cdef97', 'amz-sdk-invocation-id': b'6873ec96-612e-47c2-ad58-6c75aa16141f', 'amz-sdk-request': b'attempt=1', 'Content-Length': '251721'}>
2023-12-05 12:43:32 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:43:32 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:43:33 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:43:33 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:43:33 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:43:33 DEBUG    Response headers: {'x-amz-request-id': '5ZX3SH9GGVH0ME40', 'x-amz-id-2': 'A/5L/JiSibzWVAW9TySVGJLYGtEuPhsknzp3Iq/Zxa+gewtJW5vETw5gjQhYLdgVor6lk+Brd3s=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:43:32 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:43:33 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>5ZX3SH9GGVH0ME40</RequestId><HostId>A/5L/JiSibzWVAW9TySVGJLYGtEuPhsknzp3Iq/Zxa+gewtJW5vETw5gjQhYLdgVor6lk+Brd3s=</HostId></Error>'
2023-12-05 12:43:33 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f579ed0>
2023-12-05 12:43:33 DEBUG    No retry needed.
2023-12-05 12:43:33 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f50a210>>
2023-12-05 12:43:33 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:43:33 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:43:33 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f50a210>>
2023-12-05 12:43:33 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:43:33 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:43:33 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:43:33 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:43:33 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:43:33 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:43:33 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f57b0d0>
2023-12-05 12:43:33 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:43:33 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f52a910>>
2023-12-05 12:43:33 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f51ca90>>
2023-12-05 12:43:33 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:43:33 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:43:33 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:43:33 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:4oxgXPCSW1VFv2iXZurHeg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204333Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:43:33 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204333Z
20231205/us-east-2/s3/aws4_request
bca7b1b9d5788db70f50ff0b9c876759e3c6dbbe3843ac7c74cdf211652942e6
2023-12-05 12:43:33 DEBUG    Signature:
ebb755f0aee17eb827fdc3abf0a9e86b1cafe59b4311507535e3cf4144ba5c50
2023-12-05 12:43:33 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:43:33 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:43:33 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'4oxgXPCSW1VFv2iXZurHeg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204333Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=ebb755f0aee17eb827fdc3abf0a9e86b1cafe59b4311507535e3cf4144ba5c50', 'amz-sdk-invocation-id': b'6873ec96-612e-47c2-ad58-6c75aa16141f', 'amz-sdk-request': b'ttl=20231205T204432Z; attempt=2; max=5', 'Content-Length': '251721'}>
2023-12-05 12:43:33 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:43:33 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:43:33 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:43:33 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:43:34 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:43:34 DEBUG    Response headers: {'x-amz-id-2': 'YZyiFSQq/cOlc1kw+8bFgBem/10IBM8uS17IRHYIfxCGo2r8I9OT+DG8+WErNpzc0v1zQ2uXcEc=', 'x-amz-request-id': '5ZXB9M31G8072S18', 'Date': 'Tue, 05 Dec 2023 20:43:34 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"e28c605cf0925b5545bf689766eac77a"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:43:34 DEBUG    Response body:
b''
2023-12-05 12:43:34 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f579ed0>
2023-12-05 12:43:34 DEBUG    No retry needed.
2023-12-05 12:43:34 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f50a210>>
2023-12-05 12:43:34 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:43:34 DEBUG    Releasing acquire 0/None
2023-12-05 12:43:34 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:43:34 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:44:18 DEBUG    Calling on_part_begin with no data
2023-12-05 12:44:18 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:44:18 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:44:18 DEBUG    Calling on_header_end with no data
2023-12-05 12:44:18 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:44:18 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 12:44:18 DEBUG    Calling on_header_end with no data
2023-12-05 12:44:18 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[178:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:49100]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:114739]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:8681]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[8682:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32748]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[32749:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:163840]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:7422]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[7423:17955]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[17956:22780]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[22781:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:35926]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[35927:37559]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[37560:131072]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1558]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[1559:114636]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:49204]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:114534]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[114535:125809]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[125810:152877]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[152878:196608]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:163840]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32738]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[32739:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:9801]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[9802:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:2374]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[2375:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:16850]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[16851:81701]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[81702:163736]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:15144]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[15145:32872]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32707]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[32708:32736]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[32737:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:25071]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[25072:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:131072]
2023-12-05 12:44:18 DEBUG    Calling on_part_data with data[0:15920]
2023-12-05 12:44:18 DEBUG    Calling on_part_end with no data
2023-12-05 12:44:18 DEBUG    Calling on_end with no data
2023-12-05 12:44:18 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:44:18 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:44:18 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:44:18 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:44:18 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:44:18 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:44:18 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:44:18 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:44:18 DEBUG    No configured endpoint found.
2023-12-05 12:44:18 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:44:18 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:44:18 DEBUG    Registering S3 region redirector handler
2023-12-05 12:44:18 DEBUG    Acquiring 0
2023-12-05 12:44:18 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f51b2d0>}) about to wait for the following futures []
2023-12-05 12:44:18 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f51b2d0>}) done waiting for dependent futures
2023-12-05 12:44:18 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f51b2d0>}) with kwargs {'client': <botocore.client.S3 object at 0x10f5603d0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10f561a90>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f5629d0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f50b6d0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f51b2d0>}
2023-12-05 12:44:18 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f50b6d0> for transfer request: 0.
2023-12-05 12:44:18 DEBUG    Acquiring 0
2023-12-05 12:44:18 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:44:18 DEBUG    Releasing acquire 0/None
2023-12-05 12:44:18 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:44:18 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10f5603d0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f52af10>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:44:18 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:44:18 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:44:18 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:44:18 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:44:18 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:44:18 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10f51c9d0>>
2023-12-05 12:44:18 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:44:18 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:44:18 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f51c9d0>>
2023-12-05 12:44:18 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:44:18 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:44:18 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:44:18 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:44:18 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:44:18 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:44:18 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:44:18 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:44:18 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:44:18 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f52af10>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10f529310>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f52af10>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f5291d0>>
2023-12-05 12:44:18 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f2f1e10>>
2023-12-05 12:44:18 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:44:18 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:44:18 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:44:18 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204418Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:44:18 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204418Z
20231205/us-east-1/s3/aws4_request
437095853dcef84e46362a80125aa3ce9ee1d0d904d3a4c777944b848e34f7e8
2023-12-05 12:44:18 DEBUG    Signature:
cb38d34e15a568872a87ecd5833a88ca65499b576130e4ab9d44db64cd562ace
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:44:18 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204418Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=cb38d34e15a568872a87ecd5833a88ca65499b576130e4ab9d44db64cd562ace', 'amz-sdk-invocation-id': b'3ada221b-c63e-424f-8a58-cf829ac770f3', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2375038'}>
2023-12-05 12:44:18 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:44:18 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:44:18 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:44:18 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:44:18 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:44:18 DEBUG    Response headers: {'x-amz-request-id': 'DGXSHY73QT4W5KGY', 'x-amz-id-2': 'KGefcr46rQw2h/evzvBLpyKUd2yb1VF4SW6/3us/CX5YmaK+keRlX6yPZxFRuzTO4SIxSu2Z21w=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:44:18 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:44:18 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>DGXSHY73QT4W5KGY</RequestId><HostId>KGefcr46rQw2h/evzvBLpyKUd2yb1VF4SW6/3us/CX5YmaK+keRlX6yPZxFRuzTO4SIxSu2Z21w=</HostId></Error>'
2023-12-05 12:44:18 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f508650>
2023-12-05 12:44:18 DEBUG    No retry needed.
2023-12-05 12:44:18 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f51c9d0>>
2023-12-05 12:44:18 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:44:18 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:44:18 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f51c9d0>>
2023-12-05 12:44:18 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:44:18 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:44:18 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:44:18 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:44:18 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:44:18 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:44:18 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f52af10>
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f5291d0>>
2023-12-05 12:44:18 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f2f1e10>>
2023-12-05 12:44:18 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:44:18 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:44:18 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:44:18 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204418Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:44:18 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204418Z
20231205/us-east-2/s3/aws4_request
bb78ce345dd422b8d43a42bec4b80cc486f6fe7aa051d3c5d70de4781c21a8ca
2023-12-05 12:44:18 DEBUG    Signature:
51bd417b001761d975caf76c991ba602b3935ddfda81a9f7a62dc33ef7dea655
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:44:18 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:44:18 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204418Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=51bd417b001761d975caf76c991ba602b3935ddfda81a9f7a62dc33ef7dea655', 'amz-sdk-invocation-id': b'3ada221b-c63e-424f-8a58-cf829ac770f3', 'amz-sdk-request': b'ttl=20231205T204518Z; attempt=2; max=5', 'Content-Length': '2375038'}>
2023-12-05 12:44:18 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:44:18 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:44:19 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:44:19 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:44:23 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:44:23 DEBUG    Response headers: {'x-amz-id-2': '3/cmgHGPXrFHGH6AN/UMhgcbTarBQCUhGhXREgd+elS+sUHBRatPF61UbTQTY/bA5WxNBiVphNM=', 'x-amz-request-id': 'SC8TM2A81Z354VJK', 'Date': 'Tue, 05 Dec 2023 20:44:20 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"6f7fc67f8a0a98e846ff0259c32808de"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:44:23 DEBUG    Response body:
b''
2023-12-05 12:44:23 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f508650>
2023-12-05 12:44:23 DEBUG    No retry needed.
2023-12-05 12:44:23 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f51c9d0>>
2023-12-05 12:44:23 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:44:23 DEBUG    Releasing acquire 0/None
2023-12-05 12:44:23 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:44:23 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:45:37 DEBUG    Calling on_part_begin with no data
2023-12-05 12:45:37 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:45:37 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:45:37 DEBUG    Calling on_header_end with no data
2023-12-05 12:45:37 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:45:37 DEBUG    Calling on_header_value with data[164:173]
2023-12-05 12:45:37 DEBUG    Calling on_header_end with no data
2023-12-05 12:45:37 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[177:32733]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[32734:32768]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:20925]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[20926:32768]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:49151]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:11053]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[11054:21966]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[21967:32768]
2023-12-05 12:45:37 DEBUG    Calling on_part_data with data[0:26857]
2023-12-05 12:45:37 DEBUG    Calling on_part_end with no data
2023-12-05 12:45:37 DEBUG    Calling on_end with no data
2023-12-05 12:45:37 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:45:37 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:45:37 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:45:37 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:45:37 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:45:37 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:45:37 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:45:37 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:45:37 DEBUG    No configured endpoint found.
2023-12-05 12:45:37 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:45:37 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:45:37 DEBUG    Registering S3 region redirector handler
2023-12-05 12:45:37 DEBUG    Acquiring 0
2023-12-05 12:45:37 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5a8750>}) about to wait for the following futures []
2023-12-05 12:45:37 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5a8750>}) done waiting for dependent futures
2023-12-05 12:45:37 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5a8750>}) with kwargs {'client': <botocore.client.S3 object at 0x10f50d110>, 'config': <boto3.s3.transfer.TransferConfig object at 0x109788750>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f364290>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f5bfc10>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5a8750>}
2023-12-05 12:45:37 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f5bfc10> for transfer request: 0.
2023-12-05 12:45:37 DEBUG    Acquiring 0
2023-12-05 12:45:37 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:45:37 DEBUG    Releasing acquire 0/None
2023-12-05 12:45:37 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:45:37 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10f50d110>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f380e50>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:45:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:45:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:45:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:45:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:45:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:45:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5bed90>>
2023-12-05 12:45:37 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:45:37 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:45:37 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5bed90>>
2023-12-05 12:45:37 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:45:37 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:45:37 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:45:37 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:45:37 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:45:37 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:45:37 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:45:37 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:45:37 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:45:37 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'fbLNwU7svaUXSE9/ijOmOw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f380e50>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10f54dd90>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f380e50>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:45:37 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:45:37 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f54f510>>
2023-12-05 12:45:37 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f2f2990>>
2023-12-05 12:45:37 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:45:37 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:45:37 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:45:37 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:fbLNwU7svaUXSE9/ijOmOw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204537Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:45:37 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204537Z
20231205/us-east-1/s3/aws4_request
a3f3332f4d170beb796ae22dec85fffaea6c4817e3f53ef39197c76b182a7133
2023-12-05 12:45:37 DEBUG    Signature:
9b3bcda95bc4cc21c65b19a80c78c944769de4e055da6f04fb22b3d13a4dc641
2023-12-05 12:45:37 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:45:37 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:45:37 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'fbLNwU7svaUXSE9/ijOmOw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204537Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=9b3bcda95bc4cc21c65b19a80c78c944769de4e055da6f04fb22b3d13a4dc641', 'amz-sdk-invocation-id': b'b5c4c1d2-92aa-4f5d-baa4-56dba7505297', 'amz-sdk-request': b'attempt=1', 'Content-Length': '239671'}>
2023-12-05 12:45:37 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:45:37 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:45:38 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:45:38 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:45:38 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:45:38 DEBUG    Response headers: {'x-amz-request-id': 'F7WJSCN026JB4QBH', 'x-amz-id-2': 'yU0rDiSlemIwvbgJKd0Y4jyqL/3gWlf0WzFi5EEFnu6nRI5uSHwoT7d+yJLWkDhN8bVfa7W/0hk=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:45:37 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:45:38 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>F7WJSCN026JB4QBH</RequestId><HostId>yU0rDiSlemIwvbgJKd0Y4jyqL/3gWlf0WzFi5EEFnu6nRI5uSHwoT7d+yJLWkDhN8bVfa7W/0hk=</HostId></Error>'
2023-12-05 12:45:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f5bf7d0>
2023-12-05 12:45:38 DEBUG    No retry needed.
2023-12-05 12:45:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5bed90>>
2023-12-05 12:45:38 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:45:38 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:45:38 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5bed90>>
2023-12-05 12:45:38 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:45:38 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:45:38 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:45:38 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:45:38 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:45:38 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:45:38 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f380e50>
2023-12-05 12:45:38 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:45:38 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f54f510>>
2023-12-05 12:45:38 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f2f2990>>
2023-12-05 12:45:38 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:45:38 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:45:38 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:45:38 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:fbLNwU7svaUXSE9/ijOmOw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204538Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:45:38 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204538Z
20231205/us-east-2/s3/aws4_request
b7b8e79c862c7d16ff1c40a2c6913084cbc84f80140b00112e429689da2b0d8d
2023-12-05 12:45:38 DEBUG    Signature:
c549c6337ee127cdeab186c5a2e7d0b720c1b331fe4ae7e9ac54aa1a72074825
2023-12-05 12:45:38 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:45:38 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:45:38 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'fbLNwU7svaUXSE9/ijOmOw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204538Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=c549c6337ee127cdeab186c5a2e7d0b720c1b331fe4ae7e9ac54aa1a72074825', 'amz-sdk-invocation-id': b'b5c4c1d2-92aa-4f5d-baa4-56dba7505297', 'amz-sdk-request': b'ttl=20231205T204637Z; attempt=2; max=5', 'Content-Length': '239671'}>
2023-12-05 12:45:38 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:45:38 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:45:38 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:45:38 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:45:38 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:45:38 DEBUG    Response headers: {'x-amz-id-2': 'rJZoGQXYDDEnQVQozElgrmFURr6Fs7GIrQg1g6aPsVo4y16uuEpIndwslYISxTpMYTeIrW20Em9pa1woMR0cGA==', 'x-amz-request-id': 'F7WJ3MZJ9NMS3RCF', 'Date': 'Tue, 05 Dec 2023 20:45:39 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"7db2cdc14eecbda517484f7f8a33a63b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:45:38 DEBUG    Response body:
b''
2023-12-05 12:45:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f5bf7d0>
2023-12-05 12:45:38 DEBUG    No retry needed.
2023-12-05 12:45:38 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5bed90>>
2023-12-05 12:45:38 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:45:38 DEBUG    Releasing acquire 0/None
2023-12-05 12:45:38 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:45:38 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:49:46 DEBUG    Calling on_part_begin with no data
2023-12-05 12:49:46 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:49:46 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:49:46 DEBUG    Calling on_header_end with no data
2023-12-05 12:49:46 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:49:46 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 12:49:46 DEBUG    Calling on_header_end with no data
2023-12-05 12:49:46 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[178:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:49151]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:49153]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32748]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[32749:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:180223]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:16385]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:8906]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[8907:17955]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[17956:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:17804]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[17805:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:51037]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[51038:59566]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[59567:163840]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:63854]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[63855:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:21968]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[21969:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:25954]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[25955:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:11716]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[11717:48744]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[48745:95472]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[95473:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:6077]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[6078:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:11431]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[11432:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:65506]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[65507:65536]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:2374]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[2375:2449]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[2450:55405]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[55406:65536]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:28789]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[28790:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32736]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[32737:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:49:46 DEBUG    Calling on_part_data with data[0:114224]
2023-12-05 12:49:46 DEBUG    Calling on_part_end with no data
2023-12-05 12:49:46 DEBUG    Calling on_end with no data
2023-12-05 12:49:46 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:49:46 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:49:46 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:49:46 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:49:46 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:49:46 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:49:46 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:49:46 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:49:46 DEBUG    No configured endpoint found.
2023-12-05 12:49:46 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:49:46 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:49:46 DEBUG    Registering S3 region redirector handler
2023-12-05 12:49:46 DEBUG    Acquiring 0
2023-12-05 12:49:46 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5ca610>}) about to wait for the following futures []
2023-12-05 12:49:46 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5ca610>}) done waiting for dependent futures
2023-12-05 12:49:46 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5ca610>}) with kwargs {'client': <botocore.client.S3 object at 0x10f57a210>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10f5801d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f57b410>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f5c9b50>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5ca610>}
2023-12-05 12:49:46 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f5c9b50> for transfer request: 0.
2023-12-05 12:49:46 DEBUG    Acquiring 0
2023-12-05 12:49:46 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:49:46 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:49:46 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10f57a210>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f5caa90>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:49:46 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:49:46 DEBUG    Releasing acquire 0/None
2023-12-05 12:49:46 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:49:46 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:49:46 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:49:46 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:49:46 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5ab750>>
2023-12-05 12:49:46 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:49:46 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:49:46 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5ab750>>
2023-12-05 12:49:46 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:49:46 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:49:46 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:49:46 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:49:46 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:49:46 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:49:46 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:49:46 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:49:46 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:49:46 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f5caa90>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10f5955d0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f5caa90>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:49:46 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:49:46 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f595b90>>
2023-12-05 12:49:46 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f581790>>
2023-12-05 12:49:46 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:49:46 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:49:46 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:49:46 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204946Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:49:46 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204946Z
20231205/us-east-1/s3/aws4_request
45f0e4289166a9fece71d5ff847cd04a2853d81f31d152905e71970ccfbc1a37
2023-12-05 12:49:46 DEBUG    Signature:
4dbc8347660675c0a2390152f5173cd0443a9b02f9bcf91bf7b27a3253b46e22
2023-12-05 12:49:46 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:49:46 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:49:46 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204946Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=4dbc8347660675c0a2390152f5173cd0443a9b02f9bcf91bf7b27a3253b46e22', 'amz-sdk-invocation-id': b'df361dd1-4861-431c-9722-410c9b1502bd', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2375038'}>
2023-12-05 12:49:46 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:49:46 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:49:47 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:49:47 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:49:47 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:49:47 DEBUG    Response headers: {'x-amz-request-id': 'NA12RZHZ4ZQ73BCP', 'x-amz-id-2': '9CuD95gyV7bsH6scoNPJA3rEBBovSIVJ/QnyC/sc4hL3gzm4WFAAEfh8km517yIhyR8pFc+FKeo=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:49:46 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:49:47 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>NA12RZHZ4ZQ73BCP</RequestId><HostId>9CuD95gyV7bsH6scoNPJA3rEBBovSIVJ/QnyC/sc4hL3gzm4WFAAEfh8km517yIhyR8pFc+FKeo=</HostId></Error>'
2023-12-05 12:49:47 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f5c9790>
2023-12-05 12:49:47 DEBUG    No retry needed.
2023-12-05 12:49:47 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5ab750>>
2023-12-05 12:49:47 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:49:47 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:49:47 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5ab750>>
2023-12-05 12:49:47 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:49:47 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:49:47 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:49:47 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:49:47 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:49:47 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:49:47 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f5caa90>
2023-12-05 12:49:47 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:49:47 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f595b90>>
2023-12-05 12:49:47 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f581790>>
2023-12-05 12:49:47 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:49:47 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:49:47 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:49:47 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T204947Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:49:47 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T204947Z
20231205/us-east-2/s3/aws4_request
caadbfaf68331c8d6cece00f265a0f8a3d8d7f20aee202bf12a92c08c63a82ed
2023-12-05 12:49:47 DEBUG    Signature:
450a4a72b62cb4922227fd3e90a7993dbdec7f13d4da4ba9b4625b4d40e5dda6
2023-12-05 12:49:47 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:49:47 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:49:47 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T204947Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=450a4a72b62cb4922227fd3e90a7993dbdec7f13d4da4ba9b4625b4d40e5dda6', 'amz-sdk-invocation-id': b'df361dd1-4861-431c-9722-410c9b1502bd', 'amz-sdk-request': b'ttl=20231205T205046Z; attempt=2; max=5', 'Content-Length': '2375038'}>
2023-12-05 12:49:47 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:49:47 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:49:47 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:49:47 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:49:51 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:49:51 DEBUG    Response headers: {'x-amz-id-2': 'jXOPhX2Pa0p9NgIL22i8FeHbY3lWCNuri1fCAvXjH5eK3B614z5fAm9iAkx3SbmrTQfDkglwgpI=', 'x-amz-request-id': 'NA17Z0JPKDKN2C46', 'Date': 'Tue, 05 Dec 2023 20:49:48 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"6f7fc67f8a0a98e846ff0259c32808de"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:49:51 DEBUG    Response body:
b''
2023-12-05 12:49:51 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f5c9790>
2023-12-05 12:49:51 DEBUG    No retry needed.
2023-12-05 12:49:51 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f5ab750>>
2023-12-05 12:49:51 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:49:51 DEBUG    Releasing acquire 0/None
2023-12-05 12:49:51 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:49:51 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:50:06 DEBUG    Calling on_part_begin with no data
2023-12-05 12:50:06 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:50:06 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:50:06 DEBUG    Calling on_header_end with no data
2023-12-05 12:50:06 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:50:06 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 12:50:06 DEBUG    Calling on_header_end with no data
2023-12-05 12:50:06 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[178:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:13862]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[13863:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32767]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:4148]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[4149:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:81920]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:27962]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[27963:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:81920]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:20772]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[20773:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:81920]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32767]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:81871]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[81872:81920]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:81920]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:160829]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[160830:196608]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:30321]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[30322:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:180224]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:20317]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[20318:32766]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[32767:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:163840]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:62419]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[62420:85548]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[85549:163840]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32746]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[32747:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:98273]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[98274:98304]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:131072]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:81868]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:16436]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:110027]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[110028:196608]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:13112]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[13113:19935]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[19936:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:131072]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:25800]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[25801:65536]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:18844]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[18845:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:163840]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32857]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[32858:98304]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:66432]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[66433:75334]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[75335:98304]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:50:06 DEBUG    Calling on_part_data with data[0:39714]
2023-12-05 12:50:06 DEBUG    Calling on_part_end with no data
2023-12-05 12:50:06 DEBUG    Calling on_end with no data
2023-12-05 12:50:06 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x107e18220>
2023-12-05 12:50:06 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x107c43880>
2023-12-05 12:50:06 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x10ade8b80>
2023-12-05 12:50:06 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x107c43600>
2023-12-05 12:50:06 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:50:06 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:50:06 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:50:06 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:50:06 DEBUG    No configured endpoint found.
2023-12-05 12:50:06 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:50:06 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:50:06 DEBUG    Registering S3 region redirector handler
2023-12-05 12:50:06 DEBUG    Acquiring 0
2023-12-05 12:50:06 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5cbe90>}) about to wait for the following futures []
2023-12-05 12:50:06 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5cbe90>}) done waiting for dependent futures
2023-12-05 12:50:06 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5cbe90>}) with kwargs {'client': <botocore.client.S3 object at 0x10f514fd0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x10ae090d0>, 'osutil': <s3transfer.utils.OSUtils object at 0x10f5bd610>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x10f562ad0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x10f5cbe90>}
2023-12-05 12:50:06 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x10f562ad0> for transfer request: 0.
2023-12-05 12:50:06 DEBUG    Acquiring 0
2023-12-05 12:50:06 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:50:06 DEBUG    Releasing acquire 0/None
2023-12-05 12:50:06 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:50:06 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x10f514fd0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x10f5a8a10>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:50:06 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x107e1ac00>
2023-12-05 12:50:06 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x107e19ee0>
2023-12-05 12:50:06 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x107e1b600>
2023-12-05 12:50:06 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x107e19e40>
2023-12-05 12:50:06 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x107e1bf60>
2023-12-05 12:50:06 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x10f578510>>
2023-12-05 12:50:06 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x107e19c60>
2023-12-05 12:50:06 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:50:06 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f578510>>
2023-12-05 12:50:06 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:50:06 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:50:06 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:50:06 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:50:06 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x107b900e0>
2023-12-05 12:50:06 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x107e1a200>
2023-12-05 12:50:06 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:50:06 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x107e19120>
2023-12-05 12:50:06 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x107e1b740>
2023-12-05 12:50:06 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'XyMKbx1cHTKO+OL/0y0r9A==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x10f5a8a10>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x10f5a9150>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x10f5a8a10>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:50:06 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:50:06 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f5aa3d0>>
2023-12-05 12:50:06 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f2f27d0>>
2023-12-05 12:50:06 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:50:06 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:50:06 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:50:06 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:XyMKbx1cHTKO+OL/0y0r9A==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T205006Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:50:06 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T205006Z
20231205/us-east-1/s3/aws4_request
833782060aae3c6fca44529a22c92f720b0a3e2692015a9ba783294bb9754c29
2023-12-05 12:50:06 DEBUG    Signature:
56a55941ef97d9f587724eeaf05a917c355f995eea79f4b4e9a2c452b637aed2
2023-12-05 12:50:06 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:50:06 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:50:06 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'XyMKbx1cHTKO+OL/0y0r9A==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T205006Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=56a55941ef97d9f587724eeaf05a917c355f995eea79f4b4e9a2c452b637aed2', 'amz-sdk-invocation-id': b'b7c9697e-9ca6-43ae-9717-48308d5fe36e', 'amz-sdk-request': b'attempt=1', 'Content-Length': '4840047'}>
2023-12-05 12:50:06 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:50:06 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:50:07 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:50:07 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:50:07 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:50:07 DEBUG    Response headers: {'x-amz-request-id': 'ZE1BQ7FE9JPJYM9N', 'x-amz-id-2': '6g0HjwKg7r/WdvZx4ZtCzRQzod5X7RK97DZBRZoLmLMlfT+4NePRo0qNoydPKwipcm2ZtvRyCzg=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:50:06 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:50:07 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>ZE1BQ7FE9JPJYM9N</RequestId><HostId>6g0HjwKg7r/WdvZx4ZtCzRQzod5X7RK97DZBRZoLmLMlfT+4NePRo0qNoydPKwipcm2ZtvRyCzg=</HostId></Error>'
2023-12-05 12:50:07 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f562450>
2023-12-05 12:50:07 DEBUG    No retry needed.
2023-12-05 12:50:07 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f578510>>
2023-12-05 12:50:07 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:50:07 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x107e28180>
2023-12-05 12:50:07 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x10f578510>>
2023-12-05 12:50:07 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:50:07 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:50:07 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:50:07 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:50:07 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:50:07 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:50:07 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x10f5a8a10>
2023-12-05 12:50:07 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x10bbb0b80>
2023-12-05 12:50:07 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x10f5aa3d0>>
2023-12-05 12:50:07 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x10f2f27d0>>
2023-12-05 12:50:07 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x107e19b20>
2023-12-05 12:50:07 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x107e280e0>
2023-12-05 12:50:07 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:50:07 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:XyMKbx1cHTKO+OL/0y0r9A==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T205007Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:50:07 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T205007Z
20231205/us-east-2/s3/aws4_request
ec4c08af4fb4e7e60b04a02746da222ef95c5a18e24fa830b4a7bdfcc1ac75b1
2023-12-05 12:50:07 DEBUG    Signature:
11031ab5579a6a72b4a891e7986972fd65b2e7153bd7b9978440ba5e3e3aaa81
2023-12-05 12:50:07 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x10bbb0ea0>
2023-12-05 12:50:07 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x107e1bec0>
2023-12-05 12:50:07 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'XyMKbx1cHTKO+OL/0y0r9A==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T205007Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=11031ab5579a6a72b4a891e7986972fd65b2e7153bd7b9978440ba5e3e3aaa81', 'amz-sdk-invocation-id': b'b7c9697e-9ca6-43ae-9717-48308d5fe36e', 'amz-sdk-request': b'ttl=20231205T205106Z; attempt=2; max=5', 'Content-Length': '4840047'}>
2023-12-05 12:50:07 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:50:07 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:50:07 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:50:07 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:50:13 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:50:13 DEBUG    Response headers: {'x-amz-id-2': 'rehSeEZaC/DeSnaDaEU0V8mc3QkJzriLJlwys5iwXPXU2rzRxWoC20wbqvicAClBv+E8+sM8XzA=', 'x-amz-request-id': 'ZE10TZE4WWG860PB', 'Date': 'Tue, 05 Dec 2023 20:50:08 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"5f230a6f1d5c1d328ef8e2ffd32d2bf4"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:50:13 DEBUG    Response body:
b''
2023-12-05 12:50:13 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x10f562450>
2023-12-05 12:50:13 DEBUG    No retry needed.
2023-12-05 12:50:13 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x10f578510>>
2023-12-05 12:50:13 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:50:13 DEBUG    Releasing acquire 0/None
2023-12-05 12:50:13 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:50:13 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 12:53:45 INFO     Migrations complete
2023-12-05 12:54:09 DEBUG    Calling on_part_begin with no data
2023-12-05 12:54:09 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 12:54:09 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 12:54:09 DEBUG    Calling on_header_end with no data
2023-12-05 12:54:09 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 12:54:09 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 12:54:09 DEBUG    Calling on_header_end with no data
2023-12-05 12:54:09 DEBUG    Calling on_headers_finished with no data
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[178:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:23142]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[23143:91866]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[91867:114636]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:49204]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32748]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[32749:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:49540]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[49541:98304]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:15281]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[15282:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:29462]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[29463:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:81868]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:8382]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[8383:37532]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[37533:81972]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1413]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[1414:22851]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[22852:32726]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[32727:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:9337]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[9338:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:65506]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[65507:65536]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:2006]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[2007:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32708]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[32709:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32707]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[32708:32736]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[32737:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:196608]
2023-12-05 12:54:09 DEBUG    Calling on_part_data with data[0:15920]
2023-12-05 12:54:09 DEBUG    Calling on_part_end with no data
2023-12-05 12:54:09 DEBUG    Calling on_end with no data
2023-12-05 12:54:09 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-05 12:54:09 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-05 12:54:09 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-05 12:54:09 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-05 12:54:09 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-05 12:54:09 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-05 12:54:09 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-05 12:54:09 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-05 12:54:09 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-05 12:54:09 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-05 12:54:09 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-05 12:54:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-05 12:54:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-05 12:54:09 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1065182c0>
2023-12-05 12:54:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-05 12:54:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-05 12:54:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-05 12:54:09 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x106443920>
2023-12-05 12:54:09 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x112a39a80>
2023-12-05 12:54:09 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1064436a0>
2023-12-05 12:54:09 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 12:54:09 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 12:54:09 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 12:54:09 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 12:54:09 DEBUG    No configured endpoint found.
2023-12-05 12:54:09 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 12:54:09 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-05 12:54:09 DEBUG    Registering retry handlers for service: s3
2023-12-05 12:54:09 DEBUG    Registering S3 region redirector handler
2023-12-05 12:54:09 DEBUG    Acquiring 0
2023-12-05 12:54:09 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x114834e50>}) about to wait for the following futures []
2023-12-05 12:54:09 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x114834e50>}) done waiting for dependent futures
2023-12-05 12:54:09 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x114834e50>}) with kwargs {'client': <botocore.client.S3 object at 0x111e70cd0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x114711a50>, 'osutil': <s3transfer.utils.OSUtils object at 0x11444fbd0>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x114834350>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x114834e50>}
2023-12-05 12:54:09 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x114834350> for transfer request: 0.
2023-12-05 12:54:09 DEBUG    Acquiring 0
2023-12-05 12:54:09 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 12:54:09 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 12:54:09 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x111e70cd0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x111e6b610>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 12:54:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x10651aca0>
2023-12-05 12:54:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x106519f80>
2023-12-05 12:54:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x10651b6a0>
2023-12-05 12:54:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x106519ee0>
2023-12-05 12:54:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x106528040>
2023-12-05 12:54:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x111e70b90>>
2023-12-05 12:54:09 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x106519d00>
2023-12-05 12:54:09 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106528220>
2023-12-05 12:54:09 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x111e70b90>>
2023-12-05 12:54:09 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:54:09 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 12:54:09 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:54:09 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:54:09 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1061cc180>
2023-12-05 12:54:09 DEBUG    Releasing acquire 0/None
2023-12-05 12:54:09 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x10651a2a0>
2023-12-05 12:54:09 DEBUG    Adding expect 100 continue header to request.
2023-12-05 12:54:09 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1065191c0>
2023-12-05 12:54:09 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x10651b7e0>
2023-12-05 12:54:09 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x111e6b610>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x111e72090>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x111e6b610>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1147a4c20>
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x114819d90>>
2023-12-05 12:54:09 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1144604d0>>
2023-12-05 12:54:09 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106519bc0>
2023-12-05 12:54:09 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106528180>
2023-12-05 12:54:09 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:54:09 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T205409Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:54:09 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T205409Z
20231205/us-east-1/s3/aws4_request
098a0b1e6877dd3fc0d5d28b6897d2beefd20dade84465f05dabaf1c1239c990
2023-12-05 12:54:09 DEBUG    Signature:
f7eea3698480acb07b2586a31a3503fd6ed4b68b16173cf4b3a16ce5aceb2561
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1147a4f40>
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10651bf60>
2023-12-05 12:54:09 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T205409Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=f7eea3698480acb07b2586a31a3503fd6ed4b68b16173cf4b3a16ce5aceb2561', 'amz-sdk-invocation-id': b'48ee04dd-2567-458d-a62f-a03ab67a81b2', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2375038'}>
2023-12-05 12:54:09 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:54:09 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 12:54:09 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:54:09 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 12:54:09 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 12:54:09 DEBUG    Response headers: {'x-amz-request-id': 'PKZW7HZTB9HP3MT5', 'x-amz-id-2': 'jqGia4JiuUW2sMflqC8JdvFGhQ+AhSCRVFqQhCttBDIH5o5ijmlfilVWaiEYklnl0Ynv72/Cbt0=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 20:54:09 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 12:54:09 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>PKZW7HZTB9HP3MT5</RequestId><HostId>jqGia4JiuUW2sMflqC8JdvFGhQ+AhSCRVFqQhCttBDIH5o5ijmlfilVWaiEYklnl0Ynv72/Cbt0=</HostId></Error>'
2023-12-05 12:54:09 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x114834290>
2023-12-05 12:54:09 DEBUG    No retry needed.
2023-12-05 12:54:09 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x111e70b90>>
2023-12-05 12:54:09 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 12:54:09 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106528220>
2023-12-05 12:54:09 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x111e70b90>>
2023-12-05 12:54:09 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 12:54:09 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 12:54:09 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 12:54:09 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 12:54:09 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 12:54:09 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 12:54:09 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x111e6b610>
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1147a4c20>
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x114819d90>>
2023-12-05 12:54:09 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x1144604d0>>
2023-12-05 12:54:09 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106519bc0>
2023-12-05 12:54:09 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106528180>
2023-12-05 12:54:09 DEBUG    Calculating signature using v4 auth.
2023-12-05 12:54:09 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T205409Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 12:54:09 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T205409Z
20231205/us-east-2/s3/aws4_request
ac00a356a3a072a8b8dc41d0933f1c9cc3fc5d3012e96ac953e8c0ffb607ccc6
2023-12-05 12:54:09 DEBUG    Signature:
d89376be63005170e4d3d10a14a5e928db38eb2817bc3db30cb84bde7483680f
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1147a4f40>
2023-12-05 12:54:09 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10651bf60>
2023-12-05 12:54:09 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T205409Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=d89376be63005170e4d3d10a14a5e928db38eb2817bc3db30cb84bde7483680f', 'amz-sdk-invocation-id': b'48ee04dd-2567-458d-a62f-a03ab67a81b2', 'amz-sdk-request': b'ttl=20231205T205509Z; attempt=2; max=5', 'Content-Length': '2375038'}>
2023-12-05 12:54:09 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 12:54:09 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 12:54:10 DEBUG    Waiting for 100 Continue response.
2023-12-05 12:54:10 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 12:54:14 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 12:54:14 DEBUG    Response headers: {'x-amz-id-2': 'FpNcAffcwa/ul9tQ8XCQrO3soXI0IxIzuhkkvN+RDh7LhPDmNe7ka8VcpfXPDD6B92mZShhaGHU=', 'x-amz-request-id': 'CZVS7G54H4E3AHAB', 'Date': 'Tue, 05 Dec 2023 20:54:11 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"6f7fc67f8a0a98e846ff0259c32808de"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 12:54:14 DEBUG    Response body:
b''
2023-12-05 12:54:14 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x114834290>
2023-12-05 12:54:14 DEBUG    No retry needed.
2023-12-05 12:54:14 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x111e70b90>>
2023-12-05 12:54:14 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 12:54:14 DEBUG    Releasing acquire 0/None
2023-12-05 12:54:14 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 12:54:14 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 13:03:11 DEBUG    Calling on_part_begin with no data
2023-12-05 13:03:11 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 13:03:11 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 13:03:11 DEBUG    Calling on_header_end with no data
2023-12-05 13:03:11 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 13:03:11 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 13:03:11 DEBUG    Calling on_header_end with no data
2023-12-05 13:03:11 DEBUG    Calling on_headers_finished with no data
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[178:25469]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[25470:32748]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32749:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:36047]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[36048:49117]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[49118:49151]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:13941]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[13942:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32712]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32713:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:10163]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[10164:16384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:39469]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[39470:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:81920]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:5191]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[5192:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32722]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32723:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:131072]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:27228]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[27229:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:94362]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[94363:131072]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:131072]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:10827]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[10828:32762]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32763:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65522]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[65523:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32703]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32704:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:6752]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[6753:25384]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[25385:46969]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[46970:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65506]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[65507:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:40718]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[40719:51485]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[51486:63867]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[63868:98304]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:10685]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[10686:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:80140]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[80141:98304]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:17508]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[17509:32703]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32704:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:25230]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[25231:27240]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[27241:131072]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:18098]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[18099:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:12316]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[12317:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:96790]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[96791:98304]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32707]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32708:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32766]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[32767:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:65432]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:33467]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[33468:65640]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:48431]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[48432:65536]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:03:11 DEBUG    Calling on_part_data with data[0:77386]
2023-12-05 13:03:11 DEBUG    Calling on_part_end with no data
2023-12-05 13:03:11 DEBUG    Calling on_end with no data
2023-12-05 13:03:11 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x1065182c0>
2023-12-05 13:03:11 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x106443920>
2023-12-05 13:03:11 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x112a39a80>
2023-12-05 13:03:11 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1064436a0>
2023-12-05 13:03:11 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 13:03:11 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 13:03:11 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 13:03:11 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 13:03:11 DEBUG    No configured endpoint found.
2023-12-05 13:03:11 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 13:03:11 DEBUG    Registering retry handlers for service: s3
2023-12-05 13:03:11 DEBUG    Registering S3 region redirector handler
2023-12-05 13:03:11 DEBUG    Acquiring 0
2023-12-05 13:03:11 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11490c290>}) about to wait for the following futures []
2023-12-05 13:03:11 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11490c290>}) done waiting for dependent futures
2023-12-05 13:03:11 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x11490c290>}) with kwargs {'client': <botocore.client.S3 object at 0x114911f50>, 'config': <boto3.s3.transfer.TransferConfig object at 0x114906f10>, 'osutil': <s3transfer.utils.OSUtils object at 0x114911e50>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x114943850>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x11490c290>}
2023-12-05 13:03:11 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x114943850> for transfer request: 0.
2023-12-05 13:03:11 DEBUG    Acquiring 0
2023-12-05 13:03:11 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 13:03:11 DEBUG    Releasing acquire 0/None
2023-12-05 13:03:11 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 13:03:11 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x114911f50>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x111e7aa50>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 13:03:11 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x10651aca0>
2023-12-05 13:03:11 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x106519f80>
2023-12-05 13:03:11 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x10651b6a0>
2023-12-05 13:03:11 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x106519ee0>
2023-12-05 13:03:11 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x106528040>
2023-12-05 13:03:11 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x1148e6a50>>
2023-12-05 13:03:11 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x106519d00>
2023-12-05 13:03:11 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106528220>
2023-12-05 13:03:11 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x1148e6a50>>
2023-12-05 13:03:11 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 13:03:11 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 13:03:11 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 13:03:11 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 13:03:11 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1061cc180>
2023-12-05 13:03:11 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x10651a2a0>
2023-12-05 13:03:11 DEBUG    Adding expect 100 continue header to request.
2023-12-05 13:03:11 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x1065191c0>
2023-12-05 13:03:11 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x10651b7e0>
2023-12-05 13:03:11 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': '++gwsu9ancZ/pK0Rp36Fgg==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x111e7aa50>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x1148e5450>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x111e7aa50>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 13:03:11 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1147a4c20>
2023-12-05 13:03:11 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1148e5490>>
2023-12-05 13:03:11 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x112a23090>>
2023-12-05 13:03:11 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106519bc0>
2023-12-05 13:03:11 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106528180>
2023-12-05 13:03:11 DEBUG    Calculating signature using v4 auth.
2023-12-05 13:03:11 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:++gwsu9ancZ/pK0Rp36Fgg==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T210311Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 13:03:11 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T210311Z
20231205/us-east-1/s3/aws4_request
70e17b6b4cb7c0f474d77f83abf1408648738ea0d9233c26e5a95e3ef4a474f2
2023-12-05 13:03:11 DEBUG    Signature:
9021fc59a3dae0febb2a1ba8cf719a4f3de906b4dad120f2b2eabc6e8f523fe8
2023-12-05 13:03:11 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1147a4f40>
2023-12-05 13:03:11 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10651bf60>
2023-12-05 13:03:11 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'++gwsu9ancZ/pK0Rp36Fgg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T210311Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=9021fc59a3dae0febb2a1ba8cf719a4f3de906b4dad120f2b2eabc6e8f523fe8', 'amz-sdk-invocation-id': b'787ea14d-5e57-48f8-86c5-cce1a6512dc7', 'amz-sdk-request': b'attempt=1', 'Content-Length': '3566999'}>
2023-12-05 13:03:11 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 13:03:11 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 13:03:11 DEBUG    Waiting for 100 Continue response.
2023-12-05 13:03:12 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 13:03:12 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 13:03:12 DEBUG    Response headers: {'x-amz-request-id': 'E0WY2WPZ4AXK27KR', 'x-amz-id-2': 'Gj0inM71NSmxYj3eoLhegGqlqgwhnm0JpC1xVp6I6RoGowvcMPI3kkzkziuOe2Pg7j8j7QrhRJg=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 21:03:11 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 13:03:12 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>E0WY2WPZ4AXK27KR</RequestId><HostId>Gj0inM71NSmxYj3eoLhegGqlqgwhnm0JpC1xVp6I6RoGowvcMPI3kkzkziuOe2Pg7j8j7QrhRJg=</HostId></Error>'
2023-12-05 13:03:12 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x114943550>
2023-12-05 13:03:12 DEBUG    No retry needed.
2023-12-05 13:03:12 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x1148e6a50>>
2023-12-05 13:03:12 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 13:03:12 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x106528220>
2023-12-05 13:03:12 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x1148e6a50>>
2023-12-05 13:03:12 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 13:03:12 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 13:03:12 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 13:03:12 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 13:03:12 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 13:03:12 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 13:03:12 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x111e7aa50>
2023-12-05 13:03:12 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x1147a4c20>
2023-12-05 13:03:12 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x1148e5490>>
2023-12-05 13:03:12 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x112a23090>>
2023-12-05 13:03:12 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x106519bc0>
2023-12-05 13:03:12 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x106528180>
2023-12-05 13:03:12 DEBUG    Calculating signature using v4 auth.
2023-12-05 13:03:12 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:++gwsu9ancZ/pK0Rp36Fgg==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T210312Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 13:03:12 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T210312Z
20231205/us-east-2/s3/aws4_request
c637dee7f019518548a2a37c6bf0ea4ab4a01b25ad79e71509c1f4e1eefc6946
2023-12-05 13:03:12 DEBUG    Signature:
95eade5e3ac4ee5f0a305db74231558df5d952902355abcd1db5bd440b336b6f
2023-12-05 13:03:12 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x1147a4f40>
2023-12-05 13:03:12 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x10651bf60>
2023-12-05 13:03:12 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'++gwsu9ancZ/pK0Rp36Fgg==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T210312Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=95eade5e3ac4ee5f0a305db74231558df5d952902355abcd1db5bd440b336b6f', 'amz-sdk-invocation-id': b'787ea14d-5e57-48f8-86c5-cce1a6512dc7', 'amz-sdk-request': b'ttl=20231205T210411Z; attempt=2; max=5', 'Content-Length': '3566999'}>
2023-12-05 13:03:12 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 13:03:12 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 13:03:12 DEBUG    Waiting for 100 Continue response.
2023-12-05 13:03:12 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 13:03:13 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 13:03:13 DEBUG    Response headers: {'x-amz-id-2': '0UHJl/AxemQvD6UgRa5CaRUogjyOD4lqcbT2x+dZsdecBR5g+sK17t/VIp17n3HyCDoK0esBrVj1C0VZoIpSsQ==', 'x-amz-request-id': 'GCSTYT1J40KN77ZK', 'Date': 'Tue, 05 Dec 2023 21:03:13 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"fbe830b2ef5a9dc67fa4ad11a77e8582"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 13:03:13 DEBUG    Response body:
b''
2023-12-05 13:03:13 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x114943550>
2023-12-05 13:03:13 DEBUG    No retry needed.
2023-12-05 13:03:13 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x1148e6a50>>
2023-12-05 13:03:13 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 13:03:13 DEBUG    Releasing acquire 0/None
2023-12-05 13:03:13 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 13:03:13 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 13:11:26 INFO     Migrations complete
2023-12-05 13:13:25 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 13:13:29 DEBUG    Calling on_part_begin with no data
2023-12-05 13:13:29 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 13:13:29 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 13:13:29 DEBUG    Calling on_header_end with no data
2023-12-05 13:13:29 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 13:13:29 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 13:13:29 DEBUG    Calling on_header_end with no data
2023-12-05 13:13:29 DEBUG    Calling on_headers_finished with no data
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[178:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:16383]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32719]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[32720:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32749]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[32750:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:81920]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:22770]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[22771:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:45607]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[45608:49152]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:81920]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:229376]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32723]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[32724:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:97736]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[97737:98304]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:18858]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[18859:98304]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:90058]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[90059:163772]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[163773:163840]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:88124]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[88125:147404]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:49204]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:20698]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[20699:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:8532]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[8533:100920]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[100921:131072]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:13:29 DEBUG    Calling on_part_data with data[0:15921]
2023-12-05 13:13:29 DEBUG    Calling on_part_end with no data
2023-12-05 13:13:29 DEBUG    Calling on_end with no data
2023-12-05 13:13:29 DEBUG    Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2023-12-05 13:13:29 DEBUG    Changing event name from before-call.apigateway to before-call.api-gateway
2023-12-05 13:13:29 DEBUG    Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2023-12-05 13:13:29 DEBUG    Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2023-12-05 13:13:29 DEBUG    Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2023-12-05 13:13:29 DEBUG    Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2023-12-05 13:13:29 DEBUG    Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2023-12-05 13:13:29 DEBUG    Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2023-12-05 13:13:29 DEBUG    Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2023-12-05 13:13:29 DEBUG    Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2023-12-05 13:13:29 DEBUG    Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2023-12-05 13:13:29 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/endpoints.json
2023-12-05 13:13:29 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/sdk-default-configuration.json
2023-12-05 13:13:29 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x121918220>
2023-12-05 13:13:29 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/service-2.json
2023-12-05 13:13:29 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2023-12-05 13:13:29 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/partitions.json
2023-12-05 13:13:29 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x121843880>
2023-12-05 13:13:29 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x14977fec0>
2023-12-05 13:13:29 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x121843600>
2023-12-05 13:13:29 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 13:13:29 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 13:13:29 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 13:13:29 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 13:13:29 DEBUG    No configured endpoint found.
2023-12-05 13:13:29 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 13:13:29 DEBUG    Loading JSON file: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/botocore/data/_retry.json
2023-12-05 13:13:29 DEBUG    Registering retry handlers for service: s3
2023-12-05 13:13:29 DEBUG    Registering S3 region redirector handler
2023-12-05 13:13:29 DEBUG    Acquiring 0
2023-12-05 13:13:29 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e0e5dd0>}) about to wait for the following futures []
2023-12-05 13:13:29 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e0e5dd0>}) done waiting for dependent futures
2023-12-05 13:13:29 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e0e5dd0>}) with kwargs {'client': <botocore.client.S3 object at 0x14970bdd0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x1496e3c50>, 'osutil': <s3transfer.utils.OSUtils object at 0x1497a1310>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x14e0e54d0>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e0e5dd0>}
2023-12-05 13:13:29 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x14e0e54d0> for transfer request: 0.
2023-12-05 13:13:29 DEBUG    Acquiring 0
2023-12-05 13:13:29 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 13:13:29 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 13:13:29 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x14970bdd0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x14dfd9110>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 13:13:29 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x12191ac00>
2023-12-05 13:13:29 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x121919ee0>
2023-12-05 13:13:29 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x12191b600>
2023-12-05 13:13:29 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x121919e40>
2023-12-05 13:13:29 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x12191bf60>
2023-12-05 13:13:29 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x14dfd93d0>>
2023-12-05 13:13:29 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x121919c60>
2023-12-05 13:13:29 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x121928180>
2023-12-05 13:13:29 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x14dfd93d0>>
2023-12-05 13:13:29 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 13:13:29 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 13:13:29 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 13:13:29 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 13:13:29 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1217900e0>
2023-12-05 13:13:29 DEBUG    Releasing acquire 0/None
2023-12-05 13:13:29 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x12191a200>
2023-12-05 13:13:29 DEBUG    Adding expect 100 continue header to request.
2023-12-05 13:13:29 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x121919120>
2023-12-05 13:13:29 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x12191b740>
2023-12-05 13:13:29 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x14dfd9110>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x14dd46850>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x14dfd9110>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 13:13:29 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x14e053100>
2023-12-05 13:13:29 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x14e0cb550>>
2023-12-05 13:13:29 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x149784fd0>>
2023-12-05 13:13:29 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x121919b20>
2023-12-05 13:13:29 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1219280e0>
2023-12-05 13:13:29 DEBUG    Calculating signature using v4 auth.
2023-12-05 13:13:29 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T211329Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 13:13:29 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T211329Z
20231205/us-east-1/s3/aws4_request
98f82a6002f20a22f9ded0670f57d9e4dc8731e2f598c11568a77445b53a546d
2023-12-05 13:13:29 DEBUG    Signature:
6be7d69f5dfd86961719d6a4b2c5bfbdfa79b1afab047588afde761c28da126d
2023-12-05 13:13:29 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x14e053420>
2023-12-05 13:13:29 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x12191bec0>
2023-12-05 13:13:29 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T211329Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=6be7d69f5dfd86961719d6a4b2c5bfbdfa79b1afab047588afde761c28da126d', 'amz-sdk-invocation-id': b'8754bcd8-3956-4748-9bf4-7e9e78ea7e1e', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2375038'}>
2023-12-05 13:13:29 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 13:13:29 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 13:13:30 DEBUG    Waiting for 100 Continue response.
2023-12-05 13:13:30 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 13:13:30 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 13:13:30 DEBUG    Response headers: {'x-amz-request-id': 'F4BJXVAJW2QDHB2Z', 'x-amz-id-2': 'NKjr2vClDOtibPDrxstXAcTV/crMHHGgE3fpbW9Wl+9RXoXKw1f8ar/30OyawafTOHRAjPK1eck=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 21:13:29 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 13:13:30 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>F4BJXVAJW2QDHB2Z</RequestId><HostId>NKjr2vClDOtibPDrxstXAcTV/crMHHGgE3fpbW9Wl+9RXoXKw1f8ar/30OyawafTOHRAjPK1eck=</HostId></Error>'
2023-12-05 13:13:30 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x14965e510>
2023-12-05 13:13:30 DEBUG    No retry needed.
2023-12-05 13:13:30 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x14dfd93d0>>
2023-12-05 13:13:30 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 13:13:30 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x121928180>
2023-12-05 13:13:30 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x14dfd93d0>>
2023-12-05 13:13:30 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 13:13:30 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 13:13:30 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 13:13:30 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 13:13:30 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 13:13:30 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 13:13:30 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x14dfd9110>
2023-12-05 13:13:30 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x14e053100>
2023-12-05 13:13:30 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x14e0cb550>>
2023-12-05 13:13:30 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x149784fd0>>
2023-12-05 13:13:30 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x121919b20>
2023-12-05 13:13:30 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1219280e0>
2023-12-05 13:13:30 DEBUG    Calculating signature using v4 auth.
2023-12-05 13:13:30 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T211330Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 13:13:30 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T211330Z
20231205/us-east-2/s3/aws4_request
8ac6bd41fc66f7400ac66ed61122d476fef46aa61ad083839d4a80450abd6fab
2023-12-05 13:13:30 DEBUG    Signature:
e82397d2090807eb71c0eaa86a710c3ac6ca8f2298e0d0cd89b3a169e2d54c5e
2023-12-05 13:13:30 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x14e053420>
2023-12-05 13:13:30 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x12191bec0>
2023-12-05 13:13:30 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T211330Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=e82397d2090807eb71c0eaa86a710c3ac6ca8f2298e0d0cd89b3a169e2d54c5e', 'amz-sdk-invocation-id': b'8754bcd8-3956-4748-9bf4-7e9e78ea7e1e', 'amz-sdk-request': b'ttl=20231205T211429Z; attempt=2; max=5', 'Content-Length': '2375038'}>
2023-12-05 13:13:30 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 13:13:30 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 13:13:30 DEBUG    Waiting for 100 Continue response.
2023-12-05 13:13:30 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 13:13:34 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 13:13:34 DEBUG    Response headers: {'x-amz-id-2': '3UCfr1f4FbsXr1AMOw8N2etCuFhi0bbAL4Z0KWGabTWnYphInlSHq3L3kV9MhqlQg9aF3lXXYRc=', 'x-amz-request-id': 'F4BJKVS23EM9RC7H', 'Date': 'Tue, 05 Dec 2023 21:13:31 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"6f7fc67f8a0a98e846ff0259c32808de"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 13:13:34 DEBUG    Response body:
b''
2023-12-05 13:13:34 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x14965e510>
2023-12-05 13:13:34 DEBUG    No retry needed.
2023-12-05 13:13:34 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x14dfd93d0>>
2023-12-05 13:13:34 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 13:13:34 DEBUG    Releasing acquire 0/None
2023-12-05 13:13:34 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 13:13:34 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 13:23:42 INFO     -- BEGIN Twilio API Request --
2023-12-05 13:23:42 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications
2023-12-05 13:23:42 INFO     Headers:
2023-12-05 13:23:42 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-12-05 13:23:42 INFO     X-Twilio-Client : python-8.5.0
2023-12-05 13:23:42 INFO     Accept-Charset : utf-8
2023-12-05 13:23:42 INFO     Content-Type : application/x-www-form-urlencoded
2023-12-05 13:23:42 INFO     Accept : application/json
2023-12-05 13:23:42 INFO     -- END Twilio API Request --
2023-12-05 13:23:42 DEBUG    Starting new HTTPS connection (1): verify.twilio.com:443
2023-12-05 13:23:42 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/Verifications HTTP/1.1" 201 633
2023-12-05 13:23:42 INFO     Response Status Code: 201
2023-12-05 13:23:42 INFO     Response Headers: {'Date': 'Tue, 05 Dec 2023 21:23:42 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '633', 'Connection': 'keep-alive', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Twilio-Request-Id': 'RQ408dc88c60efb093291984b297beb717', 'Twilio-Request-Duration': '0.166', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Powered-By': 'AT-5000', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-12-05 13:23:42 INFO     user.services.intialize_verification(): Successfully created twilio verification
2023-12-05 13:23:49 INFO     -- BEGIN Twilio API Request --
2023-12-05 13:23:49 INFO     POST Request: https://verify.twilio.com/v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck
2023-12-05 13:23:49 INFO     Headers:
2023-12-05 13:23:49 INFO     User-Agent : twilio-python/8.5.0 (Darwin arm64) Python/3.11.4
2023-12-05 13:23:49 INFO     X-Twilio-Client : python-8.5.0
2023-12-05 13:23:49 INFO     Accept-Charset : utf-8
2023-12-05 13:23:49 INFO     Content-Type : application/x-www-form-urlencoded
2023-12-05 13:23:49 INFO     Accept : application/json
2023-12-05 13:23:49 INFO     -- END Twilio API Request --
2023-12-05 13:23:49 DEBUG    https://verify.twilio.com:443 "POST /v2/Services/VA0bcea960f31565546ab23ff576306f4a/VerificationCheck HTTP/1.1" 200 339
2023-12-05 13:23:49 INFO     Response Status Code: 200
2023-12-05 13:23:49 INFO     Response Headers: {'Date': 'Tue, 05 Dec 2023 21:23:49 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Content-Length': '339', 'Connection': 'keep-alive', 'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Headers': 'Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Idempotency-Key', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS', 'Access-Control-Expose-Headers': 'ETag', 'Twilio-Request-Id': 'RQdbbac6ba024e08bcfbfccdf61bd21978', 'Twilio-Request-Duration': '0.025', 'Twilio-Concurrent-Requests': '1', 'X-Shenanigans': 'none', 'X-Powered-By': 'AT-5000', 'X-Home-Region': 'us1', 'X-API-Domain': 'verify.twilio.com'}
2023-12-05 13:23:49 INFO     user.services.check_verification(): User OTP successful
2023-12-05 13:23:49 INFO     user.services.get_user_by_phone_number(): Sucessfully queried record
2023-12-05 13:23:49 INFO     user.services.get_jwt(): Successfully created JWT
2023-12-05 13:23:49 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 13:24:07 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 13:25:32 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 13:25:32 INFO     user.services.update_user(): User updated sucessfully
2023-12-05 13:25:48 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 13:25:57 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 13:26:58 INFO     room.services.create_room(): Room created sucessfully
2023-12-05 13:27:44 DEBUG    Calling on_part_begin with no data
2023-12-05 13:27:44 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 13:27:44 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 13:27:44 DEBUG    Calling on_header_end with no data
2023-12-05 13:27:44 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 13:27:44 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 13:27:44 DEBUG    Calling on_header_end with no data
2023-12-05 13:27:44 DEBUG    Calling on_headers_finished with no data
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[178:81919]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65515]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[65516:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:16384]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:49152]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:98300]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[98301:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:196608]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:163840]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:16090]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[16091:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:131072]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:7569]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[7570:20253]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[20254:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:26331]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[26332:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32753]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[32754:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32705]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[32706:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:163840]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1188]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[1189:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:131072]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32664]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:55104]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[55105:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32872]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32736]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[32737:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:163840]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:3110]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[3111:7119]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[7120:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:5560]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[5561:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:5187]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[5188:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32745]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[32746:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:61680]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[61681:131072]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:28335]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[28336:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:22547]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[22548:103216]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[103217:131072]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32766]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[32767:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1857]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[1858:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32734]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[32735:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 13:27:44 DEBUG    Calling on_part_data with data[0:12094]
2023-12-05 13:27:44 DEBUG    Calling on_part_end with no data
2023-12-05 13:27:44 DEBUG    Calling on_end with no data
2023-12-05 13:27:44 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x121918220>
2023-12-05 13:27:44 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x121843880>
2023-12-05 13:27:44 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x14977fec0>
2023-12-05 13:27:44 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x121843600>
2023-12-05 13:27:44 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 13:27:44 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 13:27:44 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 13:27:44 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 13:27:44 DEBUG    No configured endpoint found.
2023-12-05 13:27:44 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 13:27:44 DEBUG    Registering retry handlers for service: s3
2023-12-05 13:27:44 DEBUG    Registering S3 region redirector handler
2023-12-05 13:27:44 DEBUG    Acquiring 0
2023-12-05 13:27:44 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e3452d0>}) about to wait for the following futures []
2023-12-05 13:27:44 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e3452d0>}) done waiting for dependent futures
2023-12-05 13:27:44 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e3452d0>}) with kwargs {'client': <botocore.client.S3 object at 0x14e110dd0>, 'config': <boto3.s3.transfer.TransferConfig object at 0x14e1fab50>, 'osutil': <s3transfer.utils.OSUtils object at 0x14e1f2a50>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x14e344890>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e3452d0>}
2023-12-05 13:27:44 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': '0M187P/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x14e344890> for transfer request: 0.
2023-12-05 13:27:44 DEBUG    Acquiring 0
2023-12-05 13:27:44 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': '0M187P/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 13:27:44 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': '0M187P/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 13:27:44 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': '0M187P/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x14e110dd0>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x14e1e2b10>, 'bucket': 'splitz-receipts', 'key': '0M187P/receipt.jpg', 'extra_args': {}}
2023-12-05 13:27:44 DEBUG    Releasing acquire 0/None
2023-12-05 13:27:44 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x12191ac00>
2023-12-05 13:27:44 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x121919ee0>
2023-12-05 13:27:44 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x12191b600>
2023-12-05 13:27:44 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x121919e40>
2023-12-05 13:27:44 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x12191bf60>
2023-12-05 13:27:44 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33bc50>>
2023-12-05 13:27:44 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x121919c60>
2023-12-05 13:27:44 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x121928180>
2023-12-05 13:27:44 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33bc50>>
2023-12-05 13:27:44 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 13:27:44 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 13:27:44 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 13:27:44 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 13:27:44 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1217900e0>
2023-12-05 13:27:44 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x12191a200>
2023-12-05 13:27:44 DEBUG    Adding expect 100 continue header to request.
2023-12-05 13:27:44 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x121919120>
2023-12-05 13:27:44 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x12191b740>
2023-12-05 13:27:44 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/0M187P/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': '+RpulTFIgaCGuh4PcIJAWw==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x14e1e2b10>, 'auth_path': '/splitz-receipts/0M187P/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/0M187P/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x14e1f8cd0>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': '0M187P/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x14e1e2b10>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 13:27:44 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x14e053100>
2023-12-05 13:27:44 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x14e331490>>
2023-12-05 13:27:44 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x14e1e1bd0>>
2023-12-05 13:27:44 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x121919b20>
2023-12-05 13:27:44 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1219280e0>
2023-12-05 13:27:44 DEBUG    Calculating signature using v4 auth.
2023-12-05 13:27:44 DEBUG    CanonicalRequest:
PUT
/0M187P/receipt.jpg

content-md5:+RpulTFIgaCGuh4PcIJAWw==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T212744Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 13:27:44 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T212744Z
20231205/us-east-1/s3/aws4_request
25cddb94816c96a2e6e066a2fd588f322be0c87c9267a2f75af2811dbe3fbbe6
2023-12-05 13:27:44 DEBUG    Signature:
eb3e340dc2507df04ac2636f1ce3f6b1286c284c27404684f84be23c8cba1e74
2023-12-05 13:27:44 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x14e053420>
2023-12-05 13:27:44 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x12191bec0>
2023-12-05 13:27:44 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/0M187P/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'+RpulTFIgaCGuh4PcIJAWw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T212744Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=eb3e340dc2507df04ac2636f1ce3f6b1286c284c27404684f84be23c8cba1e74', 'amz-sdk-invocation-id': b'71183431-1d33-452d-ba5c-4be0417e6674', 'amz-sdk-request': b'attempt=1', 'Content-Length': '5353099'}>
2023-12-05 13:27:44 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 13:27:44 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 13:27:45 DEBUG    Waiting for 100 Continue response.
2023-12-05 13:27:45 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 13:27:45 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /0M187P/receipt.jpg HTTP/1.1" 400 None
2023-12-05 13:27:45 DEBUG    Response headers: {'x-amz-request-id': 'W2CFREHGAPPZFSNY', 'x-amz-id-2': 'hw8tv6+ZaN/W23cmjP8EJ9YV77bWcvHvPr886rzmA+1SAXHx0luyWaZLEfu73QxPUq4dbgZqMsg=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 21:27:44 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 13:27:45 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>W2CFREHGAPPZFSNY</RequestId><HostId>hw8tv6+ZaN/W23cmjP8EJ9YV77bWcvHvPr886rzmA+1SAXHx0luyWaZLEfu73QxPUq4dbgZqMsg=</HostId></Error>'
2023-12-05 13:27:45 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x14e3446d0>
2023-12-05 13:27:45 DEBUG    No retry needed.
2023-12-05 13:27:45 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33bc50>>
2023-12-05 13:27:45 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 13:27:45 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x121928180>
2023-12-05 13:27:45 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33bc50>>
2023-12-05 13:27:45 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 13:27:45 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 13:27:45 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/0M187P/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/0M187P/receipt.jpg
2023-12-05 13:27:45 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 13:27:45 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 13:27:45 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 13:27:45 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x14e1e2b10>
2023-12-05 13:27:45 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x14e053100>
2023-12-05 13:27:45 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x14e331490>>
2023-12-05 13:27:45 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x14e1e1bd0>>
2023-12-05 13:27:45 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x121919b20>
2023-12-05 13:27:45 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1219280e0>
2023-12-05 13:27:45 DEBUG    Calculating signature using v4 auth.
2023-12-05 13:27:45 DEBUG    CanonicalRequest:
PUT
/0M187P/receipt.jpg

content-md5:+RpulTFIgaCGuh4PcIJAWw==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T212745Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 13:27:45 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T212745Z
20231205/us-east-2/s3/aws4_request
2651b0573820c5ec5a9acbf335eb9ff138a78f86e27a5782c54081c147ef0275
2023-12-05 13:27:45 DEBUG    Signature:
682c417a2b6b5448e9f12964a7539feb4ec1d29f6fb09308f653c15cae3b69d8
2023-12-05 13:27:45 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x14e053420>
2023-12-05 13:27:45 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x12191bec0>
2023-12-05 13:27:45 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/0M187P/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'+RpulTFIgaCGuh4PcIJAWw==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T212745Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=682c417a2b6b5448e9f12964a7539feb4ec1d29f6fb09308f653c15cae3b69d8', 'amz-sdk-invocation-id': b'71183431-1d33-452d-ba5c-4be0417e6674', 'amz-sdk-request': b'ttl=20231205T212844Z; attempt=2; max=5', 'Content-Length': '5353099'}>
2023-12-05 13:27:45 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 13:27:45 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 13:27:45 DEBUG    Waiting for 100 Continue response.
2023-12-05 13:27:45 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 13:27:46 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /0M187P/receipt.jpg HTTP/1.1" 200 0
2023-12-05 13:27:46 DEBUG    Response headers: {'x-amz-id-2': 'FXo74h2mabGAlm8wito1FyZqyibI5yXmtIBcrupPiVrKOHKi0jVGwK+I1Wf6W+XgpHc/VpdCMGbVCyXVz0eaEw==', 'x-amz-request-id': 'W2CBQA8WH9F0GEGG', 'Date': 'Tue, 05 Dec 2023 21:27:46 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"f91a6e95314881a086ba1e0f7082405b"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 13:27:46 DEBUG    Response body:
b''
2023-12-05 13:27:46 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x14e3446d0>
2023-12-05 13:27:46 DEBUG    No retry needed.
2023-12-05 13:27:46 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33bc50>>
2023-12-05 13:27:46 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 13:27:46 DEBUG    Releasing acquire 0/None
2023-12-05 13:27:46 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to 0M187P folder in S3
2023-12-05 13:27:46 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 14:58:21 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 14:58:40 DEBUG    Calling on_part_begin with no data
2023-12-05 14:58:40 DEBUG    Calling on_header_field with data[74:93]
2023-12-05 14:58:40 DEBUG    Calling on_header_value with data[95:148]
2023-12-05 14:58:40 DEBUG    Calling on_header_end with no data
2023-12-05 14:58:40 DEBUG    Calling on_header_field with data[150:162]
2023-12-05 14:58:40 DEBUG    Calling on_header_value with data[164:174]
2023-12-05 14:58:40 DEBUG    Calling on_header_end with no data
2023-12-05 14:58:40 DEBUG    Calling on_headers_finished with no data
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[178:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32718]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[32719:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:5412]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[5413:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32748]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[32749:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32558]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[32559:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:40 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:7422]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[7423:17955]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[17956:22780]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[22781:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32760]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[32761:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:81919]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32726]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[32727:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:15350]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[15351:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32719]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[32720:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32753]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[32754:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:49478]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[49479:51036]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[51037:131072]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:98304]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:65536]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:20400]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[20401:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:98303]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:42586]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[42587:98304]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:43035]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[43036:57043]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[57044:98285]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[98286:98304]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:17499]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[17500:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:32768]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:8905]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:1]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[8906:81868]
2023-12-05 14:58:41 DEBUG    Calling on_part_data with data[0:81509]
2023-12-05 14:58:41 DEBUG    Calling on_part_end with no data
2023-12-05 14:58:41 DEBUG    Calling on_end with no data
2023-12-05 14:58:41 DEBUG    Event choose-service-name: calling handler <function handle_service_name_alias at 0x121918220>
2023-12-05 14:58:41 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x121843880>
2023-12-05 14:58:41 DEBUG    Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x14977fec0>
2023-12-05 14:58:41 DEBUG    Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x121843600>
2023-12-05 14:58:41 DEBUG    Looking for endpoint for s3 via: environment_service
2023-12-05 14:58:41 DEBUG    Looking for endpoint for s3 via: environment_global
2023-12-05 14:58:41 DEBUG    Looking for endpoint for s3 via: config_service
2023-12-05 14:58:41 DEBUG    Looking for endpoint for s3 via: config_global
2023-12-05 14:58:41 DEBUG    No configured endpoint found.
2023-12-05 14:58:41 DEBUG    Setting s3 timeout as (60, 60)
2023-12-05 14:58:41 DEBUG    Registering retry handlers for service: s3
2023-12-05 14:58:41 DEBUG    Registering S3 region redirector handler
2023-12-05 14:58:41 DEBUG    Acquiring 0
2023-12-05 14:58:41 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e35c3d0>}) about to wait for the following futures []
2023-12-05 14:58:41 DEBUG    UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e35c3d0>}) done waiting for dependent futures
2023-12-05 14:58:41 DEBUG    Executing task UploadSubmissionTask(transfer_id=0, {'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e35c3d0>}) with kwargs {'client': <botocore.client.S3 object at 0x14e1f2390>, 'config': <boto3.s3.transfer.TransferConfig object at 0x14e331450>, 'osutil': <s3transfer.utils.OSUtils object at 0x14e1f2490>, 'request_executor': <s3transfer.futures.BoundedExecutor object at 0x14e35e590>, 'transfer_future': <s3transfer.futures.TransferFuture object at 0x14e35c3d0>}
2023-12-05 14:58:41 DEBUG    Submitting task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) to executor <s3transfer.futures.BoundedExecutor object at 0x14e35e590> for transfer request: 0.
2023-12-05 14:58:41 DEBUG    Acquiring 0
2023-12-05 14:58:41 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) about to wait for the following futures []
2023-12-05 14:58:41 DEBUG    Releasing acquire 0/None
2023-12-05 14:58:41 DEBUG    PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) done waiting for dependent futures
2023-12-05 14:58:41 DEBUG    Executing task PutObjectTask(transfer_id=0, {'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}) with kwargs {'client': <botocore.client.S3 object at 0x14e1f2390>, 'fileobj': <s3transfer.utils.ReadFileChunk object at 0x14e326610>, 'bucket': 'splitz-receipts', 'key': 'Y79JAL/receipt.jpg', 'extra_args': {}}
2023-12-05 14:58:41 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_ascii_metadata at 0x12191ac00>
2023-12-05 14:58:41 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function sse_md5 at 0x121919ee0>
2023-12-05 14:58:41 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function convert_body_to_file_like_object at 0x12191b600>
2023-12-05 14:58:41 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function validate_bucket_name at 0x121919e40>
2023-12-05 14:58:41 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function remove_bucket_from_url_paths_from_model at 0x12191bf60>
2023-12-05 14:58:41 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33b450>>
2023-12-05 14:58:41 DEBUG    Event before-parameter-build.s3.PutObject: calling handler <function generate_idempotent_uuid at 0x121919c60>
2023-12-05 14:58:41 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x121928180>
2023-12-05 14:58:41 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33b450>>
2023-12-05 14:58:41 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 14:58:41 DEBUG    Endpoint provider result: https://splitz-receipts.s3.amazonaws.com
2023-12-05 14:58:41 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 14:58:41 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 14:58:41 DEBUG    Event before-call.s3.PutObject: calling handler <function conditionally_calculate_md5 at 0x1217900e0>
2023-12-05 14:58:41 DEBUG    Event before-call.s3.PutObject: calling handler <function add_expect_header at 0x12191a200>
2023-12-05 14:58:41 DEBUG    Adding expect 100 continue header to request.
2023-12-05 14:58:41 DEBUG    Event before-call.s3.PutObject: calling handler <function add_recursion_detection_header at 0x121919120>
2023-12-05 14:58:41 DEBUG    Event before-call.s3.PutObject: calling handler <function inject_api_version_header_if_needed at 0x12191b740>
2023-12-05 14:58:41 DEBUG    Making request for OperationModel(name=PutObject) with params: {'url_path': '/Y79JAL/receipt.jpg', 'query_string': {}, 'method': 'PUT', 'headers': {'User-Agent': 'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': 'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': '100-continue'}, 'body': <s3transfer.utils.ReadFileChunk object at 0x14e326610>, 'auth_path': '/splitz-receipts/Y79JAL/receipt.jpg', 'url': 'https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x14e308a50>, 'has_streaming_input': True, 'auth_type': 'v4', 's3_redirect': {'redirected': False, 'bucket': 'splitz-receipts', 'params': {'Bucket': 'splitz-receipts', 'Key': 'Y79JAL/receipt.jpg', 'Body': <s3transfer.utils.ReadFileChunk object at 0x14e326610>}}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}}}
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x14e053100>
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x14e355d50>>
2023-12-05 14:58:41 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x14e1ecf50>>
2023-12-05 14:58:41 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x121919b20>
2023-12-05 14:58:41 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1219280e0>
2023-12-05 14:58:41 DEBUG    Calculating signature using v4 auth.
2023-12-05 14:58:41 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T225841Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 14:58:41 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T225841Z
20231205/us-east-1/s3/aws4_request
71b81ab36efe4ca1faf4508f203d5ad34a211f4d317c1bbe46c43db4c361a58d
2023-12-05 14:58:41 DEBUG    Signature:
f085c77c9d10ecc09d0dce8de99d63489d619d4dd1846ee32dbb8c62698ec0a6
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x14e053420>
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x12191bec0>
2023-12-05 14:58:41 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T225841Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-1/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=f085c77c9d10ecc09d0dce8de99d63489d619d4dd1846ee32dbb8c62698ec0a6', 'amz-sdk-invocation-id': b'ceca9cc4-364a-4543-8059-a9882c8f353a', 'amz-sdk-request': b'attempt=1', 'Content-Length': '2375038'}>
2023-12-05 14:58:41 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 14:58:41 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.amazonaws.com:443
2023-12-05 14:58:41 DEBUG    Waiting for 100 Continue response.
2023-12-05 14:58:41 DEBUG    Received a non 100 Continue response from the server, NOT sending request body.
2023-12-05 14:58:41 DEBUG    https://splitz-receipts.s3.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 400 None
2023-12-05 14:58:41 DEBUG    Response headers: {'x-amz-request-id': 'DAQ9HESJ5RAWE8BZ', 'x-amz-id-2': 'xdXubZj7fN8dbZQgad9qiCg8tb8scQB5N9AMckGzfAjvzdCCubc4sclCOJHt25n+pJjhdVb95g0=', 'Content-Type': 'application/xml', 'Transfer-Encoding': 'chunked', 'Date': 'Tue, 05 Dec 2023 22:58:41 GMT', 'Server': 'AmazonS3', 'Connection': 'close'}
2023-12-05 14:58:41 DEBUG    Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<Error><Code>AuthorizationHeaderMalformed</Code><Message>The authorization header is malformed; the region \'us-east-1\' is wrong; expecting \'us-east-2\'</Message><Region>us-east-2</Region><RequestId>DAQ9HESJ5RAWE8BZ</RequestId><HostId>xdXubZj7fN8dbZQgad9qiCg8tb8scQB5N9AMckGzfAjvzdCCubc4sclCOJHt25n+pJjhdVb95g0=</HostId></Error>'
2023-12-05 14:58:41 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x14e35e950>
2023-12-05 14:58:41 DEBUG    No retry needed.
2023-12-05 14:58:41 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33b450>>
2023-12-05 14:58:41 DEBUG    S3 client configured for region us-east-1 but the bucket splitz-receipts is in region us-east-2; Please configure the proper region to avoid multiple unnecessary redirects and signing attempts.
2023-12-05 14:58:41 DEBUG    Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x121928180>
2023-12-05 14:58:41 DEBUG    Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33b450>>
2023-12-05 14:58:41 DEBUG    Calling endpoint provider with parameters: {'Bucket': 'splitz-receipts', 'Region': 'us-east-2', 'UseFIPS': False, 'UseDualStack': False, 'ForcePathStyle': False, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
2023-12-05 14:58:41 DEBUG    Endpoint provider result: https://splitz-receipts.s3.us-east-2.amazonaws.com
2023-12-05 14:58:41 DEBUG    Updating URI from https://splitz-receipts.s3.amazonaws.com/Y79JAL/receipt.jpg to https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg
2023-12-05 14:58:41 DEBUG    Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
2023-12-05 14:58:41 DEBUG    Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-2', 'signing_name': 's3', 'disableDoubleEncoding': True}
2023-12-05 14:58:41 DEBUG    Response received to retry, sleeping for 0 seconds
2023-12-05 14:58:41 DEBUG    Rewinding stream: <s3transfer.utils.ReadFileChunk object at 0x14e326610>
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_not_transferring at 0x14e053100>
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x14e355d50>>
2023-12-05 14:58:41 DEBUG    Event choose-signer.s3.PutObject: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x14e1ecf50>>
2023-12-05 14:58:41 DEBUG    Event choose-signer.s3.PutObject: calling handler <function set_operation_specific_signer at 0x121919b20>
2023-12-05 14:58:41 DEBUG    Event before-sign.s3.PutObject: calling handler <function remove_arn_from_signing_path at 0x1219280e0>
2023-12-05 14:58:41 DEBUG    Calculating signature using v4 auth.
2023-12-05 14:58:41 DEBUG    CanonicalRequest:
PUT
/Y79JAL/receipt.jpg

content-md5:b3/Gf4oKmOhG/wJZwygI3g==
host:splitz-receipts.s3.us-east-2.amazonaws.com
x-amz-content-sha256:UNSIGNED-PAYLOAD
x-amz-date:20231205T225841Z

content-md5;host;x-amz-content-sha256;x-amz-date
UNSIGNED-PAYLOAD
2023-12-05 14:58:41 DEBUG    StringToSign:
AWS4-HMAC-SHA256
20231205T225841Z
20231205/us-east-2/s3/aws4_request
cce7b1f50f3197870a5fb47f8bb3e5ecad0307e56805fcbc57c2579a1c229f78
2023-12-05 14:58:41 DEBUG    Signature:
2e0e876ed45c14f6a29ee1e06911a2f27ccea955d433c86bc868ee4c76b2e722
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <function signal_transferring at 0x14e053420>
2023-12-05 14:58:41 DEBUG    Event request-created.s3.PutObject: calling handler <function add_retry_headers at 0x12191bec0>
2023-12-05 14:58:41 DEBUG    Sending http request: <AWSPreparedRequest stream_output=False, method=PUT, url=https://splitz-receipts.s3.us-east-2.amazonaws.com/Y79JAL/receipt.jpg, headers={'User-Agent': b'Boto3/1.28.28 md/Botocore#1.31.28 ua/2.0 os/macos#22.5.0 md/arch#arm64 lang/python#3.11.4 md/pyimpl#CPython cfg/retry-mode#legacy Botocore/1.31.28', 'Content-MD5': b'b3/Gf4oKmOhG/wJZwygI3g==', 'Expect': b'100-continue', 'X-Amz-Date': b'20231205T225841Z', 'X-Amz-Content-SHA256': b'UNSIGNED-PAYLOAD', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIA22SDSZTFZGYUHJ5F/20231205/us-east-2/s3/aws4_request, SignedHeaders=content-md5;host;x-amz-content-sha256;x-amz-date, Signature=2e0e876ed45c14f6a29ee1e06911a2f27ccea955d433c86bc868ee4c76b2e722', 'amz-sdk-invocation-id': b'ceca9cc4-364a-4543-8059-a9882c8f353a', 'amz-sdk-request': b'ttl=20231205T225941Z; attempt=2; max=5', 'Content-Length': '2375038'}>
2023-12-05 14:58:41 DEBUG    Certificate path: /Users/nikhilaggarwal/vsCodeProjects/splitz/venv/lib/python3.11/site-packages/certifi/cacert.pem
2023-12-05 14:58:41 DEBUG    Starting new HTTPS connection (1): splitz-receipts.s3.us-east-2.amazonaws.com:443
2023-12-05 14:58:42 DEBUG    Waiting for 100 Continue response.
2023-12-05 14:58:42 DEBUG    100 Continue response seen, now sending request body.
2023-12-05 14:58:42 DEBUG    https://splitz-receipts.s3.us-east-2.amazonaws.com:443 "PUT /Y79JAL/receipt.jpg HTTP/1.1" 200 0
2023-12-05 14:58:42 DEBUG    Response headers: {'x-amz-id-2': 'jiPZBa/rnJJX70e2texPD5DtiCgi1yrXcAWi9cHdq0Lwr5cSUitrRFankpEdee7S4idtnQmigmhBWnSFvBN/Yg==', 'x-amz-request-id': '9G6HHXHRWH36TKDP', 'Date': 'Tue, 05 Dec 2023 22:58:43 GMT', 'x-amz-server-side-encryption': 'AES256', 'ETag': '"6f7fc67f8a0a98e846ff0259c32808de"', 'Server': 'AmazonS3', 'Content-Length': '0'}
2023-12-05 14:58:42 DEBUG    Response body:
b''
2023-12-05 14:58:42 DEBUG    Event needs-retry.s3.PutObject: calling handler <botocore.retryhandler.RetryHandler object at 0x14e35e950>
2023-12-05 14:58:42 DEBUG    No retry needed.
2023-12-05 14:58:42 DEBUG    Event needs-retry.s3.PutObject: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x14e33b450>>
2023-12-05 14:58:42 DEBUG    S3 request was previously redirected, not redirecting.
2023-12-05 14:58:42 DEBUG    Releasing acquire 0/None
2023-12-05 14:58:42 INFO     room.services.add_receipt_to_s3_room(): Receipt uploaded to Y79JAL folder in S3
2023-12-05 14:58:42 INFO     receipt.services.create_receipt(): Receipt created sucessfully
2023-12-05 16:28:40 INFO     Migrations complete
2023-12-05 16:29:58 INFO     Migrations complete
2023-12-05 16:31:33 INFO     Migrations complete
2023-12-05 16:31:37 INFO     Migrations complete
2023-12-05 16:32:58 INFO     Migrations complete
2023-12-05 16:34:33 INFO     Migrations complete
2023-12-05 16:35:08 INFO     Migrations complete
2023-12-05 16:36:22 INFO     Migrations complete
2023-12-05 16:37:25 INFO     Migrations complete
2023-12-05 16:37:31 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - (psycopg2.errors.ForeignKeyViolation) insert or update on table "items" violates foreign key constraint "items_receipt_id_fkey"
DETAIL:  Key (receipt_id)=(2) is not present in table "receipts".

[SQL: INSERT INTO items (item_name, item_quantity, item_cost, receipt_id) VALUES (%(item_name)s, %(item_quantity)s, %(item_cost)s, %(receipt_id)s) RETURNING items.id]
[parameters: {'item_name': 'New item 1', 'item_quantity': 2, 'item_cost': 34.99, 'receipt_id': 2}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2023-12-05 16:40:19 INFO     Migrations complete
2023-12-05 16:40:24 INFO     Migrations complete
2023-12-05 16:40:27 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 16:42:18 INFO     Migrations complete
2023-12-05 16:42:25 INFO     Migrations complete
2023-12-05 16:42:26 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 16:43:18 INFO     Migrations complete
2023-12-05 16:43:19 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 16:43:33 INFO     Migrations complete
2023-12-05 16:43:34 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 19:09:28 INFO     Migrations complete
2023-12-05 19:09:29 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 19:11:55 INFO     Migrations complete
2023-12-05 19:11:57 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 19:13:06 INFO     receipt.services.add_items_to_receipt(): Items added to receipt sucessfully
2023-12-05 19:16:00 INFO     user.services.get_user(): Sucessfully queried record
2023-12-05 19:17:05 INFO     Migrations complete
2023-12-05 19:17:24 INFO     receipt.services.add_items_to_receipt(): Items added to receipt sucessfully
2023-12-05 19:18:33 INFO     Migrations complete
2023-12-05 19:18:44 INFO     receipt.services.add_items_to_receipt(): Items added to receipt sucessfully
2023-12-05 19:18:58 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 19:20:25 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 19:22:06 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 19:22:59 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
2023-12-05 19:26:38 INFO     Migrations complete
2023-12-05 19:26:48 ERROR    receipt.services.add_items_to_receipt(): Error adding items to receipt - 'NoneType' object has no attribute 'items'
